<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        .move {
            width: 100px;
            height: 100px;
            background: red;
            position: absolute;
        }
    </style>
</head>

<body>
    <div class="move">

    </div>
    <script>
        var moveElem = document.querySelector('.move'); //待拖拽元素      

        var dragging; //是否激活拖拽状态
        var tLeft, tTop; //鼠标按下时相对于选中元素的位移

        //监听鼠标按下事件
        document.addEventListener('mousedown', function (e) {
            console.log(e.target, moveElem);
            if (e.target == moveElem) {
                dragging = true; //激活拖拽状态
                var moveElemRect = moveElem.getBoundingClientRect();
                tLeft = e.clientX - moveElemRect.left; 
                tTop = e.clientY - moveElemRect.top; 
            }
        });

        //监听鼠标放开事件
        document.addEventListener('mouseup', function (e) {
            dragging = false;
        });

        //监听鼠标移动事件
        document.addEventListener('mousemove', function (e) {
            if (dragging) {
                var moveX = e.clientX - tLeft,
                    moveY = e.clientY - tTop;
                
                moveElem.style.left = moveX + 'px';
                moveElem.style.top = moveY + 'px';

            }
        });
    </script>
</body>

</html>