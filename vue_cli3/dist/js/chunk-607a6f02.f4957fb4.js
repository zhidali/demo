(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-607a6f02"],{"03eb":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i("23f7"),o="/backend-api/common/get-city-list",r="/backend-api/project/project-group/get-project-dropdown-list",n="/backend-api/common/get-district-list",s="/backend-api/common/get-project-type-list",c="/backend-api/project/bd-project-img/get-imgs-by-group-id",u="/backend-api/project/cj-project-img/get-imgs-by-group-id",l="/backend-api/common/get-project-config",d="/backend-api/project/project-img-audit/audit",h="/backend-api/project/cj-project-img/close-task",p=function(t){return a.axios.get(o,{params:t})},g=function(t){return a.axios.get(r,{params:t})},m=function(t){return a.axios.get(n,{params:t})},f=function(t){return a.axios.get(s,{params:t})},b=function(t){return a.axios.get(c,{params:t})},v=function(t){return a.axios.get(u,{params:t})},x=function(t){return a.axios.post(l,t)},_=function(t){return a.axios.post(d,t)},y=function(t){return a.axios.get(h,{params:t})},w={getCityListData:p,getBuildNameData:g,getCompetingPhotoData:b,getJulivePhotoData:v,getGeneraInfoData:x,getPhotoAuditData:_,closeTaskData:y,getDistrictInfoData:m,getProjectTypeData:f};e.default=w},"06c7":function(t,e,i){"use strict";var a=i("2eb1");i("09ee"),i("1a8c"),i("f4a0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("63ff");var o=a(i("57f0")),r=a(i("5f62")),n=a(i("a40e")),s=a(i("03eb")),c={name:"photoReview",data:function(){return{pageVal:"",pageOptions:r.default.pagesSelect,searchLoading:!1,searchForm:{cityVal:"",cityOpations:[],isComblen:"",isComblenOpations:[],buildName:{project_id:"",id:""},buildOpations:[],areaName:"",areaOpations:[],businessName:"",businessOpations:[]},checkAll:!0,checkedCities:[],buildCities:[],photoCheckAll:!1,photoAudioCities:[1],photosCities:[],photoTypesAll:!0,photoTypecCheckCities:[],photoTypesCitites:[],resouceAll:!0,resourceCheckCities:[],resourceOriginCities:[],searchList:{},refalsh:0,currentPage:1}},created:function(){this.getBuildingGeneraInfoData()},mounted:function(){this.getCityData("noInitData","notSelectFiirst"),this.remoteDistrictInfo(),this.remoteProjectType(),this.pageVal=this.pageOptions[0].url},methods:{urlChange:function(t){window.location.href=t},searchMethod:function(){var t=this;this.searchList={id:this.searchForm.buildName.id||this.$route.query.id||"",city_id:this.searchForm.cityVal,is_cooperate:this.searchForm.isComblen,state:this.checkedCities,audit_status:this.photoAudioCities,img_type:this.photoTypecCheckCities,source:this.resourceCheckCities,district_id:this.searchForm.areaName,project_type:this.searchForm.businessName,page:1},setTimeout((function(){t.searchList.city_id=t.searchForm.cityVal}),0),console.log(this.searchForm.cityVal),console.log(this.searchList),this.currentPage+=1},getBuildingGeneraInfoData:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function e(){var i,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={type:[17,18,19,20,21],city_id:t.searchForm.cityVal},e.prev=1,e.next=4,s.default.getGeneraInfoData(i);case 4:a=e.sent,o=a.data,0===o.code&&(t.searchForm.isComblenOpations=o.data.is_cooperate,t.buildCities=o.data.group_audit,t.checkAll&&t.buildCities.map((function(e){t.checkedCities.push(e.id)})),t.photosCities=o.data.pic_audit,t.photoCheckAll&&t.photosCities.map((function(e){t.photoAudioCities.push(e.id)})),t.photoTypesCitites=o.data.img_type,t.photoTypesAll&&t.photoTypesCitites.map((function(e){t.photoTypecCheckCities.push(e.id)})),t.resourceOriginCities=o.data.source_list,t.resouceAll&&t.resourceOriginCities.map((function(e){t.resourceCheckCities.push(e.id)}))),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()},blurGetCity:function(){console.log(this.searchForm.cityOpations),this.getCityData("initData","notSelectFiirst")},getCityData:function(t,e){var i=this;return(0,o.default)(regeneratorRuntime.mark((function a(){var o,r,n,c,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o={q:"",type:"1"},a.prev=1,a.next=4,s.default.getCityListData(o);case 4:r=a.sent,n=r.data,0===n.code&&(i.searchForm.cityOpations=n.data,"notSelectFiirst"==e&&"initData"===t?i.$route.query.city_id?(c=i.searchForm.cityOpations.find((function(t){return t.id===Number(i.$route.query.city_id)})),i.searchForm.cityVal=c.id,i.searchMethod()):(i.searchForm.cityVal=i.searchForm.cityOpations[0].id,i.searchMethod()):"notSelectFiirst"==e&&"initData"!==t&&(i.$route.query.city_id?(u=i.searchForm.cityOpations.find((function(t){return t.id===Number(i.$route.query.city_id)})),i.searchForm.cityVal=u.id,i.searchMethod()):(i.searchForm.cityVal=i.searchForm.cityOpations[0].id,i.searchMethod()))),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](1),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[1,9]])})))()},cityValChange:function(t){this.searchForm.areaName="",this.searchForm.businessName="",this.searchForm.buildName={id:"",project_id:""},this.searchForm.areaOpations=[],this.searchForm.businessOpations=[],this.searchForm.buildOpations=[],this.searchForm.cityVal>"0"?(this.remoteDistrictInfo(),this.remoteProjectType()):(this.searchForm.areaOpations=[],this.searchForm.businessOpations=[]),this.$route.query.id&&this.$router.push({path:"/review/photoReview",query:{city_id:this.$route.query.city_id,audit_obj:this.$route.query.audit_obj}})},projectFocus:function(){this.remoteBuildName()},remoteBuildName:function(t){var e=this;return(0,o.default)(regeneratorRuntime.mark((function i(){var a,o,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e.searchLoading=!0,a={q:t,city_id:e.searchForm.cityVal,result_type:"3"},i.prev=2,i.next=5,s.default.getBuildNameData(a);case 5:o=i.sent,r=o.data,0===r.code?(e.searchLoading=!1,e.searchForm.buildOpations=r.data):e.searchLoading=!1,i.next=14;break;case 10:i.prev=10,i.t0=i["catch"](2),console.log(i.t0),e.searchLoading=!1;case 14:case"end":return i.stop()}}),i,null,[[2,10]])})))()},blurDistrictInfo:function(){this.remoteDistrictInfo()},remoteDistrictInfo:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function e(){var i,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.searchForm.cityVal>"0")){e.next=15;break}return i={q:t.searchForm.areaName,city_id:t.searchForm.cityVal,status:1},e.prev=2,e.next=5,s.default.getDistrictInfoData(i);case 5:a=e.sent,o=a.data,0===o.code&&(t.searchForm.areaOpations=o.data),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),console.log(e.t0);case 13:e.next=16;break;case 15:t.searchForm.areaOpations=[];case 16:case"end":return e.stop()}}),e,null,[[2,10]])})))()},focusBusinessInfo:function(){this.remoteProjectType()},remoteProjectType:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function e(){var i,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.searchForm.cityVal>"0")){e.next=15;break}return i={q:t.searchForm.businessName,city_id:t.searchForm.cityVal},e.prev=2,e.next=5,s.default.getProjectTypeData(i);case 5:a=e.sent,o=a.data,0===o.code&&(t.searchForm.businessOpations=o.data),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),console.log(e.t0);case 13:e.next=16;break;case 15:t.searchForm.businessOpations=[];case 16:case"end":return e.stop()}}),e,null,[[2,10]])})))()},handleCheckAllChange:function(t,e){var i=[];"build"===e?(this.buildCities.map((function(t){i.push(t.id)})),this.checkedCities=t?i:[]):"photoAudit"===e?(this.photosCities.map((function(t){i.push(t.id)})),this.photoAudioCities=t?i:[]):"photoTypes"===e?(this.photoTypesCitites.map((function(t){i.push(t.id)})),this.photoTypecCheckCities=t?i:[]):"resourceOrigin"===e&&(this.resourceOriginCities.map((function(t){i.push(t.id)})),this.resourceCheckCities=t?i:[])},handleSingleChange:function(t,e){var i=t.length;"build"===e?this.checkAll=i===this.buildCities.length:"photoAudit"===e?this.photoCheckAll=i===this.photosCities.length:"photoTypes"===e?this.photoTypesAll=i===this.photoTypesCitites.length:"resourceOrigin"===e&&(this.resouceAll=i===this.resourceOriginCities.length)},resetSearch:function(){if(this.searchForm={cityVal:this.searchForm.cityOpations[0].id,cityOpations:this.searchForm.cityOpations,isComblen:"",isComblenOpations:this.searchForm.isComblenOpations,buildName:{id:"",project_id:""},buildOpations:[],areaName:"",areaOpations:[],businessName:"",businessOpations:[]},this.checkAll=!0,this.checkedCities=[],this.photoCheckAll=!1,this.photoAudioCities=[1],this.photoTypesAll=!0,this.photoTypecCheckCities=[],this.refalsh+=1,this.resouceAll=!0,this.resourceCheckCities=[],this.$route.query.city_id){var t=this.$router.resolve({path:"/review/photoReview"});window.location.href=t.href}}},components:{PhotoListShow:n.default}};e.default=c},"09ee":function(t,e,i){"use strict";var a=i("91fe"),o=i("407d").find,r=i("5751"),n=i("6885"),s="find",c=!0,u=n(s);s in[]&&Array(1)[s]((function(){c=!1})),a({target:"Array",proto:!0,forced:c||!u},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),r(s)},"0bbb":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var a=n(i("25bf")),o=n(i("9789")),r=n(i("97ee"));function n(t){return t&&t.__esModule?t:{default:t}}function s(t){return(0,a.default)(t)||(0,o.default)(t)||(0,r.default)()}},"0e8a":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content-box"},[i("div",{staticClass:"build-box clear-float"},[i("div",{staticClass:"building-left-box"},[i("p",{staticClass:"font-box"},[i("el-button",{directives:[{name:"show",rawName:"v-show",value:t.buildingAudit.isHavePre,expression:"buildingAudit.isHavePre"}],attrs:{type:"text"},on:{click:t.preProjectInfo}},[t._v(" 上一个楼盘 ")]),i("span",[t._v("当前审核楼盘: "+t._s(t.buildingAudit.projectName))]),i("el-button",{directives:[{name:"show",rawName:"v-show",value:t.buildingAudit.isHaveNext,expression:"buildingAudit.isHaveNext"}],attrs:{type:"text"},on:{click:t.nextProjectInfo}},[t._v(" 下一个楼盘 ")])],1),i("p",[t._v("共"+t._s(t.buildingAudit.buildingNum)+"个楼盘，未审核"+t._s(t.buildingAudit.unAuditNum)+"个，部分审核"+t._s(t.buildingAudit.someAuditNum)+"个，全部审核"+t._s(t.buildingAudit.allAuditNum)+"个")])]),i("div",{staticClass:"building-right-box"},[i("p",{staticClass:"btn-box"},[t.iscloseBtnShow?i("el-button",{attrs:{type:"primary"},on:{click:t.closeTask}},[t._v(" 关闭任务 ")]):t._e(),i("span",[t._v("批量操作：")]),i("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.batchPassBtnLoading,expression:"batchPassBtnLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"success"},on:{click:function(e){return t.batchPassAudit("success")}}},[t._v(" 批量通过 ")]),i("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.batchNoBtnLoading,expression:"batchNoBtnLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"danger"},on:{click:function(e){return t.batchPassAudit("pass")}}},[t._v(" 批量不通过 ")])],1),i("p",{staticClass:"font-style"},[t._v("批量操作只对未审核状态的数据有效")])])]),i("div",{staticClass:"photo-show-area clear-float"},[i("div",{staticClass:"competing-photo-area"},[t.competingPageination.totalNum>0?i("div",t._l(t.competingPhotoData,(function(e,a){return i("div",{key:a,staticClass:"photo-continaer"},[i("h2",[t._v(t._s(e.img_type))]),i("div",{staticClass:"img-box clear-float"},[i("ul",t._l(e.img_list,(function(e){return i("li",{key:e.id},[i("p",{staticClass:"text-content clear-float"},[i("span",[t._v("数据源："+t._s(e.source_text)+" (")]),i("span",{staticClass:"no-warp"},[t._v(t._s(e.project_name)+")")])]),i("span",{directives:[{name:"show",rawName:"v-show",value:1===e.is_task,expression:"imgUrl.is_task === 1 ? true : false"}],staticClass:"font-position"},[t._v("新")]),i("el-image",{staticStyle:{width:"240px",height:"180px",border:"1px solid #f5f4f4","margin-right":"10px"},attrs:{src:e.img_url_show,fit:"scale-down",alt:e.title},on:{click:function(i){return t.openPhotoViewer(e.img_url_show)}}}),i("p",{staticClass:"audit-result"},[i("span",[t._v("审核结果: "+t._s(t.objStatus[e.audit_status][2]))]),i("el-button",{directives:[{name:"show",rawName:"v-show",value:t.objStatus[e.audit_status][0],expression:"objStatus[imgUrl.audit_status][0]"}],attrs:{size:"mini",type:"success"},on:{click:function(i){return t.passAudit(e.source,e.id,"competing","success",e)}}},[t._v(" 通过 ")]),i("el-button",{directives:[{name:"show",rawName:"v-show",value:t.objStatus[e.audit_status][1],expression:"objStatus[imgUrl.audit_status][1]"}],attrs:{size:"mini",type:"danger"},on:{click:function(i){return t.passAudit(e.source,e.id,"competing","pass",e)}}},[t._v(" 不通过 ")])],1)],1)})),0)])])})),0):i("div",{staticClass:"no-photo-info"},[i("h2",[t._v("当前条件下无图片信息")])]),t.competingPageination.competingDataShow?i("p",{staticClass:"data-show-style"},[t._v(" 第"+t._s(t.competingPageination.startNum)+"-"+t._s(t.competingPageination.endNum)+",共"+t._s(t.competingPageination.totalNum)+"条数据 ")]):t._e(),i("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.competingPageination.totalNum,"page-size":t.competingPageination.pageSize,"hide-on-single-page":!0,"current-page":t.competingPageination.currentPage},on:{"update:currentPage":function(e){return t.$set(t.competingPageination,"currentPage",e)},"update:current-page":function(e){return t.$set(t.competingPageination,"currentPage",e)},"current-change":function(e){return t.pageChange(e,"competing")}}})],1),i("div",{staticClass:"competing-photo-area julive-photo-area"},[t.julivePageination.totalNum>0?i("div",t._l(t.julivePhotoData,(function(e,a){return i("div",{key:a,staticClass:"photo-continaer"},[i("h2",[t._v(t._s(e.img_type))]),i("div",{staticClass:"img-box clear-float"},[i("ul",t._l(e.img_list,(function(e){return i("li",{key:e.id},[i("p",{staticClass:"text-content clear-float"},[i("span",[t._v("数据源："+t._s(e.source_text)+" (")]),i("span",{staticClass:"no-warp"},[t._v(t._s(e.project_name)+")")])]),i("el-image",{staticStyle:{width:"240px",height:"180px",border:"1px solid #f5f4f4","margin-right":"10px"},attrs:{src:e.img_url_show,fit:"scale-down",alt:e.title},on:{click:function(i){return t.openPhotoViewer(e.img_url_show)}}}),i("p",{staticClass:"audit-result"},[i("span",[t._v("审核结果: "+t._s(t.objStatus[e.audit_status][2]))]),i("el-button",{directives:[{name:"show",rawName:"v-show",value:t.objStatus[e.audit_status][0],expression:"objStatus[imgUrl.audit_status][0]"}],attrs:{size:"mini",type:"success"},on:{click:function(i){return t.passAudit(e.source,e.id,"julive","success",e)}}},[t._v(" 通过 ")]),i("el-button",{directives:[{name:"show",rawName:"v-show",value:t.objStatus[e.audit_status][1],expression:"objStatus[imgUrl.audit_status][1]"}],attrs:{size:"mini",type:"danger"},on:{click:function(i){return t.passAudit(e.source,e.id,"julive","pass",e)}}},[t._v(" 不通过 ")])],1)],1)})),0)])])})),0):i("div",{staticClass:"no-photo-info"},[i("h2",[t._v("当前条件下无图片信息")])]),i("p",{directives:[{name:"show",rawName:"v-show",value:t.julivePageination.juliveDataShow,expression:"julivePageination.juliveDataShow"}],staticClass:"data-show-style"},[t._v(" 第"+t._s(t.julivePageination.startNum)+"-"+t._s(t.julivePageination.endNum)+",共"+t._s(t.julivePageination.totalNum)+"条数据 ")]),i("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.julivePageination.totalNum,"page-size":t.julivePageination.pageSize,"hide-on-single-page":!0,"current-page":t.julivePageination.currentPage},on:{"update:currentPage":function(e){return t.$set(t.julivePageination,"currentPage",e)},"update:current-page":function(e){return t.$set(t.julivePageination,"currentPage",e)},"current-change":function(e){return t.pageChange(e,"julive")}}})],1),t.PhotoIsShow?i("photo-viewew",{attrs:{showViewer:t.PhotoIsShow,urlList:t.urlList},on:{closeViewer:t.closeViewer}}):t._e()],1)])},o=[];i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return o}))},"1a66":function(t,e,i){"use strict";var a=i("2eb1");i("7ae7"),i("86dd"),i("af82"),i("c354"),i("f4a0"),i("9a14"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(i("0bbb"));i("63ff");var r=a(i("57f0")),n=a(i("9ed7")),s=a(i("03eb")),c={props:{searchList:{type:Object,default:function(){return{}}},refalsh:{type:Number,default:0},currentPage:{type:Number,dafault:1}},watch:{searchList:function(t){this.buildingAudit.isHavePre=!1,console.log(t),console.log(this.$route.query.city_id,t.city_id),""!==t.id||Number(this.$route.query.city_id)!=t.city_id?(this.getCompetingPhotoInfo(t),this.getJulivePhotoInfo(t)):this.$route.query.project_id&&this.$route.query.city_id?(t.project_id=this.$route.query.project_id,t.city_id=this.$route.query.city_id,this.getCompetingPhotoInfo(t),this.getJulivePhotoInfo(t)):(this.getCompetingPhotoInfo(t),this.getJulivePhotoInfo(t))},refalsh:function(t){this.getCompetingPhotoInfo(),this.getJulivePhotoInfo()},currentPage:function(t){this.julivePageination.currentPage=1,this.competingPageination.currentPage=1},deep:!0},data:function(){return{PhotoIsShow:!1,propertyGroupId:0,competingPhotoData:[],julivePhotoData:[],urlList:[],competingPageination:{totalNum:0,pageSize:30,startNum:0,endNum:0,competingDataShow:!0,currentPage:1},julivePageination:{totalNum:0,pageSize:20,startNum:0,endNum:0,juliveDataShow:!0,currentPage:1},buildingAudit:{projectName:"",isHavePre:!1,isHaveNext:!1,buildingNum:0,unAuditNum:0,someAuditNum:0,allAuditNum:0},juliveId:"",competHouseArr:[],juliveHouseArr:[],isAuditSuccessCompeting:!0,isAuditSuccessJulive:!0,isAuditPassJulive:!0,isAuditPassCompeting:!0,juliveAuditText:"",competingAuditText:"",objStatus:{1:[!0,!0,"未审核"],2:[!1,!0,"审核通过"],3:[!0,!1,"审核不通过"]},iscloseBtnShow:!0,batchPassBtnLoading:!1,batchNoBtnLoading:!1}},mounted:function(){this.closeIsShow(),this.juliveDataShow(),this.competingDataShow()},updated:function(){this.competingDataShow(this.competingPageination.currentPage),this.juliveDataShow(this.julivePageination.currentPage)},methods:{juliveDataShow:function(t){this.julivePageination.totalNum>0?(this.julivePageination.juliveDataShow=!0,t?(this.julivePageination.startNum=1===t?1:20*(t-1)+1,this.julivePageination.endNum=Math.ceil(this.julivePageination.totalNum/this.julivePageination.pageSize)===t?this.julivePageination.totalNum:20*t):(this.julivePageination.startNum=1,this.julivePageination.endNum=20)):this.julivePageination.juliveDataShow=!1},competingDataShow:function(t){this.competingPageination.totalNum>0?(this.competingPageination.competingDataShow=!0,t?(this.competingPageination.startNum=1===t?1:30*(t-1)+1,this.competingPageination.endNum=Math.ceil(this.competingPageination.totalNum/this.competingPageination.pageSize)===t?this.competingPageination.totalNum:30*t):(this.competingPageination.startNum=1,this.competingPageination.endNum=30)):this.competingPageination.competingDataShow=!1},closeIsShow:function(){this.$route.query.task_state?this.iscloseBtnShow=!0:this.iscloseBtnShow=!1},nextProjectInfo:function(){this.buildingAudit.isHavePre=!0,this.searchList.prev="",this.searchList.next=1,this.searchList.id=this.propertyGroupId,this.getCompetingPhotoInfo(this.searchList),this.getJulivePhotoInfo(this.searchList)},preProjectInfo:function(){this.searchList.prev=1,this.searchList.next="",this.searchList.id=this.propertyGroupId,this.getCompetingPhotoInfo(this.searchList),this.getJulivePhotoInfo(this.searchList)},pageChange:function(t,e){this.searchList.page=t,this.searchList.id=this.propertyGroupId,"competing"===e?this.getCompetingPhotoInfo(this.searchList):"julive"===e&&(this.searchList.project_id=this.juliveId,this.getJulivePhotoInfo(this.searchList),this.dataType="julive")},closeTask:function(){var t=this;return(0,r.default)(regeneratorRuntime.mark((function e(){var i,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={project_id:t.juliveId},e.prev=1,e.next=4,s.default.closeTaskData(i);case 4:a=e.sent,o=a.data,0===o.code&&(t.iscloseBtnShow=!1,t.searchList.project_id=t.$route.query.project_id,t.searchList.city_id=t.$route.query.city_id,t.getCompetingPhotoInfo(t.searchList),t.getJulivePhotoInfo(t.searchList),t.$router.push({path:"/review/photoReview",query:{city_id:t.$route.query.city_id,project_id:t.$route.query.project_id}})),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()},passAudit:function(t,e,i,a,o){var n=this;return(0,r.default)(regeneratorRuntime.mark((function r(){var c,u,l,d,h;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return c=[],u={},c.push(t+"_"+e),l=n.$route.query,"success"===a?u={id:n.propertyGroupId,img_ids:c,audit_status:2,project_id:o.project_id?l.project_id:""}:"pass"===a&&(u={id:n.propertyGroupId,img_ids:c,audit_status:3,project_id:o.project_id?l.project_id:""}),r.prev=5,r.next=8,s.default.getPhotoAuditData(u);case 8:d=r.sent,h=d.data,0===h.code&&("success"===a?"julive"===i?n.$set(o,"audit_status","2"):"competing"===i&&n.$set(o,"audit_status","2"):"pass"===a&&("julive"===i?n.$set(o,"audit_status","3"):"competing"===i&&n.$set(o,"audit_status","3")),1===h.data.is_refresh&&(n.iscloseBtnShow=!1,l.city_id&&(n.searchList.city_id=l.city_id,n.searchList.project_id=l.project_id,n.getCompetingPhotoInfo(n.searchList),n.getJulivePhotoInfo(n.searchList)))),r.next=16;break;case 13:r.prev=13,r.t0=r["catch"](5),console.log(r.t0);case 16:case"end":return r.stop()}}),r,null,[[5,13]])})))()},batchPassAudit:function(t){var e=this;return(0,r.default)(regeneratorRuntime.mark((function i(){var a,o,r,n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e.batchPassBtnLoading=!0,a={},o=e.$route.query,"success"===t?a={id:e.propertyGroupId,img_ids:e.houseIdCheck(),audit_status:2,project_id:o.project_id?o.project_id:""}:"pass"===t&&(a={id:e.propertyGroupId,img_ids:e.houseIdCheck(),audit_status:3,project_id:o.project_id?o.project_id:""}),i.prev=4,i.next=7,s.default.getPhotoAuditData(a);case 7:r=i.sent,n=r.data,0===n.code?(e.batchPassBtnLoading=!1,e.getCompetingPhotoInfo(e.searchList),e.getJulivePhotoInfo(e.searchList),e.$message({message:"审核完成",type:"success"}),1===n.data.is_refresh&&(e.iscloseBtnShow=!1,e.$router.push({path:"/review/photoReview",query:{city_id:e.$route.query.city_id,project_id:e.$route.query.project_id}}))):1012===n.code?e.batchPassBtnLoading=!1:(e.batchPassBtnLoading=!1,e.$message({message:"当前无可操作的数据",type:"warning"})),i.next=16;break;case 12:i.prev=12,i.t0=i["catch"](4),e.batchPassBtnLoading=!1,console.log(i.t0);case 16:case"end":return i.stop()}}),i,null,[[4,12]])})))()},houseIdCheck:function(){var t=[];for(var e in this.competHouseArr){var i=!1;for(var a in this.juliveHouseArr)if(this.juliveHouseArr[a].name==this.competHouseArr[e].name){i=!0;break}i||t.push(this.competHouseArr[e])}t=t.concat(this.juliveHouseArr);var o=[];return this.competHouseArr.forEach((function(t){t.img_list.filter((function(t){"1"===t.audit_status&&o.push(t.source+"_"+t.id)}))})),o},getCompetingPhotoInfo:function(t){var e=this;return(0,r.default)(regeneratorRuntime.mark((function i(){var a,r,n,c;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a={},t&&(a=t),i.prev=2,i.next=5,s.default.getCompetingPhotoData(a);case 5:r=i.sent,n=r.data,0===n.code&&(e.competingPhotoData=n.data.img_data,e.competingPageination.totalNum=n.data.total,e.buildingAudit.projectName=n.data.project_name,e.buildingAudit.isHaveNext=0!==n.data.is_have_next,e.buildingAudit.buildingNum=n.data.audit_total,e.buildingAudit.unAuditNum=n.data.audit_not,e.buildingAudit.someAuditNum=n.data.audit_part,e.buildingAudit.allAuditNum=n.data.audit_yes,e.propertyGroupId=n.data.id,e.competHouseArr=[],n.data.img_data&&n.data.img_data.length>0&&(c=e.competHouseArr).push.apply(c,(0,o.default)(n.data.img_data))),i.next=13;break;case 10:i.prev=10,i.t0=i["catch"](2),console.log(i.t0);case 13:case"end":return i.stop()}}),i,null,[[2,10]])})))()},getJulivePhotoInfo:function(t){var e=this;return(0,r.default)(regeneratorRuntime.mark((function i(){var a,r,n,c;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a={},t&&(a=t),i.prev=2,i.next=5,s.default.getJulivePhotoData(a);case 5:r=i.sent,n=r.data,0===n.code&&(e.julivePhotoData=n.data.img_data,e.julivePageination.totalNum=n.data.total,e.juliveId=n.data.project_id,e.JuliveHouseArr=[],n.data.img_data&&n.data.img_data.length>0&&(c=e.JuliveHouseArr).push.apply(c,(0,o.default)(n.data.img_data))),i.next=13;break;case 10:i.prev=10,i.t0=i["catch"](2),console.log(i.t0);case 13:case"end":return i.stop()}}),i,null,[[2,10]])})))()},openPhotoViewer:function(t){this.urlList=[],this.urlList.push(t),this.PhotoIsShow=!0},closeViewer:function(t){document.body.style.overflow="auto",this.PhotoIsShow=t}},components:{PhotoViewew:n.default}};e.default=c},"25bf":function(t,e,i){"use strict";function a(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},"25ca":function(t,e,i){"use strict";var a=i("0b29"),o=i("ee6f"),r=i("2bba"),n=i("0532"),s=i("684e"),c=i("01d7"),u=i("e28b");t.exports=function(t){var e,i,l,d,h,p,g=o(t),m="function"==typeof this?this:Array,f=arguments.length,b=f>1?arguments[1]:void 0,v=void 0!==b,x=u(g),_=0;if(v&&(b=a(b,f>2?arguments[2]:void 0,2)),void 0==x||m==Array&&n(x))for(e=s(g.length),i=new m(e);e>_;_++)p=v?b(g[_],_):g[_],c(i,_,p);else for(d=x.call(g),h=d.next,i=new m;!(l=h.call(d)).done;_++)p=v?r(d,b,[l.value,_],!0):l.value,c(i,_,p);return i.length=_,i}},"5d5d":function(t,e,i){var a=i("91fe"),o=i("25ca"),r=i("e52f"),n=!r((function(t){Array.from(t)}));a({target:"Array",stat:!0,forced:n},{from:o})},"5f62":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=[{url:"/dist/review/photoReview",text:"图片审核"},{url:"/index.php?r=bd-project-dongtai/index",text:"楼盘动态审核"},{url:"/index.php?r=bd-project-comment%2Findex",text:"用户评论审核"}],o={pagesSelect:a};e.default=o},"6a7e":function(t,e,i){"use strict";var a=i("d74b"),o=i.n(a);o.a},7254:function(t,e,i){var a=i("abd8");e=a(!1),e.push([t.i,".collocation-wrap[data-v-12644b2e]{width:100%;padding:20px 0 0 20px;margin:0 auto;-webkit-box-sizing:border-box;box-sizing:border-box}.collocation-wrap .bread-nav[data-v-12644b2e]{margin-bottom:20px}.collocation-wrap .content-box[data-v-12644b2e]{width:100%;background:#fff;margin-top:20px;padding:20px 20px 20px 30px;-webkit-box-sizing:border-box;box-sizing:border-box}.collocation-wrap .content-box .photo-review-border[data-v-12644b2e]{border-bottom:1px solid #ccc;padding-bottom:10px;-webkit-box-sizing:border-box;box-sizing:border-box}.collocation-wrap .content-box .search-box[data-v-12644b2e]{margin-top:20px}.collocation-wrap .content-box .search-box[data-v-12644b2e] .el-form--inline .el-form-item{margin-right:100px}.collocation-wrap .content-box .search-box .check-box[data-v-12644b2e] .el-checkbox-group{display:inline-block;margin-left:20px}.collocation-wrap .content-box .search-box .check-box[data-v-12644b2e] .el-form-item{margin-bottom:0}.collocation-wrap .content-box .search-box .btn-box[data-v-12644b2e]{text-align:center;margin-top:20px}.collocation-wrap .content-box .search-box .btn-box[data-v-12644b2e] .el-button{width:120px;margin-left:20px}",""]),t.exports=e},"7ae7":function(t,e,i){"use strict";var a=i("91fe"),o=i("f30e"),r=i("a8c9"),n=i("d68d"),s=i("ee6f"),c=i("684e"),u=i("01d7"),l=i("3132"),d=i("b1a1"),h=i("57c4"),p=i("bf98"),g=h("isConcatSpreadable"),m=9007199254740991,f="Maximum allowed index exceeded",b=p>=51||!o((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),v=d("concat"),x=function(t){if(!n(t))return!1;var e=t[g];return void 0!==e?!!e:r(t)},_=!b||!v;a({target:"Array",proto:!0,forced:_},{concat:function(t){var e,i,a,o,r,n=s(this),d=l(n,0),h=0;for(e=-1,a=arguments.length;e<a;e++)if(r=-1===e?n:arguments[e],x(r)){if(o=c(r.length),h+o>m)throw TypeError(f);for(i=0;i<o;i++,h++)i in r&&u(d,h,r[i])}else{if(h>=m)throw TypeError(f);u(d,h++,r)}return d.length=h,d}})},9199:function(t,e,i){"use strict";i.r(e);var a=i("1a66"),o=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=o.a},9789:function(t,e,i){"use strict";function a(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}i("4178"),i("fc88"),i("e350"),i("5d5d"),i("d9a3"),i("3a20"),i("7267"),i("ef8e"),i("252a"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},"97ee":function(t,e,i){"use strict";function a(){throw new TypeError("Invalid attempt to spread non-iterable instance")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},"9d7d":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"collocation-wrap"},[i("el-breadcrumb",{staticClass:"bread-nav",attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",[i("a",{attrs:{href:"/"}},[t._v("首页")])]),i("el-breadcrumb-item",[t._v(" 人工审核 ")])],1),i("el-select",{attrs:{placeholder:"请选择"},on:{change:t.urlChange},model:{value:t.pageVal,callback:function(e){t.pageVal=e},expression:"pageVal"}},t._l(t.pageOptions,(function(t){return i("el-option",{key:t.url,attrs:{label:t.text,value:t.url}})})),1),i("div",{staticClass:"content-box"},[t._m(0),i("div",{staticClass:"search-box"},[i("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.searchForm}},[i("el-form-item",{attrs:{label:"城市:"}},[i("el-select",{attrs:{placeholder:"请选择城市",filterable:""},on:{change:t.cityValChange,focus:t.blurGetCity},model:{value:t.searchForm.cityVal,callback:function(e){t.$set(t.searchForm,"cityVal",e)},expression:"searchForm.cityVal"}},t._l(t.searchForm.cityOpations,(function(t){return i("el-option",{key:t.id,attrs:{label:t.text,value:t.id}})})),1)],1),i("el-form-item",{attrs:{label:"是否合作:"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchForm.isComblen,callback:function(e){t.$set(t.searchForm,"isComblen",e)},expression:"searchForm.isComblen"}},t._l(t.searchForm.isComblenOpations,(function(t){return i("el-option",{key:t.id,attrs:{label:t.text,value:t.id}})})),1)],1),i("el-form-item",{attrs:{label:"楼盘名称:"}},[i("el-select",{attrs:{placeholder:"请选择","value-key":"project_id",filterable:"",remote:"",clearable:"","remote-method":t.remoteBuildName,loading:t.searchLoading},on:{focus:t.projectFocus},model:{value:t.searchForm.buildName,callback:function(e){t.$set(t.searchForm,"buildName",e)},expression:"searchForm.buildName"}},t._l(t.searchForm.buildOpations,(function(t,e){return i("el-option",{key:e,attrs:{label:t.text,value:t}})})),1)],1),i("el-form-item",{attrs:{label:"区域:"}},[i("el-select",{attrs:{placeholder:"请选择",multiple:"",filterable:""},on:{focus:t.blurDistrictInfo},model:{value:t.searchForm.areaName,callback:function(e){t.$set(t.searchForm,"areaName",e)},expression:"searchForm.areaName"}},t._l(t.searchForm.areaOpations,(function(t){return i("el-option",{key:t.id,attrs:{label:t.text,value:t.id}})})),1)],1),i("el-form-item",{attrs:{label:"业态:"}},[i("el-select",{attrs:{placeholder:"请选择",multiple:"",filterable:""},on:{focus:t.focusBusinessInfo},model:{value:t.searchForm.businessName,callback:function(e){t.$set(t.searchForm,"businessName",e)},expression:"searchForm.businessName"}},t._l(t.searchForm.businessOpations,(function(t){return i("el-option",{key:t.id,attrs:{label:t.text,value:t.id}})})),1)],1)],1),i("div",{staticClass:"check-box"},[i("el-form",{attrs:{"label-width":"130px"}},[i("el-form-item",{attrs:{label:"楼盘组审核状态："}},[i("el-checkbox",{on:{change:function(e){return t.handleCheckAllChange(e,"build")}},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}},[t._v(" 不限 ")]),i("el-checkbox-group",{on:{change:function(e){return t.handleSingleChange(e,"build")}},model:{value:t.checkedCities,callback:function(e){t.checkedCities=e},expression:"checkedCities"}},t._l(t.buildCities,(function(e){return i("el-checkbox",{key:e.id,attrs:{label:e.id}},[t._v(" "+t._s(e.text)+" ")])})),1)],1),i("el-form-item",{attrs:{label:"图片审核结果："}},[i("el-checkbox",{on:{change:function(e){return t.handleCheckAllChange(e,"photoAudit")}},model:{value:t.photoCheckAll,callback:function(e){t.photoCheckAll=e},expression:"photoCheckAll"}},[t._v(" 不限 ")]),i("el-checkbox-group",{on:{change:function(e){return t.handleSingleChange(e,"photoAudit")}},model:{value:t.photoAudioCities,callback:function(e){t.photoAudioCities=e},expression:"photoAudioCities"}},t._l(t.photosCities,(function(e){return i("el-checkbox",{key:e.id,attrs:{label:e.id}},[t._v(" "+t._s(e.text)+" ")])})),1)],1),i("el-form-item",{attrs:{label:"图片类型："}},[i("el-checkbox",{on:{change:function(e){return t.handleCheckAllChange(e,"photoTypes")}},model:{value:t.photoTypesAll,callback:function(e){t.photoTypesAll=e},expression:"photoTypesAll"}},[t._v(" 不限 ")]),i("el-checkbox-group",{on:{change:function(e){return t.handleSingleChange(e,"photoTypes")}},model:{value:t.photoTypecCheckCities,callback:function(e){t.photoTypecCheckCities=e},expression:"photoTypecCheckCities"}},t._l(t.photoTypesCitites,(function(e){return i("el-checkbox",{key:e.id,attrs:{label:e.id}},[t._v(" "+t._s(e.text)+" ")])})),1)],1),i("el-form-item",{attrs:{label:"数据源："}},[i("el-checkbox",{on:{change:function(e){return t.handleCheckAllChange(e,"resourceOrigin")}},model:{value:t.resouceAll,callback:function(e){t.resouceAll=e},expression:"resouceAll"}},[t._v(" 不限 ")]),i("el-checkbox-group",{on:{change:function(e){return t.handleSingleChange(e,"resourceOrigin")}},model:{value:t.resourceCheckCities,callback:function(e){t.resourceCheckCities=e},expression:"resourceCheckCities"}},t._l(t.resourceOriginCities,(function(e){return i("el-checkbox",{key:e.id,attrs:{label:e.id}},[t._v(" "+t._s(e.text)+" ")])})),1)],1)],1),i("div",{staticClass:"btn-box"},[i("el-button",{on:{click:t.resetSearch}},[t._v("重置")]),i("el-button",{attrs:{type:"primary"},on:{click:t.searchMethod}},[t._v(" 搜索 ")])],1)],1)],1)]),i("photo-list-show",{attrs:{searchList:t.searchList,refalsh:t.refalsh,currentPage:t.currentPage}})],1)},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"photo-review-border"},[i("h2",[t._v("图片审核")])])}];i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return o}))},a1e7:function(t,e,i){var a=i("a3b2");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("85cb").default;o("454f82ae",a,!0,{sourceMap:!1,shadowMode:!1})},a3b2:function(t,e,i){var a=i("abd8");e=a(!1),e.push([t.i,'.build-box[data-v-2dc1dddb]{width:100%;background:#ebebeb}.build-box .building-left-box[data-v-2dc1dddb]{float:left;font-size:14px;color:#666;padding:10px;-webkit-box-sizing:border-box;box-sizing:border-box}.build-box .building-left-box .font-box[data-v-2dc1dddb]{margin:10px 0 12px}.build-box .building-right-box[data-v-2dc1dddb]{float:right;font-size:14px;padding:10px;-webkit-box-sizing:border-box;box-sizing:border-box;color:#666}.build-box .building-right-box .btn-box[data-v-2dc1dddb]{margin:10px 0}.build-box .building-right-box .font-style[data-v-2dc1dddb]{float:right;margin-right:74px}.photo-show-area[data-v-2dc1dddb]{margin-top:20px;display:-webkit-box;display:-ms-flexbox;display:flex}.photo-show-area .competing-photo-area[data-v-2dc1dddb]{width:764px}.photo-show-area .competing-photo-area .photo-continaer[data-v-2dc1dddb]{margin-top:30px}.photo-show-area .competing-photo-area .photo-continaer h3[data-v-2dc1dddb]{margin-bottom:10px}.photo-show-area .competing-photo-area .photo-continaer .img-box li[data-v-2dc1dddb]{float:left;position:relative;margin-top:20px}.photo-show-area .competing-photo-area .photo-continaer .img-box li .font-position[data-v-2dc1dddb]{position:absolute;top:20;left:0;width:20px;height:20px;border-radius:2px;background:#92aef7;color:#fff;text-align:center;z-index:2}.photo-show-area .competing-photo-area .photo-continaer .img-box li .text-content[data-v-2dc1dddb]{margin-bottom:10px;color:#666}.photo-show-area .competing-photo-area .photo-continaer .img-box li .text-content span[data-v-2dc1dddb]{float:left}.photo-show-area .competing-photo-area .photo-continaer .img-box li .text-content .no-warp[data-v-2dc1dddb]{width:150px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.photo-show-area .competing-photo-area .photo-continaer .img-box li .audit-result[data-v-2dc1dddb]{margin-top:10px}.photo-show-area .competing-photo-area .photo-continaer .img-box li .audit-result[data-v-2dc1dddb] .el-button{margin-left:10px}.photo-show-area .julive-photo-area[data-v-2dc1dddb]{-webkit-box-flex:1;-ms-flex:1;flex:1}.photo-show-area .no-photo-info[data-v-2dc1dddb]{width:100%}.photo-show-area .no-photo-info h2[data-v-2dc1dddb]{text-align:center}.photo-show-area .data-show-style[data-v-2dc1dddb]{font-size:14px;margin-top:20px}.photo-show-area[data-v-2dc1dddb] .el-pagination{margin:40px 0;text-align:center}.clear-float[data-v-2dc1dddb]:after{display:block;clear:both;height:0;content:"";visibility:hidden;overflow:hidden}',""]),t.exports=e},a40e:function(t,e,i){"use strict";i.r(e);var a=i("0e8a"),o=i("9199");for(var r in o)"default"!==r&&function(t){i.d(e,t,(function(){return o[t]}))}(r);i("e720");var n=i("5511"),s=Object(n["a"])(o["default"],a["a"],a["b"],!1,null,"2dc1dddb",null);e["default"]=s.exports},aceb:function(t,e,i){"use strict";i.r(e);var a=i("06c7"),o=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=o.a},b8b3:function(t,e,i){"use strict";i.r(e);var a=i("9d7d"),o=i("aceb");for(var r in o)"default"!==r&&function(t){i.d(e,t,(function(){return o[t]}))}(r);i("6a7e");var n=i("5511"),s=Object(n["a"])(o["default"],a["a"],a["b"],!1,null,"12644b2e",null);e["default"]=s.exports},d74b:function(t,e,i){var a=i("7254");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("85cb").default;o("4436e801",a,!0,{sourceMap:!1,shadowMode:!1})},e720:function(t,e,i){"use strict";var a=i("a1e7"),o=i.n(a);o.a},f4a0:function(t,e,i){"use strict";var a=i("7a23"),o=i("d5dc"),r=i("12d9"),n=i("3d8a"),s=i("f28d"),c=i("67ea"),u=i("60f2"),l=i("7dc7"),d=i("f30e"),h=i("641d"),p=i("65af").f,g=i("4aef").f,m=i("c223").f,f=i("03fa").trim,b="Number",v=o[b],x=v.prototype,_=c(h(x))==b,y=function(t){var e,i,a,o,r,n,s,c,u=l(t,!1);if("string"==typeof u&&u.length>2)if(u=f(u),e=u.charCodeAt(0),43===e||45===e){if(i=u.charCodeAt(2),88===i||120===i)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:a=2,o=49;break;case 79:case 111:a=8,o=55;break;default:return+u}for(r=u.slice(2),n=r.length,s=0;s<n;s++)if(c=r.charCodeAt(s),c<48||c>o)return NaN;return parseInt(r,a)}return+u};if(r(b,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var w,C=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof C&&(_?d((function(){x.valueOf.call(i)})):c(i)!=b)?u(new v(y(e)),i,C):y(e)},k=a?p(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),P=0;k.length>P;P++)s(v,w=k[P])&&!s(C,w)&&m(C,w,g(v,w));C.prototype=x,x.constructor=C,n(o,b,C)}}}]);