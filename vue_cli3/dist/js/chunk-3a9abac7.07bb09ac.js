(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a9abac7"],{"0840":function(t,e,o){var a=o("7540");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=o("85cb").default;i("7d1a5d20",a,!0,{sourceMap:!1,shadowMode:!1})},"1f57":function(t,e,o){var a;(function(e,o){t.exports=o()})(0,(function(){function t(t){this.mode=o.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,a=this.data.length;e<a;e++){var i=[],n=this.data.charCodeAt(e);n>65536?(i[0]=240|(1835008&n)>>>18,i[1]=128|(258048&n)>>>12,i[2]=128|(4032&n)>>>6,i[3]=128|63&n):n>2048?(i[0]=224|(61440&n)>>>12,i[1]=128|(4032&n)>>>6,i[2]=128|63&n):n>128?(i[0]=192|(1984&n)>>>6,i[1]=128|63&n):i[0]=n,this.parsedData.push(i)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function e(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}t.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,o=this.parsedData.length;e<o;e++)t.put(this.parsedData[e],8)}},e.prototype={addData:function(e){var o=new t(e);this.dataList.push(o),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,o){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++){this.modules[a]=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[a][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,o),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=e.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,o)},setupPositionProbePattern:function(t,e){for(var o=-1;o<=7;o++)if(!(t+o<=-1||this.moduleCount<=t+o))for(var a=-1;a<=7;a++)e+a<=-1||this.moduleCount<=e+a||(this.modules[t+o][e+a]=0<=o&&o<=6&&(0==a||6==a)||0<=a&&a<=6&&(0==o||6==o)||2<=o&&o<=4&&2<=a&&a<=4)},getBestMaskPattern:function(){for(var t=0,e=0,o=0;o<8;o++){this.makeImpl(!0,o);var a=r.getLostPoint(this);(0==o||t>a)&&(t=a,e=o)}return e},createMovieClip:function(t,e,o){var a=t.createEmptyMovieClip(e,o),i=1;this.make();for(var n=0;n<this.modules.length;n++)for(var r=n*i,l=0;l<this.modules[n].length;l++){var s=l*i,c=this.modules[n][l];c&&(a.beginFill(0,100),a.moveTo(s,r),a.lineTo(s+i,r),a.lineTo(s+i,r+i),a.lineTo(s,r+i),a.endFill())}return a},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=r.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var o=0;o<t.length;o++){var a=t[e],i=t[o];if(null==this.modules[a][i])for(var n=-2;n<=2;n++)for(var l=-2;l<=2;l++)this.modules[a+n][i+l]=-2==n||2==n||-2==l||2==l||0==n&&0==l}},setupTypeNumber:function(t){for(var e=r.getBCHTypeNumber(this.typeNumber),o=0;o<18;o++){var a=!t&&1==(e>>o&1);this.modules[Math.floor(o/3)][o%3+this.moduleCount-8-3]=a}for(o=0;o<18;o++){a=!t&&1==(e>>o&1);this.modules[o%3+this.moduleCount-8-3][Math.floor(o/3)]=a}},setupTypeInfo:function(t,e){for(var o=this.errorCorrectLevel<<3|e,a=r.getBCHTypeInfo(o),i=0;i<15;i++){var n=!t&&1==(a>>i&1);i<6?this.modules[i][8]=n:i<8?this.modules[i+1][8]=n:this.modules[this.moduleCount-15+i][8]=n}for(i=0;i<15;i++){n=!t&&1==(a>>i&1);i<8?this.modules[8][this.moduleCount-i-1]=n:i<9?this.modules[8][15-i-1+1]=n:this.modules[8][15-i-1]=n}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var o=-1,a=this.moduleCount-1,i=7,n=0,l=this.moduleCount-1;l>0;l-=2){6==l&&l--;while(1){for(var s=0;s<2;s++)if(null==this.modules[a][l-s]){var c=!1;n<t.length&&(c=1==(t[n]>>>i&1));var u=r.getMask(e,a,l-s);u&&(c=!c),this.modules[a][l-s]=c,i--,-1==i&&(n++,i=7)}if(a+=o,a<0||this.moduleCount<=a){a-=o,o=-o;break}}}}},e.PAD0=236,e.PAD1=17,e.createData=function(t,o,a){for(var i=u.getRSBlocks(t,o),n=new d,l=0;l<a.length;l++){var s=a[l];n.put(s.mode,4),n.put(s.getLength(),r.getLengthInBits(s.mode,t)),s.write(n)}var c=0;for(l=0;l<i.length;l++)c+=i[l].dataCount;if(n.getLengthInBits()>8*c)throw new Error("code length overflow. ("+n.getLengthInBits()+">"+8*c+")");n.getLengthInBits()+4<=8*c&&n.put(0,4);while(n.getLengthInBits()%8!=0)n.putBit(!1);while(1){if(n.getLengthInBits()>=8*c)break;if(n.put(e.PAD0,8),n.getLengthInBits()>=8*c)break;n.put(e.PAD1,8)}return e.createBytes(n,i)},e.createBytes=function(t,e){for(var o=0,a=0,i=0,n=new Array(e.length),l=new Array(e.length),s=0;s<e.length;s++){var u=e[s].dataCount,d=e[s].totalCount-u;a=Math.max(a,u),i=Math.max(i,d),n[s]=new Array(u);for(var h=0;h<n[s].length;h++)n[s][h]=255&t.buffer[h+o];o+=u;var f=r.getErrorCorrectPolynomial(d),g=new c(n[s],f.getLength()-1),p=g.mod(f);l[s]=new Array(f.getLength()-1);for(h=0;h<l[s].length;h++){var m=h+p.getLength()-l[s].length;l[s][h]=m>=0?p.get(m):0}}var v=0;for(h=0;h<e.length;h++)v+=e[h].totalCount;var b=new Array(v),w=0;for(h=0;h<a;h++)for(s=0;s<e.length;s++)h<n[s].length&&(b[w++]=n[s][h]);for(h=0;h<i;h++)for(s=0;s<e.length;s++)h<l[s].length&&(b[w++]=l[s][h]);return b};for(var o={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},i={L:1,M:0,Q:3,H:2},n={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},r={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){var e=t<<10;while(r.getBCHDigit(e)-r.getBCHDigit(r.G15)>=0)e^=r.G15<<r.getBCHDigit(e)-r.getBCHDigit(r.G15);return(t<<10|e)^r.G15_MASK},getBCHTypeNumber:function(t){var e=t<<12;while(r.getBCHDigit(e)-r.getBCHDigit(r.G18)>=0)e^=r.G18<<r.getBCHDigit(e)-r.getBCHDigit(r.G18);return t<<12|e},getBCHDigit:function(t){var e=0;while(0!=t)e++,t>>>=1;return e},getPatternPosition:function(t){return r.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,o){switch(t){case n.PATTERN000:return(e+o)%2==0;case n.PATTERN001:return e%2==0;case n.PATTERN010:return o%3==0;case n.PATTERN011:return(e+o)%3==0;case n.PATTERN100:return(Math.floor(e/2)+Math.floor(o/3))%2==0;case n.PATTERN101:return e*o%2+e*o%3==0;case n.PATTERN110:return(e*o%2+e*o%3)%2==0;case n.PATTERN111:return(e*o%3+(e+o)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new c([1],0),o=0;o<t;o++)e=e.multiply(new c([1,l.gexp(o)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case o.MODE_NUMBER:return 10;case o.MODE_ALPHA_NUM:return 9;case o.MODE_8BIT_BYTE:return 8;case o.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case o.MODE_NUMBER:return 12;case o.MODE_ALPHA_NUM:return 11;case o.MODE_8BIT_BYTE:return 16;case o.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case o.MODE_NUMBER:return 14;case o.MODE_ALPHA_NUM:return 13;case o.MODE_8BIT_BYTE:return 16;case o.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),o=0,a=0;a<e;a++)for(var i=0;i<e;i++){for(var n=0,r=t.isDark(a,i),l=-1;l<=1;l++)if(!(a+l<0||e<=a+l))for(var s=-1;s<=1;s++)i+s<0||e<=i+s||0==l&&0==s||r==t.isDark(a+l,i+s)&&n++;n>5&&(o+=3+n-5)}for(a=0;a<e-1;a++)for(i=0;i<e-1;i++){var c=0;t.isDark(a,i)&&c++,t.isDark(a+1,i)&&c++,t.isDark(a,i+1)&&c++,t.isDark(a+1,i+1)&&c++,0!=c&&4!=c||(o+=3)}for(a=0;a<e;a++)for(i=0;i<e-6;i++)t.isDark(a,i)&&!t.isDark(a,i+1)&&t.isDark(a,i+2)&&t.isDark(a,i+3)&&t.isDark(a,i+4)&&!t.isDark(a,i+5)&&t.isDark(a,i+6)&&(o+=40);for(i=0;i<e;i++)for(a=0;a<e-6;a++)t.isDark(a,i)&&!t.isDark(a+1,i)&&t.isDark(a+2,i)&&t.isDark(a+3,i)&&t.isDark(a+4,i)&&!t.isDark(a+5,i)&&t.isDark(a+6,i)&&(o+=40);var u=0;for(i=0;i<e;i++)for(a=0;a<e;a++)t.isDark(a,i)&&u++;var d=Math.abs(100*u/e/e-50)/5;return o+=10*d,o}},l={glog:function(t){if(t<1)throw new Error("glog("+t+")");return l.LOG_TABLE[t]},gexp:function(t){while(t<0)t+=255;while(t>=256)t-=255;return l.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},s=0;s<8;s++)l.EXP_TABLE[s]=1<<s;for(s=8;s<256;s++)l.EXP_TABLE[s]=l.EXP_TABLE[s-4]^l.EXP_TABLE[s-5]^l.EXP_TABLE[s-6]^l.EXP_TABLE[s-8];for(s=0;s<255;s++)l.LOG_TABLE[l.EXP_TABLE[s]]=s;function c(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);var o=0;while(o<t.length&&0==t[o])o++;this.num=new Array(t.length-o+e);for(var a=0;a<t.length-o;a++)this.num[a]=t[a+o]}function u(t,e){this.totalCount=t,this.dataCount=e}function d(){this.buffer=[],this.length=0}c.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),o=0;o<this.getLength();o++)for(var a=0;a<t.getLength();a++)e[o+a]^=l.gexp(l.glog(this.get(o))+l.glog(t.get(a)));return new c(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=l.glog(this.get(0))-l.glog(t.get(0)),o=new Array(this.getLength()),a=0;a<this.getLength();a++)o[a]=this.get(a);for(a=0;a<t.getLength();a++)o[a]^=l.gexp(l.glog(t.get(a))+e);return new c(o,0).mod(t)}},u.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],u.getRSBlocks=function(t,e){var o=u.getRsBlockTable(t,e);if(void 0==o)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var a=o.length/3,i=[],n=0;n<a;n++)for(var r=o[3*n+0],l=o[3*n+1],s=o[3*n+2],c=0;c<r;c++)i.push(new u(l,s));return i},u.getRsBlockTable=function(t,e){switch(e){case i.L:return u.RS_BLOCK_TABLE[4*(t-1)+0];case i.M:return u.RS_BLOCK_TABLE[4*(t-1)+1];case i.Q:return u.RS_BLOCK_TABLE[4*(t-1)+2];case i.H:return u.RS_BLOCK_TABLE[4*(t-1)+3];default:return}},d.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var o=0;o<e;o++)this.putBit(1==(t>>>e-o-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var h=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function f(){return"undefined"!=typeof CanvasRenderingContext2D}function g(){var t=!1,e=navigator.userAgent;if(/android/i.test(e)){t=!0;var o=e.toString().match(/android ([0-9]\.[0-9])/i);o&&o[1]&&(t=parseFloat(o[1]))}return t}var p=function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){var e=this._htOption,o=this._el,a=t.getModuleCount();Math.floor(e.width/a),Math.floor(e.height/a);function i(t,e){var o=document.createElementNS("http://www.w3.org/2000/svg",t);for(var a in e)e.hasOwnProperty(a)&&o.setAttribute(a,e[a]);return o}this.clear();var n=i("svg",{viewBox:"0 0 "+String(a)+" "+String(a),width:"100%",height:"100%",fill:e.colorLight});n.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),o.appendChild(n),n.appendChild(i("rect",{fill:e.colorLight,width:"100%",height:"100%"})),n.appendChild(i("rect",{fill:e.colorDark,width:"1",height:"1",id:"template"}));for(var r=0;r<a;r++)for(var l=0;l<a;l++)if(t.isDark(r,l)){var s=i("use",{x:String(l),y:String(r)});s.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),n.appendChild(s)}},t.prototype.clear=function(){while(this._el.hasChildNodes())this._el.removeChild(this._el.lastChild)},t}(),m="svg"===document.documentElement.tagName.toLowerCase(),v=m?p:f()?function(){function t(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}if(this._android&&this._android<=2.1){var e=1/window.devicePixelRatio,o=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(t,a,i,n,r,l,s,c,u){if("nodeName"in t&&/img/i.test(t.nodeName))for(var d=arguments.length-1;d>=1;d--)arguments[d]=arguments[d]*e;else"undefined"==typeof c&&(arguments[1]*=e,arguments[2]*=e,arguments[3]*=e,arguments[4]*=e);o.apply(this,arguments)}}function a(t,e){var o=this;if(o._fFail=e,o._fSuccess=t,null===o._bSupportDataURI){var a=document.createElement("img"),i=function(){o._bSupportDataURI=!1,o._fFail&&o._fFail.call(o)},n=function(){o._bSupportDataURI=!0,o._fSuccess&&o._fSuccess.call(o)};return a.onabort=i,a.onerror=i,a.onload=n,void(a.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}!0===o._bSupportDataURI&&o._fSuccess?o._fSuccess.call(o):!1===o._bSupportDataURI&&o._fFail&&o._fFail.call(o)}var i=function(t,e){this._bIsPainted=!1,this._android=g(),this._htOption=e,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=e.width,this._elCanvas.height=e.height,t.appendChild(this._elCanvas),this._el=t,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return i.prototype.draw=function(t){var e=this._elImage,o=this._oContext,a=this._htOption,i=t.getModuleCount(),n=a.width/i,r=a.height/i,l=Math.round(n),s=Math.round(r);e.style.display="none",this.clear();for(var c=0;c<i;c++)for(var u=0;u<i;u++){var d=t.isDark(c,u),h=u*n,f=c*r;o.strokeStyle=d?a.colorDark:a.colorLight,o.lineWidth=1,o.fillStyle=d?a.colorDark:a.colorLight,o.fillRect(h,f,n,r),o.strokeRect(Math.floor(h)+.5,Math.floor(f)+.5,l,s),o.strokeRect(Math.ceil(h)-.5,Math.ceil(f)-.5,l,s)}this._bIsPainted=!0},i.prototype.makeImage=function(){this._bIsPainted&&a.call(this,t)},i.prototype.isPainted=function(){return this._bIsPainted},i.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},i.prototype.round=function(t){return t?Math.floor(1e3*t)/1e3:t},i}():function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){for(var e=this._htOption,o=this._el,a=t.getModuleCount(),i=Math.floor(e.width/a),n=Math.floor(e.height/a),r=['<table style="border:0;border-collapse:collapse;">'],l=0;l<a;l++){r.push("<tr>");for(var s=0;s<a;s++)r.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+i+"px;height:"+n+"px;background-color:"+(t.isDark(l,s)?e.colorDark:e.colorLight)+';"></td>');r.push("</tr>")}r.push("</table>"),o.innerHTML=r.join("");var c=o.childNodes[0],u=(e.width-c.offsetWidth)/2,d=(e.height-c.offsetHeight)/2;u>0&&d>0&&(c.style.margin=d+"px "+u+"px")},t.prototype.clear=function(){this._el.innerHTML=""},t}();function b(t,e){for(var o=1,a=w(t),n=0,r=h.length;n<=r;n++){var l=0;switch(e){case i.L:l=h[n][0];break;case i.M:l=h[n][1];break;case i.Q:l=h[n][2];break;case i.H:l=h[n][3];break}if(a<=l)break;o++}if(o>h.length)throw new Error("Too long data");return o}function w(t){var e=encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return e.length+(e.length!=t?3:0)}return a=function(t,e){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:i.H},"string"===typeof e&&(e={text:e}),e)for(var o in e)this._htOption[o]=e[o];"string"==typeof t&&(t=document.getElementById(t)),this._htOption.useSVG&&(v=p),this._android=g(),this._el=t,this._oQRCode=null,this._oDrawing=new v(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)},a.prototype.makeCode=function(t){this._oQRCode=new e(b(t,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(t),this._oQRCode.make(),this._el.title=t,this._oDrawing.draw(this._oQRCode),this.makeImage()},a.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},a.prototype.clear=function(){this._oDrawing.clear()},a.CorrectLevel=i,a}))},"30c9":function(t,e,o){var a=o("57c4"),i=a("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(o){try{return e[i]=!1,"/./"[t](e)}catch(a){}}return!1}},"335d":function(t,e,o){"use strict";o.r(e);var a=o("802d"),i=o("e726");for(var n in i)"default"!==n&&function(t){o.d(e,t,(function(){return i[t]}))}(n);o("95ba");var r=o("5511"),l=Object(r["a"])(i["default"],a["a"],a["b"],!1,null,"23a575f7",null);e["default"]=l.exports},3547:function(t,e,o){"use strict";var a=o("91fe"),i=o("e1c9"),n=o("3193"),r=o("30c9");a({target:"String",proto:!0,forced:!r("includes")},{includes:function(t){return!!~String(n(this)).indexOf(i(t),arguments.length>1?arguments[1]:void 0)}})},"518f":function(t,e,o){"use strict";function a(t){if(Array.isArray(t))return t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},5355:function(t,e,o){"use strict";function a(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var o=[],a=!0,i=!1,n=void 0;try{for(var r,l=t[Symbol.iterator]();!(a=(r=l.next()).done);a=!0)if(o.push(r.value),e&&o.length===e)break}catch(s){i=!0,n=s}finally{try{a||null==l["return"]||l["return"]()}finally{if(i)throw n}}return o}}o("4178"),o("fc88"),o("e350"),o("d9a3"),o("3a20"),o("7267"),o("ef8e"),o("252a"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},"5a3e":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var a=r(o("518f")),i=r(o("5355")),n=r(o("b74d"));function r(t){return t&&t.__esModule?t:{default:t}}function l(t,e){return(0,a.default)(t)||(0,i.default)(t,e)||(0,n.default)()}},"6b56":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.collocationConfAccess=e.collocationStatus=void 0;var a=[{value:1,text:"托管中"},{value:2,text:"未托管"},{value:3,text:"离线中"}];e.collocationStatus=a;var i=["admin-sop","super_admin"];e.collocationConfAccess=i},"6f7b":function(t,e,o){"use strict";var a=o("c571"),i=o.n(a);i.a},7540:function(t,e,o){var a=o("abd8");e=a(!1),e.push([t.i,".dialog-wrap[data-v-23a575f7]{-webkit-box-sizing:border-box;box-sizing:border-box}.dialog-wrap .dialog-form[data-v-23a575f7]{text-align:center}.dialog-wrap .dialog-form .dialog-form-label[data-v-23a575f7]{color:#333;line-height:36px}.dialog-wrap .dialog-form[data-v-23a575f7] .el-input__inner{width:386px;height:36px}.dialog-wrap .counselor-msg-offline[data-v-23a575f7]{padding-left:40px}.dialog-wrap .counselor-msg-offline .counselor-msg-item[data-v-23a575f7]{color:#333;line-height:28px}.dialog-wrap .counselor-msg-offline .counselor-msg-item .span[data-v-23a575f7]{color:#666}.dialog-wrap .qrcode[data-v-23a575f7]{text-align:center;margin:30px auto 10px;width:218px;height:218px;background-color:#d8d8d8}.dialog-wrap .login-success[data-v-23a575f7]{-webkit-box-sizing:border-box;box-sizing:border-box;width:480px;height:220px;background-color:#f4f6f9;margin:38px auto;padding:40px 20px}.dialog-wrap .login-success .login-msg[data-v-23a575f7]{text-align:center}.dialog-wrap .login-success .login-msg .iconcode_success[data-v-23a575f7]{font-size:50px;color:#66d2b4;vertical-align:middle}.dialog-wrap .login-success .login-msg .msg-desc[data-v-23a575f7]{font-size:26px;color:#333;vertical-align:middle}.dialog-wrap .login-success .counselor-msg[data-v-23a575f7]{margin-top:38px}.dialog-wrap .login-success .counselor-msg .p[data-v-23a575f7]{color:#333;line-height:28px}.dialog-wrap .login-success .counselor-msg .p .span[data-v-23a575f7]{color:#666}.dialog-wrap .msg[data-v-23a575f7]{text-align:center;margin-top:8px}[data-v-23a575f7] .el-dialog__header .el-dialog__close{font-size:18px;font-weight:700;color:#222}.el-dialog__footer .cancle-btn[data-v-23a575f7]{width:230px;height:50px;font-size:20px}",""]),t.exports=e},"7a63":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.logoutWechat=e.handoverWechatById=e.setCollocationCount=e.getCollocationList=e.getNotColloCounselor=e.employeeLoginInfo=e.getLoginStatus=e.getWechatQrcode=e.getCity=void 0;var a=o("23f7"),i="/backend-api/select2/select2/get-employee-for-wechat",n="/backend-api/wechat-trusteeship/wechat-login",r="/backend-api/wechat-trusteeship/login-again",l="/backend-api/wechat-trusteeship/login-polling",s="/backend-api/wechat-trusteeship/list",c="/backend-api/wechat-trusteeship/config-num",u="/backend-api/wechat-trusteeship/handover",d="/backend-api/wechat-trusteeship/logout",h=function(t){return a.axios.get(cityUrl,{params:{city_type:t}})};e.getCity=h;var f=function(t,e){return a.axios.post(n,{employee_id:t,time:e})};e.getWechatQrcode=f;var g=function(t){return a.axios.post(l,{employee_id:t})};e.getLoginStatus=g;var p=function(t,e){return a.axios.post(r,{employee_id:t,wx_id:e})};e.employeeLoginInfo=p;var m=function(t){return a.axios.get(i,{params:{q:t}})};e.getNotColloCounselor=m;var v=function(t){return a.axios.post(s,t)};e.getCollocationList=v;var b=function(t){return a.axios.post(c,{num:t})};e.setCollocationCount=b;var w=function(t,e){return a.axios.post(u,{id:t,employee_id:e})};e.handoverWechatById=w;var y=function(t){return a.axios.post(d,t)};e.logoutWechat=y},"802d":function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-dialog",{attrs:{title:"微信托管",visible:t.compVisile,width:"600px",center:""},on:{"update:visible":function(e){t.compVisile=e},open:t.openThisDialog,close:t.closeThisDialog}},[o("div",{staticClass:"dialog-wrap"},["3"!==t.entryType?o("div",{staticClass:"dialog-form"},[o("label",{staticClass:"dialog-form-label"},[t._v("离职咨询师：")]),o("el-select",{attrs:{filterable:"",remote:"",disabled:t.selectorActive,"remote-method":t.getCounselor,loading:t.loading,placeholder:"请输入要托管的离职咨询师的姓名"},on:{change:t.counselorChange},model:{value:t.counselorForm.value,callback:function(e){t.$set(t.counselorForm,"value",e)},expression:"counselorForm.value"}},t._l(t.counselors,(function(t){return o("el-option",{key:t.id,attrs:{label:t.text,value:t.id}})})),1)],1):t._e(),"3"===t.entryType?o("ul",{staticClass:"counselor-msg-offline"},[o("li",{staticClass:"counselor-msg-item"},[t._v(" 离职咨询师： "),o("span",{staticClass:"span"},[t._v(t._s(t.employeeInfo.employeeName))])]),o("li",{staticClass:"counselor-msg-item"},[t._v(" 托管状态为： "),o("span",{staticClass:"span"},[t._v(t._s(t.getTextByValue(t.employeeInfo.trusteeshipStatus)))])]),o("li",{staticClass:"counselor-msg-item"},[t._v(" 微 信 号： "),o("span",{staticClass:"span"},[t._v(t._s(t.employeeInfo.wxId))])])]):t._e(),t.qrCodeShow?o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.qrcodeLoading,expression:"qrcodeLoading"}],ref:"qrcode",staticClass:"qrcode",attrs:{id:"qrcode"}}):o("div",{staticClass:"login-success"},[o("div",{staticClass:"login-msg"},[o("span",{staticClass:"iconfont iconcode_success"}),o("span",{staticClass:"msg-desc"},[t._v("已经登录成功!")])]),o("div",{staticClass:"counselor-msg"},[o("p",{staticClass:"p"},[t._v(" 离职咨询师： "),o("span",{staticClass:"span"},[t._v(t._s(t.employeeInfo.employeeName))])]),o("p",{staticClass:"p"},[t._v(" 微信号： "),o("span",{staticClass:"span"},[t._v(t._s(t.employeeInfo.wxId))])])])]),o("div",{staticClass:"msg"},[t.textMsgShow?o("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"text",disabled:t.qrDisable},on:{click:t.refreshQrcode}},[t._v("刷新二维码重新登录")]):o("div",{staticClass:"msg-des",domProps:{innerHTML:t._s(t.qrMessage)}})],1)]),o("el-button",{staticClass:"cancle-btn",attrs:{slot:"footer"},on:{click:t.closeThisDialog},slot:"footer"},[t._v("取消")])],1)},i=[];o.d(e,"a",(function(){return a})),o.d(e,"b",(function(){return i}))},"95ba":function(t,e,o){"use strict";var a=o("0840"),i=o.n(a);i.a},a677:function(t,e,o){"use strict";var a=o("91fe"),i=o("6be9").includes,n=o("5751"),r=o("6885"),l=r("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!l},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("includes")},b74d:function(t,e,o){"use strict";function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},bb4e:function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"collocation-wrap"},[o("el-breadcrumb",{staticClass:"bread-nav",attrs:{"separator-class":"el-icon-arrow-right"}},[o("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),o("el-breadcrumb-item",[t._v("微信托管")])],1),o("div",{staticClass:"collocation-form-wrap"},[o("el-form",{ref:"collocationForm",staticClass:"collocation-form",attrs:{inline:!0,model:t.collocationForm,"label-position":t.labelPosition,"label-width":"96px"}},[o("el-form-item",{attrs:{prop:"city_id",label:"城市："}},[o("el-select",{attrs:{filterable:"",placeholder:"请选择城市"},on:{"visible-change":t.setCityInfo},model:{value:t.collocationForm.city_id,callback:function(e){t.$set(t.collocationForm,"city_id",e)},expression:"collocationForm.city_id"}},t._l(t.cityData,(function(t){return o("el-option",{key:t.id,attrs:{label:t.text,value:t.id}})})),1)],1),o("el-form-item",{attrs:{prop:"employee_id",label:"离职咨询师："}},[o("el-select",{attrs:{filterable:"",placeholder:"请输入离职咨询师关键字"},on:{"visible-change":t.getleaveCounselor},model:{value:t.collocationForm.employee_id,callback:function(e){t.$set(t.collocationForm,"employee_id",e)},expression:"collocationForm.employee_id"}},t._l(t.counselorData,(function(t){return o("el-option",{key:t.id,attrs:{label:t.text,value:t.id}})})),1)],1),o("el-form-item",{attrs:{prop:"wechat",label:"托管微信名："}},[o("el-input",{attrs:{placeholder:"请输入微信名"},model:{value:t.collocationForm.wechat,callback:function(e){t.$set(t.collocationForm,"wechat",e)},expression:"collocationForm.wechat"}})],1),o("el-form-item",{attrs:{prop:"status",label:"托管状态："}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.collocationForm.status,callback:function(e){t.$set(t.collocationForm,"status",e)},expression:"collocationForm.status"}},t._l(t.statusData,(function(t){return o("el-option",{key:t.value,attrs:{label:t.text,value:t.value}})})),1)],1),o("el-form-item",{attrs:{prop:"times",label:"托管时间："}},[o("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"请选择开始日期","end-placeholder":"请选择结束日期"},model:{value:t.collocationForm.times,callback:function(e){t.$set(t.collocationForm,"times",e)},expression:"collocationForm.times"}})],1),o("div",{staticClass:"divider"}),o("el-form-item",{staticClass:"form-item-center"},[o("el-button",{on:{click:function(e){return t.resetForm("collocationForm")}}},[t._v("重置")]),o("el-button",{attrs:{type:"primary"},on:{click:t.getCollocationListInfo}},[t._v("搜索")])],1)],1)],1),o("div",{staticClass:"collocation-list"},[o("div",{class:["collocation-list-topbar",t.role?"":"flex-end"]},[t.role?o("div",{staticClass:"table-describe"},[t._v(" 当前共 "+t._s(t.collocationDescriptions.curTotal)+" 个托管微信， "),t._v(" 当前可托管微信"+t._s(t.collocationDescriptions.curEnableNum)+"个，共可托管"+t._s(t.collocationDescriptions.enableTotal)+"个 "),o("el-button",{staticClass:"btn-add",attrs:{type:"text"},on:{click:function(e){t.dialogConf.adjustConfVis=!0}}},[t._v("新增配置")])],1):t._e(),o("el-button",{staticClass:"btn-right",attrs:{type:"success"},on:{click:t.addWxCollocation}},[t._v("+ 新增微信托管")])],1),o("div",{staticClass:"collocation-list-table"},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.collocationTableData,border:"","cell-style":t.setCellStyle}},[o("el-table-column",{attrs:{prop:"city_name",label:"城市",align:"center","min-width":"80"}}),o("el-table-column",{attrs:{prop:"employee_name",label:"离职咨询师",align:"center","min-width":"140"}}),o("el-table-column",{attrs:{prop:"employee_mobile",label:"咨询师手机",align:"center","min-width":"140"}}),o("el-table-column",{attrs:{prop:"wechat",label:"托管微信",align:"center","min-width":"160"}}),o("el-table-column",{attrs:{prop:"friend_number",label:"好友个数",align:"center","min-width":"80"}}),o("el-table-column",{attrs:{prop:"consult_number",label:"咨询人数",align:"center","min-width":"80"}}),o("el-table-column",{attrs:{prop:"status",label:"托管状态",align:"center","min-width":"100"}}),o("el-table-column",{attrs:{prop:"datetime",label:"托管日期",align:"center","min-width":"160"}}),o("el-table-column",{attrs:{prop:"handover",label:"交接人",align:"center","min-width":"160"}}),o("el-table-column",{attrs:{fixed:"right",align:"left",label:"操作","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(e){return"未托管"!==e.row.status?[o("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(o){return t.handoverWechat(e.row)}}},[t._v("交接")]),o("span",{staticClass:"split-ico"},[t._v("|")]),"托管中"===e.row.status?o("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(o){return t.editCollocation(e.row)}}},[t._v("编辑")]):t._e(),"离线中"===e.row.status?o("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(o){return t.reLogin(e.row)}}},[t._v("重新登录")]):t._e()]:void 0}}],null,!0)})],1),o("el-pagination",{staticClass:"pages",attrs:{background:"","hide-on-single-page":!0,layout:"prev, pager, next","page-size":t.pages.pageSize,"page-count":t.pages.pageCount}})],1)]),o("el-dialog",{staticClass:"w-dialog",attrs:{title:"提示",visible:t.dialogConf.handoverWechatVis,width:"600px",center:""},on:{"update:visible":function(e){return t.$set(t.dialogConf,"handoverWechatVis",e)}}},[o("div",{staticClass:"content-wrap"},[o("label",{staticClass:"dialog-form-label"},[t._v("选择咨询师：")]),o("el-select",{attrs:{remote:"",filterable:"","remote-method":t.getWorkCounselor,loading:t.loading,placeholder:"选择咨询师"},model:{value:t.dialogConf.handover,callback:function(e){t.$set(t.dialogConf,"handover",e)},expression:"dialogConf.handover"}},t._l(t.handoverCounselors,(function(t){return o("el-option",{key:t.id,attrs:{label:t.text,value:t.id}})})),1)],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogConf.handoverWechatVis=!1}}},[t._v("取 消")]),o("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:t.commitHandover}},[t._v("提交")])],1)]),o("el-dialog",{staticClass:"w-dialog",attrs:{title:"提示",visible:t.dialogConf.adjustConfVis,width:"600px",center:""},on:{"update:visible":function(e){return t.$set(t.dialogConf,"adjustConfVis",e)}}},[o("div",{staticClass:"content-wrap"},[o("label",{staticClass:"dialog-form-label"},[t._v("输入微信可托管数量：")]),o("el-input",{attrs:{placeholder:"输入微信可托管数量"},model:{value:t.dialogConf.collocationNum,callback:function(e){t.$set(t.dialogConf,"collocationNum",t._n(e))},expression:"dialogConf.collocationNum"}})],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogConf.adjustConfVis=!1}}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:t.commitConf}},[t._v("提交")])],1)]),o("LoginDialog",{attrs:{entryType:t.entryType,isVisible:t.wxDialogVisible,employeeId:t.employeeId,wxId:t.wxId},on:{wxDialogClose:t.wxDialogClose,updateTable:t.getCollocationListInfo}})],1)},i=[];o.d(e,"a",(function(){return a})),o.d(e,"b",(function(){return i}))},c4bc:function(t,e,o){"use strict";o.r(e);var a=o("f0c3"),i=o.n(a);for(var n in a)"default"!==n&&function(t){o.d(e,t,(function(){return a[t]}))}(n);e["default"]=i.a},c571:function(t,e,o){var a=o("f808a");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=o("85cb").default;i("37e8fa70",a,!0,{sourceMap:!1,shadowMode:!1})},c8e8:function(t,e,o){"use strict";o.r(e);var a=o("bb4e"),i=o("c4bc");for(var n in i)"default"!==n&&function(t){o.d(e,t,(function(){return i[t]}))}(n);o("6f7b");var r=o("5511"),l=Object(r["a"])(i["default"],a["a"],a["b"],!1,null,"2cece89a",null);e["default"]=l.exports},e1c9:function(t,e,o){var a=o("e1dd");t.exports=function(t){if(a(t))throw TypeError("The method doesn't accept regular expressions");return t}},e726:function(t,e,o){"use strict";o.r(e);var a=o("ec70"),i=o.n(a);for(var n in a)"default"!==n&&function(t){o.d(e,t,(function(){return a[t]}))}(n);e["default"]=i.a},ec70:function(t,e,o){"use strict";var a=o("2eb1");o("af82"),o("f4a0"),o("9a14"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o("7a63"),n=o("6b56"),r=a(o("1f57")),l="请将要托管的微信扫描上方二维码并在手机上确认登录 <br/> 一个二维码只能托管一个微信，请确认登录成功后关闭弹窗",s=3e3,c={name:"LoginDialog",props:{employeeId:{type:[Number,String],default:""},wxId:{type:[Number,String],default:""},entryType:{type:String,default:"1"},isVisible:{type:Boolean,default:!1}},data:function(){return{qrMessage:l,qrDisable:!1,qrcodeLoading:!1,loading:!1,fullscreenLoading:!1,selectorActive:!1,haveLoginSucess:!1,currentVisible:this.isVisible,counselorForm:{name:""},employeeInfo:{employeeId:this.employeeId,wxId:"",employeeName:"",trusteeshipStatus:""},codeUrl:"",counselors:[],token:"",showRoloadQr:!1,timestamp:""}},computed:{compVisile:{get:function(){return this.isVisible},set:function(t){this.currentVisible=t}},qrCodeShow:function(){return!this.haveLoginSucess},textMsgShow:function(){return!("3"!==this.entryType&&!this.haveLoginSucess)||this.showRoloadQr}},created:function(){window.addEventListener("beforeunload",this.logoutQrcode)},destroyed:function(){window.removeEventListener("beforeunload",this.logoutQrcode)},methods:{logoutQrcode:function(){this.token&&!this.haveLoginSucess&&(0,i.logoutWechat)({token:this.token})},getTextByValue:function(t){var e="";return n.collocationStatus.forEach((function(o){o.value===t&&(e=o.text)})),e},openThisDialog:function(){var t=this;"1"!==this.entryType?("2"===this.entryType&&(this.selectorActive=!0,this.haveLoginSucess=!0),"3"===this.entryType&&(this.haveLoginSucess=!1),(0,i.employeeLoginInfo)(this.employeeId,this.wxId).then((function(e){var o=e.data;0===o.code&&(t.employeeInfo=o.data,"2"===t.entryType&&(t.counselorForm.value=o.data.employeeName))})).catch((function(t){console.log(t)}))):this.haveLoginSucess=!1},getCounselor:function(t){var e=this;this.loading=!0,(0,i.getNotColloCounselor)(t).then((function(t){var o=t.data;0===o.code&&(e.counselors=o.data,e.loading=!1)})).catch((function(t){e.loading=!1,console.log(t)}))},counselorChange:function(t){this.selectorActive=!0,this.qrcodeLoading=!0,this.employeeInfo.employeeId=t,this.getQrcodeById(t)},getQrcodeById:function(t){var e=this;this.qrcodeLoading=!0,this.timestamp=(new Date).getTime(),(0,i.getWechatQrcode)(t,this.timestamp).then((function(o){var a=o.data;if(e.qrDisable=!1,e.qrcodeLoading=!1,e.selectorActive=!0,0===a.code){e.clearQrcode();var i=a.data.url;e.token=a.data.token;var n=Number(a.data.time);n===e.timestamp&&(e.qrcode=new r.default("qrcode",{text:i,width:218,height:218})),("1"!==e.entryType||e.haveLoginSucess)&&(e.selectorActive=!1),e.queryErrCount=0,e.getLoginStatusContinuely(t)}else 1002===a.code?(("1"!==e.entryType||e.haveLoginSucess)&&(e.selectorActive=!1),e.showRoloadQr=!0,e.$message.error(a.msg),"没有可用token"===a.msg&&(e.qrMessage="亲，当前可用的托管账号已经用完了，如果有托管需求请即时联系产品运营同学～")):e.$message.error(a.msg)})).catch((function(t){e.qrDisable=!1,e.qrcodeLoading=!1,console.log(t)}))},refreshQrcode:function(){var t=this;if(this.qrDisable=!0,this.clearQrcode(),this.haveLoginSucess)this.fullscreenLoading=!0,(0,i.logoutWechat)({employee_id:this.employeeInfo.employeeId}).then((function(e){var o=e.data;0===o.code?(t.haveLoginSucess=!1,t.$emit("updateTable"),setTimeout((function(){t.fullscreenLoading=!1,t.getQrcodeById(t.employeeInfo.employeeId)}),s)):t.fullscreenLoading=!1})).catch((function(e){t.fullscreenLoading=!1,console.log(e)}));else{if(""!==this.token)return this.fullscreenLoading=!0,void this.clearToken(this.employeeInfo.employeeId);this.getQrcodeById(this.employeeInfo.employeeId)}},clearToken:function(t){var e=this;(0,i.logoutWechat)({token:this.token}).then((function(o){var a=o.data;0===a.code?(e.token="",setTimeout((function(){e.fullscreenLoading=!1,e.getQrcodeById(t)}),s)):e.fullscreenLoading=!1})).catch((function(t){e.fullscreenLoading=!1,console.log(t)}))},getLoginStatusContinuely:function(t){var e=this;this.token&&setTimeout((function(){e.queryErrCount<10?(0,i.getLoginStatus)(t).then((function(o){var a=o.data;if(0===a.code){var i=a.data;e.employeeInfo.employeeName=i.employeeName,e.employeeInfo.wxId=i.wxId,e.employeeInfo.employeeId=t,e.clearQrcode(),e.token="",e.haveLoginSucess=!0,e.$emit("updateTable")}else 1002===a.code&&e.getLoginStatusContinuely(t)})).catch((function(o){e.queryErrCount++,e.getLoginStatusContinuely(t),console.log(o)})):e.$message({message:"获取登录状态失败，请稍后再试",type:"error"})}),2e3)},closeThisDialog:function(){var t=this;if(this.$emit("wxDialogClose",!1),this.timestamp="",this.selectorActive=!1,this.counselorForm.value="",this.clearQrcode(),this.qrcodeLoading=!1,!this.haveLoginSucess){if(""===this.token)return;(0,i.logoutWechat)({token:this.token}).then((function(e){var o=e.data;0===o.code&&(t.token="")}))}this.qrMessage=l},clearQrcode:function(){this.qrcode&&this.qrcode.clear(),this.$refs.qrcode&&(this.$refs.qrcode.innerHTML="")}}};e.default=c},f0c3:function(t,e,o){"use strict";var a=o("2eb1");o("4178"),o("86dd"),o("af82"),o("a677"),o("f4a0"),o("3f36"),o("f4dd"),o("79dd"),o("3547"),o("9a14"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(o("5a3e")),n=a(o("289c")),r=a(o("335d")),l=o("6b56"),s=o("f946"),c=o("7a63"),u=o("08c1");function d(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,a)}return o}function h(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?d(Object(o),!0).forEach((function(e){(0,n.default)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):d(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var f={name:"WeChatCollocationList",components:{LoginDialog:r.default},data:function(){return{entryType:"1",employeeId:"",wxId:"",loading:!1,fullscreenLoading:!1,wxDialogVisible:!1,labelPosition:"right",collocationForm:{city_id:"",employee_id:"",wechat:"",status:"",times:""},cityData:[],counselorData:[],statusData:l.collocationStatus,collocationDescriptions:{curTotal:0,curEnableNum:0,enableTotal:0},collocationTableData:[],pages:{currentPage:0,pageSize:20,pageCount:1},dialogConf:{handoverWechatVis:!1,handover:"",adjustConfVis:!1,collocationNum:""},handoverCounselors:[]}},computed:h({},(0,u.mapState)({uid:function(t){return t.uid},role:function(t){return l.collocationConfAccess.includes(t.role)}})),created:function(){this.getCollocationListInfo()},methods:{getCollocationListInfo:function(){var t=this,e={time_min:"",time_max:"",page:this.pages.currentPage,pageSize:this.pages.pageSize},o=this.collocationForm.times;if(Array.isArray(o)){var a=(0,i.default)(o,2);e.time_min=a[0],e.time_max=a[1]}Object.assign(e,this.collocationForm),delete e.times,(0,c.getCollocationList)(e).then((function(e){var o=e.data;if(0===o.code){var a=o.data;t.collocationTableData=a.data,t.collocationDescriptions.curTotal=a.tg_count,t.collocationDescriptions.curEnableNum=a.tg_config-a.tg_used,t.collocationDescriptions.enableTotal=a.tg_config}})).catch((function(t){console.log(t)}))},curPageChange:function(t){this.pages.currentPage=t-1,this.getCollocationListInfo()},setCityInfo:function(t){if(t){var e=864e5,o=this.getStorage("citys");if(o){o=JSON.parse(o);var a=(new Date).getTime();a-o.now>e||this.uid!==Number(o.uid)?this.getCityInfo():this.cityData=o.oData}else this.getCityInfo()}},getCityInfo:function(){var t=this;(0,s.getCity)().then((function(e){0===e.data.code&&(t.cityData=e.data.data,t.dataStorage("citys",e.data.data))})).catch((function(t){console.log(t)}))},dataStorage:function(t,e){if(e&&t){var o=(new Date).getTime(),a={now:o,uid:this.uid,oData:e},i=JSON.stringify(a);localStorage.setItem(t,i)}},getStorage:function(t){if(t)return localStorage.getItem(t)},getWorkCounselor:function(t){var e=this;this.loading=!0;var o={q:t,role:"header",status:10};(0,s.getEmployee)(o).then((function(t){var o=t.data;0===o.code&&(e.handoverCounselors=o.data,e.loading=!1)})).catch((function(t){e.loading=!1,console.log(t)}))},getleaveCounselor:function(t){var e=this;if(t){var o={role:"header",status:0};(0,s.getEmployee)(o).then((function(t){var o=t.data;0===o.code&&(e.counselorData=o.data)})).catch((function(t){console.log(t)}))}},resetForm:function(t){this.$refs[t].resetFields(),this.getCollocationListInfo()},setCellStyle:function(t){var e=t.row,o=(t.column,t.rowIndex,t.columnIndex),a={"托管中":"#36AE46","未托管":"#FF4958","离线中":"#BBBBBB"};if(6===o)return{color:a[e.status]}},addWxCollocation:function(){this.entryType="1",this.employeeId="",this.wxDialogVisible=!0},wxDialogClose:function(t){this.wxDialogVisible=t},handoverWechat:function(t){this.dialogConf.handoverWechatVis=!0,this.tabItemId=t.id},commitHandover:function(){var t=this;if(this.dialogConf.handover){var e=this.dialogConf.handover,o=this.tabItemId;this.fullscreenLoading=!0,(0,c.handoverWechatById)(o,e).then((function(e){var o=e.data;t.fullscreenLoading=!1,t.dialogConf.handoverWechatVis=!1,0===o.code&&(t.$message({message:o.msg,type:"success"}),t.getCollocationListInfo())})).catch((function(e){t.fullscreenLoading=!1,console.log(e)}))}else this.$message({message:"交接人不可为空",type:"warning"})},commitConf:function(){var t=this,e=this.dialogConf.collocationNum;(0,c.setCollocationCount)(e).then((function(e){var o=e.data;0===o.code&&(t.$message({message:o.msg,type:"success"}),t.getCollocationListInfo(),t.dialogConf.adjustConfVis=!1)})).catch((function(t){console.log(t)}))},editCollocation:function(t){this.employeeId=t.employee_id,this.wxId=t.wechat_id,this.entryType="2",this.wxDialogVisible=!0},reLogin:function(t){this.employeeId=t.employee_id,this.wxId=t.wechat_id,this.entryType="3",this.wxDialogVisible=!0}}};e.default=f},f4a0:function(t,e,o){"use strict";var a=o("7a23"),i=o("d5dc"),n=o("12d9"),r=o("3d8a"),l=o("f28d"),s=o("67ea"),c=o("60f2"),u=o("7dc7"),d=o("f30e"),h=o("641d"),f=o("65af").f,g=o("4aef").f,p=o("c223").f,m=o("03fa").trim,v="Number",b=i[v],w=b.prototype,y=s(h(w))==v,_=function(t){var e,o,a,i,n,r,l,s,c=u(t,!1);if("string"==typeof c&&c.length>2)if(c=m(c),e=c.charCodeAt(0),43===e||45===e){if(o=c.charCodeAt(2),88===o||120===o)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:a=2,i=49;break;case 79:case 111:a=8,i=55;break;default:return+c}for(n=c.slice(2),r=n.length,l=0;l<r;l++)if(s=n.charCodeAt(l),s<48||s>i)return NaN;return parseInt(n,a)}return+c};if(n(v,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var C,x=function(t){var e=arguments.length<1?0:t,o=this;return o instanceof x&&(y?d((function(){w.valueOf.call(o)})):s(o)!=v)?c(new b(_(e)),o,x):_(e)},k=a?f(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;k.length>I;I++)l(b,C=k[I])&&!l(x,C)&&p(x,C,g(b,C));x.prototype=w,w.constructor=x,r(i,v,x)}},f808a:function(t,e,o){var a=o("abd8");e=a(!1),e.push([t.i,".collocation-wrap[data-v-2cece89a]{width:100%;padding:0 30px;margin:0 auto;-webkit-box-sizing:border-box;box-sizing:border-box}.collocation-wrap .bread-nav[data-v-2cece89a]{padding:20px 0}.collocation-wrap .el-dialog__wrapper[data-v-2cece89a]{background-color:inherit}.collocation-wrap .collocation-form-wrap[data-v-2cece89a]{background-color:#fff;padding:20px 0}.collocation-wrap .collocation-form-wrap .divider[data-v-2cece89a]{width:98%;height:0;margin:24px auto;border-bottom:1px solid #dcdfe6}.collocation-wrap .collocation-form-wrap[data-v-2cece89a] .el-form-item{margin-right:28px}.collocation-wrap .collocation-form-wrap[data-v-2cece89a] .el-form-item.form-item-center{text-align:center;width:100%;margin-bottom:0}.collocation-wrap .collocation-form-wrap[data-v-2cece89a] .el-form-item .el-form-item__label{color:#333;padding:0 8px 0 0}.collocation-wrap .collocation-form-wrap[data-v-2cece89a] .el-form-item .el-input,.collocation-wrap .collocation-form-wrap[data-v-2cece89a] .el-form-item .el-range-editor{width:320px;height:40px}.collocation-wrap .collocation-form-wrap[data-v-2cece89a] .el-form-item .el-range-input{background-color:#fff}.collocation-wrap .collocation-form-wrap[data-v-2cece89a] .el-form-item .el-button{width:96px;height:40px}.collocation-wrap .collocation-list[data-v-2cece89a]{margin-bottom:20px}.collocation-wrap .collocation-list .collocation-list-topbar[data-v-2cece89a]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:0 20px;margin-top:20px;margin-bottom:19px}.collocation-wrap .collocation-list .collocation-list-topbar.flex-end[data-v-2cece89a]{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.collocation-wrap .collocation-list .collocation-list-topbar .table-describe[data-v-2cece89a]{color:#666}.collocation-wrap .collocation-list .collocation-list-topbar .table-describe .btn-add[data-v-2cece89a]{margin-left:19px}.collocation-wrap .collocation-list .collocation-list-topbar .el-button.btn-right[data-v-2cece89a]{width:128px;height:36px;padding:8px 15px;font-size:14px}.collocation-wrap .collocation-list .collocation-list-table[data-v-2cece89a]{background-color:#fff;padding:21px}.collocation-wrap .collocation-list .collocation-list-table .split-ico[data-v-2cece89a]{color:#ddd}.collocation-wrap .collocation-list .collocation-list-table .pages[data-v-2cece89a]{margin:20px auto 0;text-align:center}.collocation-wrap .collocation-list .collocation-list-table[data-v-2cece89a] .el-table th.gutter{display:table-cell!important}.collocation-wrap .w-dialog .content-wrap[data-v-2cece89a]{text-align:center}.collocation-wrap .w-dialog .content-wrap[data-v-2cece89a] .el-input{width:386px;height:36px}.collocation-wrap .w-dialog .content-wrap[data-v-2cece89a] .el-input .el-input__inner{line-height:36px;height:36px}.collocation-wrap .w-dialog .dialog-footer .el-button[data-v-2cece89a]{width:230px;height:50px}",""]),t.exports=e}}]);