(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d8f2460"],{"050f":function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"AElement",(function(){return ue})),n.d(e,"AnimateColorElement",(function(){return ee})),n.d(e,"AnimateElement",(function(){return te})),n.d(e,"AnimateTransformElement",(function(){return ne})),n.d(e,"BoundingBox",(function(){return wt})),n.d(e,"CB1",(function(){return W})),n.d(e,"CB2",(function(){return Z})),n.d(e,"CB3",(function(){return K})),n.d(e,"CB4",(function(){return J})),n.d(e,"Canvg",(function(){return Re})),n.d(e,"CircleElement",(function(){return Ft})),n.d(e,"ClipPathElement",(function(){return ke})),n.d(e,"DefsElement",(function(){return Yt})),n.d(e,"DescElement",(function(){return Te})),n.d(e,"Document",(function(){return De})),n.d(e,"Element",(function(){return pt})),n.d(e,"EllipseElement",(function(){return qt})),n.d(e,"FeColorMatrixElement",(function(){return xe})),n.d(e,"FeCompositeElement",(function(){return Ce})),n.d(e,"FeDropShadowElement",(function(){return Pe})),n.d(e,"FeGaussianBlurElement",(function(){return Me})),n.d(e,"FeMorphologyElement",(function(){return Se})),n.d(e,"FilterElement",(function(){return Ae})),n.d(e,"Font",(function(){return bt})),n.d(e,"FontElement",(function(){return re})),n.d(e,"FontFaceElement",(function(){return ie})),n.d(e,"GElement",(function(){return Ut})),n.d(e,"GlyphElement",(function(){return oe})),n.d(e,"GradientElement",(function(){return Wt})),n.d(e,"ImageElement",(function(){return le})),n.d(e,"LineElement",(function(){return Ht})),n.d(e,"LinearGradientElement",(function(){return Zt})),n.d(e,"MarkerElement",(function(){return Xt})),n.d(e,"MaskElement",(function(){return be})),n.d(e,"Matrix",(function(){return St})),n.d(e,"MissingGlyphElement",(function(){return ae})),n.d(e,"Mouse",(function(){return st})),n.d(e,"PSEUDO_ZERO",(function(){return Q})),n.d(e,"Parser",(function(){return dt})),n.d(e,"PathElement",(function(){return zt})),n.d(e,"PathParser",(function(){return Bt})),n.d(e,"PatternElement",(function(){return Qt})),n.d(e,"Point",(function(){return ot})),n.d(e,"PolygonElement",(function(){return Gt})),n.d(e,"PolylineElement",(function(){return $t})),n.d(e,"Property",(function(){return it})),n.d(e,"QB1",(function(){return tt})),n.d(e,"QB2",(function(){return et})),n.d(e,"QB3",(function(){return nt})),n.d(e,"RadialGradientElement",(function(){return Kt})),n.d(e,"RectElement",(function(){return jt})),n.d(e,"RenderedElement",(function(){return Nt})),n.d(e,"Rotate",(function(){return At})),n.d(e,"SVGElement",(function(){return Rt})),n.d(e,"SVGFontLoader",(function(){return fe})),n.d(e,"Scale",(function(){return Pt})),n.d(e,"Screen",(function(){return lt})),n.d(e,"Skew",(function(){return Ct})),n.d(e,"SkewX",(function(){return Mt})),n.d(e,"SkewY",(function(){return Et})),n.d(e,"StopElement",(function(){return Jt})),n.d(e,"StyleElement",(function(){return de})),n.d(e,"SymbolElement",(function(){return he})),n.d(e,"TRefElement",(function(){return se})),n.d(e,"TSpanElement",(function(){return It})),n.d(e,"TextElement",(function(){return Ot})),n.d(e,"TextPathElement",(function(){return ce})),n.d(e,"TitleElement",(function(){return Ee})),n.d(e,"Transform",(function(){return Vt})),n.d(e,"Translate",(function(){return kt})),n.d(e,"UnknownElement",(function(){return gt})),n.d(e,"UseElement",(function(){return pe})),n.d(e,"ViewPort",(function(){return at})),n.d(e,"compressSpaces",(function(){return _})),n.d(e,"getSelectorSpecificity",(function(){return G})),n.d(e,"normalizeAttributeName",(function(){return L})),n.d(e,"parseExternalUrl",(function(){return D})),n.d(e,"presets",(function(){return qe})),n.d(e,"toNumbers",(function(){return O})),n.d(e,"trimLeft",(function(){return V})),n.d(e,"trimRight",(function(){return N})),n.d(e,"vectorMagnitude",(function(){return X})),n.d(e,"vectorsAngle",(function(){return U})),n.d(e,"vectorsRatio",(function(){return Y}));n("1a8c"),n("2dee"),n("b3f9"),n("ec4a"),n("d780"),n("e90c");var r=n("4679"),i=n.n(r),a=(n("4178"),n("86dd"),n("af82"),n("d6df"),n("3848"),n("3f36"),n("f4dd"),n("79dd"),n("9a14"),n("46b4")),o=n.n(a),s=n("34ef"),u=n.n(s),c=n("0a8a"),l=n.n(c),h=n("a018"),f=n.n(h),d=n("f848"),p=n.n(d),g=(n("7ae7"),n("d119"),n("9249"),n("ad37"),n("3a20"),n("c9db"),n("3e5e"),n("45fc")),v=n.n(g),m=(n("c354"),n("2b62")),y=n.n(m),x=n("578d"),b=n.n(x),w=n("66e8"),k=n.n(w),A=n("1b80"),P=n.n(A),S=(n("5d5d"),n("a677"),n("4423"),n("3547"),n("ef8e"),n("94ec"),n("4045"),n("4a58"),n("7096")),C=n.n(S),M=(n("f4a0"),n("7267"),n("2410"),n("9356"),n("c86b")),E=n.n(M),T=(n("d9a3"),n("252a"),n("95c5"),n("fc88"),n("e350"),n("e481"),n("65ce"),n("3f9c"),n("f675"));function _(t){return t.replace(/(?!\u3000)\s+/gm," ")}function V(t){return t.replace(/^[\n \t]+/,"")}function N(t){return t.replace(/[\n \t]+$/,"")}function O(t){var e=(t||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[];return e.map(parseFloat)}var I=/^[A-Z-]+$/;function L(t){return I.test(t)?t.toLowerCase():t}function D(t){var e=t.match(/url\(('([^']+)'|"([^"]+)"|([^'"\)]+))\)/)||[];return e[2]||e[3]||e[4]}var B=/(\[[^\]]+\])/g,z=/(#[^\s\+>~\.\[:]+)/g,R=/(\.[^\s\+>~\.\[:]+)/g,j=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,F=/(:[\w-]+\([^\)]*\))/gi,q=/(:[^\s\+>~\.\[:]+)/g,H=/([^\s\+>~\.\[:]+)/g;function $(t,e){var n=t.match(e);return n?[t.replace(e," "),n.length]:[t,0]}function G(t){var e=[0,0,0],n=t.replace(/:not\(([^\)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),r=0,a=$(n,B),o=i()(a,2);n=o[0],r=o[1],e[1]+=r;var s=$(n,z),u=i()(s,2);n=u[0],r=u[1],e[0]+=r;var c=$(n,R),l=i()(c,2);n=l[0],r=l[1],e[1]+=r;var h=$(n,j),f=i()(h,2);n=f[0],r=f[1],e[2]+=r;var d=$(n,F),p=i()(d,2);n=p[0],r=p[1],e[1]+=r;var g=$(n,q),v=i()(g,2);n=v[0],r=v[1],e[1]+=r,n=n.replace(/[\*\s\+>~]/g," ").replace(/[#\.]/g," ");var m=$(n,H),y=i()(m,2);return n=y[0],r=y[1],e[2]+=r,e.join("")}var Q=1e-8;function X(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))}function Y(t,e){return(t[0]*e[0]+t[1]*e[1])/(X(t)*X(e))}function U(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Y(t,e))}function W(t){return t*t*t}function Z(t){return 3*t*t*(1-t)}function K(t){return 3*t*(1-t)*(1-t)}function J(t){return(1-t)*(1-t)*(1-t)}function tt(t){return t*t}function et(t){return 2*t*(1-t)}function nt(t){return(1-t)*(1-t)}function rt(t,e){return e={exports:{}},t(e,e.exports),e.exports}rt((function(t){var e=function(t){var e,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),o=new E(r||[]);return a._invoke=P(t,n,o),a}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}t.wrap=u;var l="suspendedStart",h="suspendedYield",f="executing",d="completed",p={};function g(){}function v(){}function m(){}var y={};y[a]=function(){return this};var x=Object.getPrototypeOf,b=x&&x(x(T([])));b&&b!==n&&r.call(b,a)&&(y=b);var w=m.prototype=g.prototype=Object.create(y);function k(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function A(t){function e(n,i,a,o){var s=c(t[n],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"===typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then((function(t){e("next",t,a,o)}),(function(t){e("throw",t,a,o)})):Promise.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return e("throw",t,a,o)}))}o(s.arg)}var n;function i(t,r){function i(){return new Promise((function(n,i){e(t,r,n,i)}))}return n=n?n.then(i,i):i()}this._invoke=i}function P(t,e,n){var r=l;return function(i,a){if(r===f)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw a;return _()}n.method=i,n.arg=a;while(1){var o=n.delegate;if(o){var s=S(o,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var u=c(t,e,n);if("normal"===u.type){if(r=n.done?d:h,u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}function S(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator["return"]&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=c(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,p;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function T(t){if(t){var n=t[a];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){while(++i<t.length)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}return{next:_}}function _(){return{value:e,done:!0}}return v.prototype=w.constructor=m,m.constructor=v,m[s]=v.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},k(A.prototype),A.prototype[o]=function(){return this},t.AsyncIterator=A,t.async=function(e,n,r,i){var a=new A(u(e,n,r,i));return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(w),w[s]="Generator",w[a]=function(){return this},w.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){while(e.length){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=T,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(M),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;M(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),p}},t}(t.exports);try{regeneratorRuntime=e}catch(n){Function("r","regeneratorRuntime = r")(e)}}));var it=function(){function t(e,n,r){f()(this,t),this.document=e,this.name=n,this.value=r}return p()(t,[{key:"hasValue",value:function(){var t=this.value;return null!==t&&""!==t&&0!==t&&"undefined"!==typeof t}},{key:"isString",value:function(t){var e=this.value,n="string"===typeof e;return n&&t?t.test(e):n}},{key:"isUrlDefinition",value:function(){return this.isString(/^url\(/)}},{key:"isPixels",value:function(){if(!this.hasValue())return!1;var t=this.getString();switch(!0){case/px$/.test(t):case/^[0-9]+$/.test(t):return!0;default:return!1}}},{key:"setValue",value:function(t){return this.value=t,this}},{key:"getValue",value:function(t){return"undefined"===typeof t||this.hasValue()?this.value:t}},{key:"getNumber",value:function(t){if(!this.hasValue())return"undefined"===typeof t?0:parseFloat(t);var e=this.value,n=parseFloat(e);return this.isString(/%$/)&&(n/=100),n}},{key:"getString",value:function(t){return"undefined"===typeof t||this.hasValue()?"undefined"===typeof this.value?"":String(this.value):String(t)}},{key:"getDpi",value:function(){return 96}},{key:"getRem",value:function(){return this.document.rootEmSize}},{key:"getEm",value:function(){return this.document.emSize}},{key:"getUnits",value:function(){return this.getString().replace(/[0-9\.\-]/g,"")}},{key:"getPixels",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.hasValue())return 0;var n="boolean"===typeof t?[void 0,t]:[t],r=i()(n,2),a=r[0],o=r[1],s=this.document.screen.viewPort;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(s.computeSize("x"),s.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(s.computeSize("x"),s.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*s.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*s.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return 15*this.getNumber();case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case this.isString(/%$/)&&o:return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*s.computeSize(a);default:var u=this.getNumber();return e&&u<1?u*s.computeSize(a):u}}},{key:"getMilliseconds",value:function(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():1e3*this.getNumber():0}},{key:"getRadians",value:function(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}},{key:"getDefinition",value:function(){var t=this.getString(),e=t.match(/#([^\)'"]+)/);return e&&(e=e[1]),e||(e=t),this.document.definitions[e]}},{key:"getFillStyleDefinition",value:function(t,e){var n=this.getDefinition();if(!n)return null;if("function"===typeof n.createGradient)return n.createGradient(this.document.ctx,t,e);if("function"===typeof n.createPattern){if(n.getHrefAttribute().hasValue()){var r=n.getAttribute("patternTransform");n=n.getHrefAttribute().getDefinition(),r.hasValue()&&n.getAttribute("patternTransform",!0).setValue(r.value)}return n.createPattern(this.document.ctx,t,e)}return null}},{key:"getTextBaseline",value:function(){return this.hasValue()?t.textBaselineMapping[this.getString()]:null}},{key:"addOpacity",value:function(e){for(var n=this.value,r=n.length,i=0,a=0;a<r;a++)if(","===n[a]&&i++,3===i)break;if(e.hasValue()&&this.isString()&&3!==i){var o=new y.a(n);o.ok&&(n="rgba(".concat(o.r,", ").concat(o.g,", ").concat(o.b,", ").concat(e.getNumber(),")"))}return new t(this.document,this.name,n)}}],[{key:"empty",value:function(e){return new t(e,"EMPTY","")}}]),t}();it.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};var at=function(){function t(){f()(this,t),this.viewPorts=[]}return p()(t,[{key:"clear",value:function(){this.viewPorts=[]}},{key:"setCurrent",value:function(t,e){this.viewPorts.push({width:t,height:e})}},{key:"removeCurrent",value:function(){this.viewPorts.pop()}},{key:"getCurrent",value:function(){var t=this.viewPorts;return t[t.length-1]}},{key:"computeSize",value:function(t){return"number"===typeof t?t:"x"===t?this.width:"y"===t?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}},{key:"width",get:function(){return this.getCurrent().width}},{key:"height",get:function(){return this.getCurrent().height}}]),t}(),ot=function(){function t(e,n){f()(this,t),this.x=e,this.y=n}return p()(t,[{key:"angleTo",value:function(t){return Math.atan2(t.y-this.y,t.x-this.x)}},{key:"applyTransform",value:function(t){var e=this.x,n=this.y,r=e*t[0]+n*t[2]+t[4],i=e*t[1]+n*t[3]+t[5];this.x=r,this.y=i}}],[{key:"parse",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=O(e),a=i()(r,2),o=a[0],s=void 0===o?n:o,u=a[1],c=void 0===u?n:u;return new t(s,c)}},{key:"parseScale",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=O(e),a=i()(r,2),o=a[0],s=void 0===o?n:o,u=a[1],c=void 0===u?s:u;return new t(s,c)}},{key:"parsePath",value:function(e){for(var n=O(e),r=n.length,i=[],a=0;a<r;a+=2)i.push(new t(n[a],n[a+1]));return i}}]),t}(),st=function(){function t(e){f()(this,t),this.screen=e,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}return p()(t,[{key:"isWorking",value:function(){return this.working}},{key:"start",value:function(){if(!this.working){var t=this.screen,e=this.onClick,n=this.onMouseMove,r=t.ctx.canvas;r.onclick=e,r.onmousemove=n,this.working=!0}}},{key:"stop",value:function(){if(this.working){var t=this.screen.ctx.canvas;this.working=!1,t.onclick=null,t.onmousemove=null}}},{key:"hasEvents",value:function(){return this.working&&this.events.length>0}},{key:"runEvents",value:function(){if(this.working){var t=this.screen,e=this.events,n=this.eventElements,r=t.ctx.canvas.style;r&&(r.cursor=""),e.forEach((function(t,e){var r=t.run,i=n[e];while(i)r(i),i=i.parent})),this.events=[],this.eventElements=[]}}},{key:"checkPath",value:function(t,e){if(this.working&&e){var n=this.events,r=this.eventElements;n.forEach((function(n,i){var a=n.x,o=n.y;!r[i]&&e.isPointInPath&&e.isPointInPath(a,o)&&(r[i]=t)}))}}},{key:"checkBoundingBox",value:function(t,e){if(this.working&&e){var n=this.events,r=this.eventElements;n.forEach((function(n,i){var a=n.x,o=n.y;!r[i]&&e.isPointInBox(a,o)&&(r[i]=t)}))}}},{key:"mapXY",value:function(t,e){var n=this.screen,r=n.window,i=n.ctx,a=new ot(t,e),o=i.canvas;while(o)a.x-=o.offsetLeft,a.y-=o.offsetTop,o=o.offsetParent;return r.scrollX&&(a.x+=r.scrollX),r.scrollY&&(a.y+=r.scrollY),a}},{key:"onClick",value:function(t){var e=this.mapXY((t||event).clientX,(t||event).clientY),n=e.x,r=e.y;this.events.push({type:"onclick",x:n,y:r,run:function(t){t.onClick&&t.onClick()}})}},{key:"onMouseMove",value:function(t){var e=this.mapXY((t||event).clientX,(t||event).clientY),n=e.x,r=e.y;this.events.push({type:"onmousemove",x:n,y:r,run:function(t){t.onMouseMove&&t.onMouseMove()}})}}]),t}(),ut="undefined"!==typeof window?window:null,ct="undefined"!==typeof fetch?fetch.bind(void 0):null,lt=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.fetch,i=void 0===r?ct:r,a=n.window,o=void 0===a?ut:a;f()(this,t),this.ctx=e,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new at,this.mouse=new st(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=o,this.fetch=i}return p()(t,[{key:"wait",value:function(t){this.waits.push(t)}},{key:"ready",value:function(){return this.readyPromise?this.readyPromise:Promise.resolve()}},{key:"isReady",value:function(){if(this.isReadyLock)return!0;var t=this.waits.every((function(t){return t()}));return t&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=t,t}},{key:"setDefaults",value:function(t){t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4}},{key:"setViewBox",value:function(t){var e=t.document,n=t.ctx,r=t.aspectRatio,a=t.width,o=t.desiredWidth,s=t.height,u=t.desiredHeight,c=t.minX,l=void 0===c?0:c,h=t.minY,f=void 0===h?0:h,d=t.refX,p=t.refY,g=t.clip,v=void 0!==g&&g,m=t.clipX,y=void 0===m?0:m,x=t.clipY,b=void 0===x?0:x,w=_(r).replace(/^defer\s/,""),k=w.split(" "),A=i()(k,2),P=A[0],S=A[1],C=P||"xMidYMid",M=S||"meet",E=a/o,T=s/u,V=Math.min(E,T),N=Math.max(E,T),O=o,I=u;"meet"===M&&(O*=V,I*=V),"slice"===M&&(O*=N,I*=N);var L=new it(e,"refX",d),D=new it(e,"refY",p),B=L.hasValue()&&D.hasValue();if(B&&n.translate(-V*L.getPixels("x"),-V*D.getPixels("y")),v){var z=V*y,R=V*b;n.beginPath(),n.moveTo(z,R),n.lineTo(a,R),n.lineTo(a,s),n.lineTo(z,s),n.closePath(),n.clip()}if(!B){var j="meet"===M&&V===T,F="slice"===M&&N===T,q="meet"===M&&V===E,H="slice"===M&&N===E;/^xMid/.test(C)&&(j||F)&&n.translate(a/2-O/2,0),/YMid$/.test(C)&&(q||H)&&n.translate(0,s/2-I/2),/^xMax/.test(C)&&(j||F)&&n.translate(a-O,0),/YMax$/.test(C)&&(q||H)&&n.translate(0,s-I)}switch(!0){case"none"===C:n.scale(E,T);break;case"meet"===M:n.scale(V,V);break;case"slice"===M:n.scale(N,N);break}n.translate(-l,-f)}},{key:"start",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.enableRedraw,i=void 0!==r&&r,a=n.ignoreMouse,o=void 0!==a&&a,s=n.ignoreAnimation,u=void 0!==s&&s,c=n.ignoreDimensions,l=void 0!==c&&c,h=n.ignoreClear,f=void 0!==h&&h,d=n.forceRedraw,p=n.scaleWidth,g=n.scaleHeight,m=n.offsetX,y=n.offsetY,x=this.FRAMERATE,b=this.mouse,w=1e3/x;if(this.frameDuration=w,this.readyPromise=new Promise((function(t){e.resolveReady=t})),this.isReady()&&this.render(t,l,f,p,g,m,y),i){var k=Date.now(),A=k,P=0,S=function n(){k=Date.now(),P=k-A,P>=w&&(A=k-P%w,e.shouldUpdate(u,d)&&(e.render(t,l,f,p,g,m,y),b.runEvents())),e.intervalId=v()(n)};o||b.start(),this.intervalId=v()(S)}}},{key:"stop",value:function(){this.intervalId&&(v.a.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}},{key:"shouldUpdate",value:function(t,e){if(!t){var n=this.frameDuration,r=this.animations.reduce((function(t,e){return e.update(n)||t}),!1);if(r)return!0}return!("function"!==typeof e||!e())||(!(this.isReadyLock||!this.isReady())||!!this.mouse.hasEvents())}},{key:"render",value:function(t,e,n,r,i,a,o){var s=this.CLIENT_WIDTH,u=this.CLIENT_HEIGHT,c=this.viewPort,l=this.ctx,h=this.isFirstRender,f=l.canvas;c.clear(),f.width&&f.height?c.setCurrent(f.width,f.height):c.setCurrent(s,u);var d=t.getStyle("width"),p=t.getStyle("height");!e&&(h||"number"!==typeof r&&"number"!==typeof i)&&(d.hasValue()&&(f.width=d.getPixels("x"),f.style&&(f.style.width="".concat(f.width,"px"))),p.hasValue()&&(f.height=p.getPixels("y"),f.style&&(f.style.height="".concat(f.height,"px"))));var g=f.clientWidth||f.width,v=f.clientHeight||f.height;if(e&&d.hasValue()&&p.hasValue()&&(g=d.getPixels("x"),v=p.getPixels("y")),c.setCurrent(g,v),"number"===typeof a&&t.getAttribute("x",!0).setValue(a),"number"===typeof o&&t.getAttribute("y",!0).setValue(o),"number"===typeof r||"number"===typeof i){var m=O(t.getAttribute("viewBox").getString()),y=0,x=0;if("number"===typeof r){var b=t.getStyle("width");b.hasValue()?y=b.getPixels("x")/r:isNaN(m[2])||(y=m[2]/r)}if("number"===typeof i){var w=t.getStyle("height");w.hasValue()?x=w.getPixels("y")/i:isNaN(m[3])||(x=m[3]/i)}y||(y=x),x||(x=y),t.getAttribute("width",!0).setValue(r),t.getAttribute("height",!0).setValue(i);var k=t.getStyle("transform",!0,!0);k.setValue("".concat(k.getString()," scale(").concat(1/y,", ").concat(1/x,")"))}n||l.clearRect(0,0,g,v),t.render(l),h&&(this.isFirstRender=!1)}}]),t}();lt.defaultWindow=ut,lt.defaultFetch=ct;var ht=lt.defaultFetch,ft="undefined"!==typeof DOMParser?DOMParser:null,dt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.fetch,r=void 0===n?ht:n,i=e.DOMParser,a=void 0===i?ft:i;f()(this,t),this.fetch=r,this.DOMParser=a}return p()(t,[{key:"parse",value:function(){var t=u()(o.a.mark((function t(e){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!/^</.test(e)){t.next=2;break}return t.abrupt("return",this.parseFromString(e));case 2:return t.abrupt("return",this.load(e));case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"parseFromString",value:function(t){try{var e=new this.DOMParser;return e.parseFromString(t,"image/svg+xml")}catch(r){var n=new this.DOMParser;return n.parseFromString(t,"text/xml")}}},{key:"load",value:function(){var t=u()(o.a.mark((function t(e){var n,r;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetch(e);case 2:return n=t.sent,t.next=5,n.text();case 5:return r=t.sent,t.abrupt("return",this.parseFromString(r));case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}(),pt=function(){function t(e,n){var r=this,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(f()(this,t),this.document=e,this.node=n,this.captureTextNodes=a,this.attributes={},this.styles={},this.stylesSpecificity={},this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],n&&1===n.nodeType){if(Array.from(n.attributes).forEach((function(t){var n=L(t.nodeName);r.attributes[n]=new it(e,n,t.value)})),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()){var o=this.getAttribute("style").getString().split(";").map((function(t){return t.trim()}));o.forEach((function(t){if(t){var n=t.split(":"),a=i()(n,2),o=a[0],s=a[1];r.styles[o]=new it(e,o.trim(),s.trim())}}))}var s=e.definitions,u=this.getAttribute("id");u.hasValue()&&(s[u.getValue()]||(s[u.getValue()]=this)),Array.from(n.childNodes).forEach((function(t){if(1===t.nodeType)r.addChild(t);else if(a&&(3===t.nodeType||4===t.nodeType)){var n=e.createTextNode(t);n.getText().length>0&&r.addChild(n)}}))}}return p()(t,[{key:"getAttribute",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.attributes[t];if(!n&&e){var r=new it(this.document,t,"");return this.attributes[t]=r,r}return n||it.empty(this.document)}},{key:"getHrefAttribute",value:function(){for(var t in this.attributes)if("href"===t||/:href$/.test(t))return this.attributes[t];return it.empty(this.document)}},{key:"getStyle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.styles[t];if(r)return r;var i=this.getAttribute(t);if(i&&i.hasValue())return this.styles[t]=i,i;if(!n){var a=this.parent;if(a){var o=a.getStyle(t);if(o&&o.hasValue())return o}}if(e){var s=new it(this.document,t,"");return this.styles[t]=s,s}return r||it.empty(this.document)}},{key:"render",value:function(t){if("none"!==this.getStyle("display").getString()&&"hidden"!==this.getStyle("visibility").getString()){if(t.save(),this.getStyle("mask").hasValue()){var e=this.getStyle("mask").getDefinition();e&&e.apply(t,this)}else if("none"!==this.getStyle("filter").getValue("none")){var n=this.getStyle("filter").getDefinition();n&&n.apply(t,this)}else this.setContext(t),this.renderChildren(t),this.clearContext(t);t.restore()}}},{key:"setContext",value:function(t){}},{key:"clearContext",value:function(t){}},{key:"renderChildren",value:function(t){this.children.forEach((function(e){e.render(t)}))}},{key:"addChild",value:function(e){var n=e instanceof t?e:this.document.createElement(e);n.parent=this,t.ignoreChildTypes.includes(n.type)||this.children.push(n)}},{key:"matchesSelector",value:function(t){var e=this.node;if("function"===typeof e.matches)return e.matches(t);var n=e.getAttribute("class");return!(!n||""===n)&&n.split(" ").some((function(e){if(".".concat(e)===t)return!0}))}},{key:"addStylesFromStyleDefinition",value:function(){var t=this.document,e=t.styles,n=t.stylesSpecificity;for(var r in e)if("@"!==r[0]&&this.matchesSelector(r)){var i=e[r],a=n[r];if(i)for(var o in i){var s=this.stylesSpecificity[o];"undefined"===typeof s&&(s="000"),a>=s&&(this.styles[o]=i[o],this.stylesSpecificity[o]=a)}}}}]),t}();pt.ignoreChildTypes=["title"];var gt=function(t){function e(t,n,r){var i;return f()(this,e),i=b()(this,k()(e).call(this,t,n,r)),console.warn("Element ".concat(n.nodeName," not yet implemented.")),i}return P()(e,t),e}(pt);function vt(t){var e=t.trim();return/^('|")/.test(e)?e:'"'.concat(e,'"')}function mt(e){return"undefined"===typeof t?e:e.trim().split(",").map(vt).join(",")}function yt(t){if(!t)return"";var e=t.trim().toLowerCase();switch(e){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return e;default:return/^oblique\s+(-|)\d+deg$/.test(e)?e:""}}function xt(t){if(!t)return"";var e=t.trim().toLowerCase();switch(e){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return e;default:return/^[\d.]+$/.test(e)?e:""}}var bt=function(){function t(e,n,r,i,a,o){f()(this,t);var s=o?"string"===typeof o?t.parse(o):o:{};this.fontFamily=a||s.fontFamily,this.fontSize=i||s.fontSize,this.fontStyle=e||s.fontStyle,this.fontWeight=r||s.fontWeight,this.fontVariant=n||s.fontVariant}return p()(t,[{key:"toString",value:function(){return[yt(this.fontStyle),this.fontVariant,xt(this.fontWeight),this.fontSize,mt(this.fontFamily)].join(" ").trim()}}],[{key:"parse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r="",a="",o="",s="",u="",c=_(e).trim().split(" "),l={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return c.forEach((function(e){switch(!0){case!l.fontStyle&&t.styles.includes(e):"inherit"!==e&&(r=e),l.fontStyle=!0;break;case!l.fontVariant&&t.variants.includes(e):"inherit"!==e&&(a=e),l.fontStyle=!0,l.fontVariant=!0;break;case!l.fontWeight&&t.weights.includes(e):"inherit"!==e&&(o=e),l.fontStyle=!0,l.fontVariant=!0,l.fontWeight=!0;break;case!l.fontSize:if("inherit"!==e){var n=e.split("/"),c=i()(n,1);s=c[0]}l.fontStyle=!0,l.fontVariant=!0,l.fontWeight=!0,l.fontSize=!0;break;default:"inherit"!==e&&(u+=e)}})),new t(r,a,o,s,u,n)}}]),t}();bt.styles="normal|italic|oblique|inherit",bt.variants="normal|small-caps|inherit",bt.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";var wt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.NaN,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.NaN,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.NaN,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Number.NaN;f()(this,t),this.x1=e,this.y1=n,this.x2=r,this.y2=i,this.addPoint(e,n),this.addPoint(r,i)}return p()(t,[{key:"addPoint",value:function(t,e){"undefined"!==typeof t&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),"undefined"!==typeof e&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))}},{key:"addX",value:function(t){this.addPoint(t,null)}},{key:"addY",value:function(t){this.addPoint(null,t)}},{key:"addBoundingBox",value:function(t){if(t){var e=t.x1,n=t.y1,r=t.x2,i=t.y2;this.addPoint(e,n),this.addPoint(r,i)}}},{key:"sumCubic",value:function(t,e,n,r,i){return Math.pow(1-t,3)*e+3*Math.pow(1-t,2)*t*n+3*(1-t)*Math.pow(t,2)*r+Math.pow(t,3)*i}},{key:"bezierCurveAdd",value:function(t,e,n,r,i){var a=6*e-12*n+6*r,o=-3*e+9*n-9*r+3*i,s=3*n-3*e;if(0!==o){var u=Math.pow(a,2)-4*s*o;if(!(u<0)){var c=(-a+Math.sqrt(u))/(2*o);0<c&&c<1&&(t?this.addX(this.sumCubic(c,e,n,r,i)):this.addY(this.sumCubic(c,e,n,r,i)));var l=(-a-Math.sqrt(u))/(2*o);0<l&&l<1&&(t?this.addX(this.sumCubic(l,e,n,r,i)):this.addY(this.sumCubic(l,e,n,r,i)))}}else{if(0===a)return;var h=-s/a;0<h&&h<1&&(t?this.addX(this.sumCubic(h,e,n,r,i)):this.addY(this.sumCubic(h,e,n,r,i)))}}},{key:"addBezierCurve",value:function(t,e,n,r,i,a,o,s){this.addPoint(t,e),this.addPoint(o,s),this.bezierCurveAdd(!0,t,n,i,o),this.bezierCurveAdd(!1,e,r,a,s)}},{key:"addQuadraticCurve",value:function(t,e,n,r,i,a){var o=t+2/3*(n-t),s=e+2/3*(r-e),u=o+1/3*(i-t),c=s+1/3*(a-e);this.addBezierCurve(t,e,o,u,s,c,i,a)}},{key:"isPointInBox",value:function(t,e){var n=this.x1,r=this.y1,i=this.x2,a=this.y2;return n<=t&&t<=i&&r<=e&&e<=a}},{key:"x",get:function(){return this.x1}},{key:"y",get:function(){return this.y1}},{key:"width",get:function(){return this.x2-this.x1}},{key:"height",get:function(){return this.y2-this.y1}}]),t}(),kt=function(){function t(e,n){f()(this,t),this.type="translate",this.point=null,this.point=ot.parse(n)}return p()(t,[{key:"apply",value:function(t){var e=this.point,n=e.x,r=e.y;t.translate(n||0,r||0)}},{key:"unapply",value:function(t){var e=this.point,n=e.x,r=e.y;t.translate(-1*n||0,-1*r||0)}},{key:"applyToPoint",value:function(t){var e=this.point,n=e.x,r=e.y;t.applyTransform([1,0,0,1,n||0,r||0])}}]),t}(),At=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];f()(this,t),this.type="rotate",this.angle=null,this.cx=0,this.cy=0;var i=O(n);this.angle=new it(e,"angle",i[0]),this.cx=(i[1]||0)+(r[0]||0),this.cy=(i[2]||0)+(r[1]||0)}return p()(t,[{key:"apply",value:function(t){var e=this.cx,n=this.cy,r=this.angle;t.translate(e,n),t.rotate(r.getRadians()),t.translate(-e,-n)}},{key:"unapply",value:function(t){var e=this.cx,n=this.cy,r=this.angle;t.translate(e,n),t.rotate(-1*r.getRadians()),t.translate(-e,-n)}},{key:"applyToPoint",value:function(t){var e=this.cx,n=this.cy,r=this.angle,i=r.getRadians();t.applyTransform([1,0,0,1,e||0,n||0]),t.applyTransform([Math.cos(i),Math.sin(i),-Math.sin(i),Math.cos(i),0,0]),t.applyTransform([1,0,0,1,-e||0,-n||0])}}]),t}(),Pt=function(){function t(e,n){f()(this,t),this.type="scale",this.scale=null;var r=ot.parseScale(n);0!==r.x&&0!==r.y||(r.x=Q,r.y=Q),this.scale=r}return p()(t,[{key:"apply",value:function(t){var e=this.scale,n=e.x,r=e.y;t.scale(n,r||n)}},{key:"unapply",value:function(t){var e=this.scale,n=e.x,r=e.y;t.scale(1/n,1/r||n)}},{key:"applyToPoint",value:function(t){var e=this.scale,n=e.x,r=e.y;t.applyTransform([n||0,0,0,r||0,0,0])}}]),t}(),St=function(){function t(e,n){f()(this,t),this.type="matrix",this.matrix=[],this.matrix=O(n)}return p()(t,[{key:"apply",value:function(t){var e=this.matrix;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}},{key:"unapply",value:function(t){var e=this.matrix,n=e[0],r=e[2],i=e[4],a=e[1],o=e[3],s=e[5],u=0,c=0,l=1,h=1/(n*(o*l-s*c)-r*(a*l-s*u)+i*(a*c-o*u));t.transform(h*(o*l-s*c),h*(s*u-a*l),h*(i*c-r*l),h*(n*l-i*u),h*(r*s-i*o),h*(i*a-n*s))}},{key:"applyToPoint",value:function(t){t.applyTransform(this.matrix)}}]),t}(),Ct=function(t){function e(t,n){var r;return f()(this,e),r=b()(this,k()(e).call(this,t,n)),r.type="skew",r.angle=null,r.angle=new it(t,"angle",n),r}return P()(e,t),e}(St),Mt=function(t){function e(t,n){var r;return f()(this,e),r=b()(this,k()(e).call(this,t,n)),r.type="skewX",r.matrix=[1,0,Math.tan(r.angle.getRadians()),1,0,0],r}return P()(e,t),e}(Ct),Et=function(t){function e(t,n){var r;return f()(this,e),r=b()(this,k()(e).call(this,t,n)),r.type="skewY",r.matrix=[1,Math.tan(r.angle.getRadians()),0,1,0,0],r}return P()(e,t),e}(Ct);function Tt(t){return _(t).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function _t(t){var e=t.split("("),n=i()(e,2),r=n[0],a=n[1];return[r.trim(),a.trim().replace(")","")]}var Vt=function(){function t(e,n,r){var a=this;f()(this,t),this.document=e,this.transforms=[];var o=Tt(n),s=r?O(r):[];o.forEach((function(e){if("none"!==e){var n=_t(e),r=i()(n,2),o=r[0],u=r[1],c=t.transformTypes[o];"undefined"!==typeof c&&a.transforms.push(new c(a.document,u,s))}}))}return p()(t,[{key:"apply",value:function(t){for(var e=this.transforms,n=e.length,r=0;r<n;r++)e[r].apply(t)}},{key:"unapply",value:function(t){for(var e=this.transforms,n=e.length,r=n-1;r>=0;r--)e[r].unapply(t)}},{key:"applyToPoint",value:function(t){for(var e=this.transforms,n=e.length,r=0;r<n;r++)e[r].applyToPoint(t)}}],[{key:"fromElement",value:function(e,n){var r=n.getStyle("transform",!1,!0),i=n.getStyle("transform-origin",!1,!0);return r.hasValue()?new t(e,r.getString(),i.getString()):null}}]),t}();Vt.transformTypes={translate:kt,rotate:At,scale:Pt,matrix:St,skewX:Mt,skewY:Et};var Nt=function(t){function e(){var t;return f()(this,e),t=b()(this,k()(e).apply(this,arguments)),t.modifiedEmSizeStack=!1,t}return P()(e,t),p()(e,[{key:"calculateOpacity",value:function(){var t=1,e=this;while(e){var n=e.getStyle("opacity",!1,!0);n.hasValue()&&(t*=n.getNumber()),e=e.parent}return t}},{key:"setContext",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e){var n=this.getStyle("fill"),r=this.getStyle("fill-opacity"),i=this.getStyle("stroke"),a=this.getStyle("stroke-opacity");if(n.isUrlDefinition()){var o=n.getFillStyleDefinition(this,r);o&&(t.fillStyle=o)}else if(n.hasValue()){"currentColor"===n.getString()&&n.setValue(this.getStyle("color").getValue());var s=n.getString();"inherit"!==s&&(t.fillStyle="none"===s?"rgba(0,0,0,0)":s)}if(r.hasValue()){var u=new it(this.document,"fill",t.fillStyle).addOpacity(r).getString();t.fillStyle=u}if(i.isUrlDefinition()){var c=i.getFillStyleDefinition(this,a);c&&(t.strokeStyle=c)}else if(i.hasValue()){"currentColor"===i.getString()&&i.setValue(this.getStyle("color").getValue());var l=i.getString();"inherit"!==l&&(t.strokeStyle="none"===l?"rgba(0,0,0,0)":l)}if(a.hasValue()){var h=new it(this.document,"stroke",t.strokeStyle).addOpacity(a).getString();t.strokeStyle=h}var f=this.getStyle("stroke-width");if(f.hasValue()){var d=f.getPixels();t.lineWidth=d||Q}var p=this.getStyle("stroke-linecap"),g=this.getStyle("stroke-linejoin"),v=this.getStyle("stroke-miterlimit"),m=this.getStyle("paint-order"),y=this.getStyle("stroke-dasharray"),x=this.getStyle("stroke-dashoffset");if(p.hasValue()&&(t.lineCap=p.getString()),g.hasValue()&&(t.lineJoin=g.getString()),v.hasValue()&&(t.miterLimit=v.getNumber()),m.hasValue()&&(t.paintOrder=m.getValue()),y.hasValue()&&"none"!==y.getString()){var b=O(y.getString());"undefined"!==typeof t.setLineDash?t.setLineDash(b):"undefined"!==typeof t.webkitLineDash?t.webkitLineDash=b:"undefined"===typeof t.mozDash||1===b.length&&0===b[0]||(t.mozDash=b);var w=x.getPixels();"undefined"!==typeof t.lineDashOffset?t.lineDashOffset=w:"undefined"!==typeof t.webkitLineDashOffset?t.webkitLineDashOffset=w:"undefined"!==typeof t.mozDashOffset&&(t.mozDashOffset=w)}}if(this.modifiedEmSizeStack=!1,"undefined"!==typeof t.font){var k=this.getStyle("font"),A=this.getStyle("font-style"),P=this.getStyle("font-variant"),S=this.getStyle("font-weight"),C=this.getStyle("font-size"),M=this.getStyle("font-family"),E=new bt(A.getString(),P.getString(),S.getString(),C.hasValue()?"".concat(C.getPixels(!0),"px"):"",M.getString(),bt.parse(k.getString(),t.font));A.setValue(E.fontStyle),P.setValue(E.fontVariant),S.setValue(E.fontWeight),C.setValue(E.fontSize),M.setValue(E.fontFamily),t.font=E.toString(),C.isPixels()&&(this.document.emSize=C.getPixels(),this.modifiedEmSizeStack=!0)}var T=Vt.fromElement(this.document,this);T&&T.apply(t);var _=this.getStyle("clip-path",!1,!0);if(_.hasValue()){var V=_.getDefinition();V&&V.apply(t)}t.globalAlpha=this.calculateOpacity()}},{key:"clearContext",value:function(t){C()(k()(e.prototype),"clearContext",this).call(this,t),this.modifiedEmSizeStack&&this.document.popEmSize()}}]),e}(pt),Ot=function(t){function e(t,n,r){var i;return f()(this,e),i=b()(this,k()(e).call(this,t,n,(this instanceof e?this.constructor:void 0)===e||r)),i.type="text",i.x=0,i.y=0,i.measureCache=-1,i}return P()(e,t),p()(e,[{key:"setContext",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];C()(k()(e.prototype),"setContext",this).call(this,t,n);var r=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();r&&(t.textBaseline=r)}},{key:"initializeCoordinates",value:function(t){this.x=this.getAttribute("x").getPixels("x"),this.y=this.getAttribute("y").getPixels("y");var e=this.getAttribute("dx"),n=this.getAttribute("dy");e.hasValue()&&(this.x+=e.getPixels("x")),n.hasValue()&&(this.y+=n.getPixels("y")),this.x+=this.getAnchorDelta(t,this,0)}},{key:"getBoundingBox",value:function(t){var e=this;if("text"!==this.type)return this.getTElementBoundingBox(t);this.initializeCoordinates(t);var n=null;return this.children.forEach((function(r,i){var a=e.getChildBoundingBox(t,e,e,i);n?n.addBoundingBox(a):n=a})),n}},{key:"getFontSize",value:function(){var t=this.document,e=this.parent,n=bt.parse(t.ctx.font).fontSize,r=e.getStyle("font-size").getNumber(n);return r}},{key:"getTElementBoundingBox",value:function(t){var e=this.getFontSize();return new wt(this.x,this.y-e,this.x+this.measureText(t),this.y)}},{key:"getGlyph",value:function(t,e,n){var r=e[n],i=null;if(t.isArabic){var a=e.length,o=e[n-1],s=e[n+1],u="isolated";(0===n||" "===o)&&n<a-2&&" "!==s&&(u="terminal"),n>0&&" "!==o&&n<a-2&&" "!==s&&(u="medial"),n>0&&" "!==o&&(n===a-1||" "===s)&&(u="initial"),"undefined"!==typeof t.glyphs[r]&&(i=t.glyphs[r][u],i||"glyph"!==t.glyphs[r].type||(i=t.glyphs[r]))}else i=t.glyphs[r];return i||(i=t.missingGlyph),i}},{key:"getText",value:function(){return""}},{key:"getTextFromNode",value:function(t){var e=t||this.node,n=Array.from(e.parentNode.childNodes),r=n.indexOf(e),i=n.length-1,a=_(e.value||e.text||e.textContent||"");return 0===r&&(a=V(a)),r===i&&(a=N(a)),a}},{key:"renderChildren",value:function(t){var e=this;if("text"===this.type){this.initializeCoordinates(t),this.children.forEach((function(n,r){e.renderChild(t,e,e,r)}));var n=this.document.screen.mouse;n.isWorking()&&n.checkBoundingBox(this,this.getBoundingBox(t))}else this.renderTElementChildren(t)}},{key:"renderTElementChildren",value:function(t){var e=this.document,n=this.parent,r=this.getText(),i=n.getStyle("font-family").getDefinition();if(i)for(var a=i.fontFace.unitsPerEm,o=bt.parse(e.ctx.font),s=n.getStyle("font-size").getNumber(o.fontSize),u=n.getStyle("font-style").getString(o.fontStyle),c=s/a,l=i.isRTL?r.split("").reverse().join(""):r,h=O(n.getAttribute("dx").getString()),f=l.length,d=0;d<f;d++){var p=this.getGlyph(i,l,d);t.translate(this.x,this.y),t.scale(c,-c);var g=t.lineWidth;t.lineWidth=t.lineWidth*a/s,"italic"===u&&t.transform(1,0,.4,1,0,0),p.render(t),"italic"===u&&t.transform(1,0,-.4,1,0,0),t.lineWidth=g,t.scale(1/c,-1/c),t.translate(-this.x,-this.y),this.x+=s*(p.horizAdvX||i.horizAdvX)/a,"undefined"===typeof h[d]||isNaN(h[d])||(this.x+=h[d])}else{var v=this.x,m=this.y;"stroke"===t.paintOrder?(t.strokeStyle&&t.strokeText(r,v,m),t.fillStyle&&t.fillText(r,v,m)):(t.fillStyle&&t.fillText(r,v,m),t.strokeStyle&&t.strokeText(r,v,m))}}},{key:"getAnchorDelta",value:function(t,e,n){var r=this.getStyle("text-anchor").getString("start");if("start"!==r){for(var i=e.children,a=i.length,o=null,s=0,u=n;u<a;u++){if(o=i[u],u>n&&o.getAttribute("x").hasValue()||o.getAttribute("text-anchor").hasValue())break;s+=o.measureTextRecursive(t)}return-1*("end"===r?s:s/2)}return 0}},{key:"adjustChildCoordinates",value:function(t,e,n,r){var i=n.children[r];if("function"!==typeof i.measureText)return i;var a=i.getAttribute("x"),o=i.getAttribute("y"),s=i.getAttribute("dx"),u=i.getAttribute("dy"),c=i.getAttribute("text-anchor").getString("start");if(0===r&&"textNode"!==i.type&&(a.hasValue()||a.setValue(e.getAttribute("x").getValue("0")),o.hasValue()||o.setValue(e.getAttribute("y").getValue("0")),s.hasValue()||s.setValue(e.getAttribute("dx").getValue("0")),u.hasValue()||u.setValue(e.getAttribute("dy").getValue("0"))),a.hasValue()){if(i.x=a.getPixels("x")+e.getAnchorDelta(t,n,r),"start"!==c){var l=i.measureTextRecursive(t);i.x+=-1*("end"===c?l:l/2)}s.hasValue()&&(i.x+=s.getPixels("x"))}else{if("start"!==c){var h=i.measureTextRecursive(t);e.x+=-1*("end"===c?h:h/2)}s.hasValue()&&(e.x+=s.getPixels("x")),i.x=e.x}return e.x=i.x+i.measureText(t),o.hasValue()?(i.y=o.getPixels("y"),u.hasValue()&&(i.y+=u.getPixels("y"))):(u.hasValue()&&(e.y+=u.getPixels("y")),i.y=e.y),e.y=i.y,i}},{key:"getChildBoundingBox",value:function(t,e,n,r){var i=this.adjustChildCoordinates(t,e,n,r),a=i.getBoundingBox(t);return a?(i.children.forEach((function(n,r){var o=e.getChildBoundingBox(t,e,i,r);a.addBoundingBox(o)})),a):null}},{key:"renderChild",value:function(t,e,n,r){var i=this.adjustChildCoordinates(t,e,n,r);i.render(t),i.children.forEach((function(n,r){e.renderChild(t,e,i,r)}))}},{key:"measureTextRecursive",value:function(t){var e=this.children.reduce((function(e,n){return e+n.measureTextRecursive(t)}),this.measureText(t));return e}},{key:"measureText",value:function(t){var e=this.measureCache;if(~e)return e;var n=this.getText(),r=this.measureTargetText(t,n);return this.measureCache=r,r}},{key:"measureTargetText",value:function(t,e){if(!e.length)return 0;var n=this.parent,r=n.getStyle("font-family").getDefinition();if(r){for(var i=this.getFontSize(),a=r.isRTL?e.split("").reverse().join(""):e,o=O(n.getAttribute("dx").getString()),s=a.length,u=0,c=0;c<s;c++){var l=this.getGlyph(r,a,c);u+=(l.horizAdvX||r.horizAdvX)*i/r.fontFace.unitsPerEm,"undefined"===typeof o[c]||isNaN(o[c])||(u+=o[c])}return u}if(!t.measureText)return 10*e.length;t.save(),this.setContext(t,!0);var h=t.measureText(e),f=h.width;return t.restore(),f}}]),e}(Nt),It=function(t){function e(t,n,r){var i;return f()(this,e),i=b()(this,k()(e).call(this,t,n,(this instanceof e?this.constructor:void 0)===e||r)),i.type="tspan",i.text=i.children.length>0?"":i.getTextFromNode(),i}return P()(e,t),p()(e,[{key:"getText",value:function(){return this.text}}]),e}(Ot),Lt=function(t){function e(){var t;return f()(this,e),t=b()(this,k()(e).apply(this,arguments)),t.type="textNode",t}return P()(e,t),e}(It);function Dt(t){var e=t.replace(/,/gm," ").replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2").replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2").replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2").replace(/([0-9])([+\-])/gm,"$1 $2").replace(/(\.[0-9]*)(\.)/gm,"$1 $2").replace(/(\.[0-9]*)(\.)/gm,"$1 $2").replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 ");return _(e).trim()}var Bt=function(){function t(e){f()(this,t),this.control=null,this.start=null,this.current=null,this.command="",this.tokens=[],this.i=-1,this.previousCommand="",this.points=[],this.angles=[],this.tokens=Dt(e).split(" ")}return p()(t,[{key:"reset",value:function(){this.i=-1,this.command="",this.previousCommand="",this.start=new ot(0,0),this.control=new ot(0,0),this.current=new ot(0,0),this.points=[],this.angles=[]}},{key:"isEnd",value:function(){var t=this.i,e=this.tokens;return t>=e.length-1}},{key:"isCommandOrEnd",value:function(){if(this.isEnd())return!0;var t=this.i,e=this.tokens;return/^[A-Za-z]$/.test(e[t+1])}},{key:"isRelativeCommand",value:function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0;default:return!1}}},{key:"getToken",value:function(){return this.i++,this.tokens[this.i]}},{key:"getScalar",value:function(){return parseFloat(this.getToken())}},{key:"nextCommand",value:function(){this.previousCommand=this.command,this.command=this.getToken()}},{key:"getPoint",value:function(){var t=new ot(this.getScalar(),this.getScalar());return this.makeAbsolute(t)}},{key:"getAsControlPoint",value:function(){var t=this.getPoint();return this.control=t,t}},{key:"getAsCurrentPoint",value:function(){var t=this.getPoint();return this.current=t,t}},{key:"getReflectedControlPoint",value:function(){var t=this.previousCommand.toLowerCase();if("c"!==t&&"s"!==t&&"q"!==t&&"t"!==t)return this.current;var e=this.current,n=e.x,r=e.y,i=this.control,a=i.x,o=i.y,s=new ot(2*n-a,2*r-o);return s}},{key:"makeAbsolute",value:function(t){if(this.isRelativeCommand()){var e=this.current,n=e.x,r=e.y;t.x+=n,t.y+=r}return t}},{key:"addMarker",value:function(t,e,n){var r=this.points,i=this.angles;n&&i.length>0&&!i[i.length-1]&&(i[i.length-1]=r[r.length-1].angleTo(n)),this.addMarkerAngle(t,e?e.angleTo(t):null)}},{key:"addMarkerAngle",value:function(t,e){this.points.push(t),this.angles.push(e)}},{key:"getMarkerPoints",value:function(){return this.points}},{key:"getMarkerAngles",value:function(){for(var t=this.angles,e=t.length,n=0;n<e;n++)if(!t[n])for(var r=n+1;r<e;r++)if(t[r]){t[n]=t[r];break}return t}}]),t}(),zt=function(t){function e(t,n,r){var i;return f()(this,e),i=b()(this,k()(e).call(this,t,n,r)),i.type="path",i.pathParser=null,i.pathParser=new Bt(i.getAttribute("d").getString()),i}return P()(e,t),p()(e,[{key:"path",value:function(t){var e=this.pathParser,n=new wt;e.reset(),t&&t.beginPath();while(!e.isEnd())switch(e.nextCommand(),e.command){case"M":case"m":this.pathM(t,n);break;case"L":case"l":this.pathL(t,n);break;case"H":case"h":this.pathH(t,n);break;case"V":case"v":this.pathV(t,n);break;case"C":case"c":this.pathC(t,n);break;case"S":case"s":this.pathS(t,n);break;case"Q":case"q":this.pathQ(t,n);break;case"T":case"t":this.pathT(t,n);break;case"A":case"a":this.pathA(t,n);break;case"Z":case"z":this.pathZ(t,n);break}return n}},{key:"getBoundingBox",value:function(t){return this.path()}},{key:"getMarkers",value:function(){var t=this.pathParser,e=t.getMarkerPoints(),n=t.getMarkerAngles(),r=e.map((function(t,e){return[t,n[e]]}));return r}},{key:"renderChildren",value:function(t){this.path(t),this.document.screen.mouse.checkPath(this,t);var e=this.getStyle("fill-rule");""!==t.fillStyle&&("inherit"!==e.getString("inherit")?t.fill(e.getString()):t.fill()),""!==t.strokeStyle&&t.stroke();var n=this.getMarkers();if(n){var r=n.length-1,a=this.getStyle("marker-start"),o=this.getStyle("marker-mid"),s=this.getStyle("marker-end");if(a.isUrlDefinition()){var u=a.getDefinition(),c=i()(n[0],2),l=c[0],h=c[1];u.render(t,l,h)}if(o.isUrlDefinition())for(var f=o.getDefinition(),d=1;d<r;d++){var p=i()(n[d],2),g=p[0],v=p[1];f.render(t,g,v)}if(s.isUrlDefinition()){var m=s.getDefinition(),y=i()(n[r],2),x=y[0],b=y[1];m.render(t,x,b)}}}},{key:"pathM",value:function(t,e){var n=this.pathParser,r=n.getAsCurrentPoint(),i=r.x,a=r.y;n.addMarker(r),e.addPoint(i,a),t&&t.moveTo(i,a),n.start=n.current;while(!n.isCommandOrEnd()){var o=n.getAsCurrentPoint(),s=o.x,u=o.y;n.addMarker(o,n.start),e.addPoint(s,u),t&&t.lineTo(s,u)}}},{key:"pathL",value:function(t,e){var n=this.pathParser;while(!n.isCommandOrEnd()){var r=n.current,i=n.getAsCurrentPoint(),a=i.x,o=i.y;n.addMarker(i,r),e.addPoint(a,o),t&&t.lineTo(a,o)}}},{key:"pathH",value:function(t,e){var n=this.pathParser;while(!n.isCommandOrEnd()){var r=n.current,i=new ot((n.isRelativeCommand()?r.x:0)+n.getScalar(),r.y);n.addMarker(i,r),n.current=i,e.addPoint(i.x,i.y),t&&t.lineTo(i.x,i.y)}}},{key:"pathV",value:function(t,e){var n=this.pathParser;while(!n.isCommandOrEnd()){var r=n.current,i=new ot(r.x,(n.isRelativeCommand()?r.y:0)+n.getScalar());n.addMarker(i,r),n.current=i,e.addPoint(i.x,i.y),t&&t.lineTo(i.x,i.y)}}},{key:"pathC",value:function(t,e){var n=this.pathParser;while(!n.isCommandOrEnd()){var r=n.current,i=n.getPoint(),a=n.getAsControlPoint(),o=n.getAsCurrentPoint();n.addMarker(o,a,i),e.addBezierCurve(r.x,r.y,i.x,i.y,a.x,a.y,o.x,o.y),t&&t.bezierCurveTo(i.x,i.y,a.x,a.y,o.x,o.y)}}},{key:"pathS",value:function(t,e){var n=this.pathParser;while(!n.isCommandOrEnd()){var r=n.current,i=n.getReflectedControlPoint(),a=n.getAsControlPoint(),o=n.getAsCurrentPoint();n.addMarker(o,a,i),e.addBezierCurve(r.x,r.y,i.x,i.y,a.x,a.y,o.x,o.y),t&&t.bezierCurveTo(i.x,i.y,a.x,a.y,o.x,o.y)}}},{key:"pathQ",value:function(t,e){var n=this.pathParser;while(!n.isCommandOrEnd()){var r=n.current,i=n.getAsControlPoint(),a=n.getAsCurrentPoint();n.addMarker(a,i,i),e.addQuadraticCurve(r.x,r.y,i.x,i.y,a.x,a.y),t&&t.quadraticCurveTo(i.x,i.y,a.x,a.y)}}},{key:"pathT",value:function(t,e){var n=this.pathParser;while(!n.isCommandOrEnd()){var r=n.current,i=n.getReflectedControlPoint();n.control=i;var a=n.getAsCurrentPoint();n.addMarker(a,i,i),e.addQuadraticCurve(r.x,r.y,i.x,i.y,a.x,a.y),t&&t.quadraticCurveTo(i.x,i.y,a.x,a.y)}}},{key:"pathA",value:function(t,e){var n=this.pathParser;while(!n.isCommandOrEnd()){var r=n.current,i=n.getScalar(),a=n.getScalar(),o=n.getScalar()*(Math.PI/180),s=n.getScalar(),u=n.getScalar(),c=n.getAsCurrentPoint(),l=new ot(Math.cos(o)*(r.x-c.x)/2+Math.sin(o)*(r.y-c.y)/2,-Math.sin(o)*(r.x-c.x)/2+Math.cos(o)*(r.y-c.y)/2),h=Math.pow(l.x,2)/Math.pow(i,2)+Math.pow(l.y,2)/Math.pow(a,2);h>1&&(i*=Math.sqrt(h),a*=Math.sqrt(h));var f=(s===u?-1:1)*Math.sqrt((Math.pow(i,2)*Math.pow(a,2)-Math.pow(i,2)*Math.pow(l.y,2)-Math.pow(a,2)*Math.pow(l.x,2))/(Math.pow(i,2)*Math.pow(l.y,2)+Math.pow(a,2)*Math.pow(l.x,2)));isNaN(f)&&(f=0);var d=new ot(f*i*l.y/a,f*-a*l.x/i),p=new ot((r.x+c.x)/2+Math.cos(o)*d.x-Math.sin(o)*d.y,(r.y+c.y)/2+Math.sin(o)*d.x+Math.cos(o)*d.y),g=U([1,0],[(l.x-d.x)/i,(l.y-d.y)/a]),v=[(l.x-d.x)/i,(l.y-d.y)/a],m=[(-l.x-d.x)/i,(-l.y-d.y)/a],y=U(v,m);Y(v,m)<=-1&&(y=Math.PI),Y(v,m)>=1&&(y=0);var x=1-u?1:-1,b=g+x*(y/2),w=new ot(p.x+i*Math.cos(b),p.y+a*Math.sin(b));if(n.addMarkerAngle(w,b-x*Math.PI/2),n.addMarkerAngle(c,b-x*Math.PI),e.addPoint(c.x,c.y),t&&!isNaN(g)&&!isNaN(y)){var k=i>a?i:a,A=i>a?1:i/a,P=i>a?a/i:1;t.translate(p.x,p.y),t.rotate(o),t.scale(A,P),t.arc(0,0,k,g,g+y,Boolean(1-u)),t.scale(1/A,1/P),t.rotate(-o),t.translate(-p.x,-p.y)}}}},{key:"pathZ",value:function(t,e){var n=this.pathParser;t&&e.x1!==e.x2&&e.y1!==e.y2&&t.closePath(),n.current=n.start}}]),e}(Nt),Rt=function(t){function e(){var t;return f()(this,e),t=b()(this,k()(e).apply(this,arguments)),t.type="svg",t.root=!1,t}return P()(e,t),p()(e,[{key:"clearContext",value:function(t){C()(k()(e.prototype),"clearContext",this).call(this,t),this.document.screen.viewPort.removeCurrent()}},{key:"setContext",value:function(t){var n=this.document,r=n.screen,i=n.window,a=t.canvas;if(r.setDefaults(t),a.style&&"undefined"!==typeof t.font&&i&&"undefined"!==typeof i.getComputedStyle){t.font=i.getComputedStyle(a).getPropertyValue("font");var o=new it(n,"fontSize",bt.parse(t.font).fontSize);o.hasValue()&&(n.rootEmSize=o.getPixels("y"),n.emSize=n.rootEmSize)}C()(k()(e.prototype),"setContext",this).call(this,t),this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0),t.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y"));var s=r.viewPort,u=s.width,c=s.height;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%");var l=this.getAttribute("refX"),h=this.getAttribute("refY"),f=this.getAttribute("viewBox"),d=f.hasValue()?O(f.getString()):null,p=!this.root&&"visible"!==this.getAttribute("overflow").getValue("hidden"),g=0,v=0,m=0,y=0;d&&(g=d[0],v=d[1]),this.root||(u=this.getStyle("width").getPixels("x"),c=this.getStyle("height").getPixels("y"),"marker"===this.type&&(m=g,y=v,g=0,v=0)),r.viewPort.setCurrent(u,c),d&&(u=d[2],c=d[3]),n.setViewBox({ctx:t,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:r.viewPort.width,desiredWidth:u,height:r.viewPort.height,desiredHeight:c,minX:g,minY:v,refX:l.getValue(),refY:h.getValue(),clip:p,clipX:m,clipY:y}),d&&(r.viewPort.removeCurrent(),r.viewPort.setCurrent(u,c))}},{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.getAttribute("width",!0),i=this.getAttribute("height",!0),a=this.getAttribute("viewBox"),o=this.getAttribute("style"),s=r.getNumber(0),u=i.getNumber(0);if(n)if("string"===typeof n)this.getAttribute("preserveAspectRatio",!0).setValue(n);else{var c=this.getAttribute("preserveAspectRatio");c.hasValue()&&c.setValue(c.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(r.setValue(t),i.setValue(e),a.hasValue()||a.setValue("0 0 ".concat(s||t," ").concat(u||e)),o.hasValue()){var l=this.getStyle("width"),h=this.getStyle("height");l.hasValue()&&l.setValue("".concat(t,"px")),h.hasValue()&&h.setValue("".concat(e,"px"))}}}]),e}(Nt),jt=function(t){function e(){var t;return f()(this,e),t=b()(this,k()(e).apply(this,arguments)),t.type="rect",t}return P()(e,t),p()(e,[{key:"path",value:function(t){var e=this.getAttribute("x").getPixels("x"),n=this.getAttribute("y").getPixels("y"),r=this.getStyle("width").getPixels("x"),i=this.getStyle("height").getPixels("y"),a=this.getAttribute("rx"),o=this.getAttribute("ry"),s=a.getPixels("x"),u=o.getPixels("y");if(a.hasValue()&&!o.hasValue()&&(u=s),o.hasValue()&&!a.hasValue()&&(s=u),s=Math.min(s,r/2),u=Math.min(u,i/2),t){var c=(Math.sqrt(2)-1)/3*4;t.beginPath(),i>0&&r>0&&(t.moveTo(e+s,n),t.lineTo(e+r-s,n),t.bezierCurveTo(e+r-s+c*s,n,e+r,n+u-c*u,e+r,n+u),t.lineTo(e+r,n+i-u),t.bezierCurveTo(e+r,n+i-u+c*u,e+r-s+c*s,n+i,e+r-s,n+i),t.lineTo(e+s,n+i),t.bezierCurveTo(e+s-c*s,n+i,e,n+i-u+c*u,e,n+i-u),t.lineTo(e,n+u),t.bezierCurveTo(e,n+u-c*u,e+s-c*s,n,e+s,n),t.closePath())}return new wt(e,n,e+r,n+i)}},{key:"getMarkers",value:function(){return null}}]),e}(zt),Ft=function(t){function e(){var t;return f()(this,e),t=b()(this,k()(e).apply(this,arguments)),t.type="circle",t}return P()(e,t),p()(e,[{key:"path",value:function(t){var e=this.getAttribute("cx").getPixels("x"),n=this.getAttribute("cy").getPixels("y"),r=this.getAttribute("r").getPixels();return t&&r>0&&(t.beginPath(),t.arc(e,n,r,0,2*Math.PI,!1),t.closePath()),new wt(e-r,n-r,e+r,n+r)}},{key:"getMarkers",value:function(){return null}}]),e}(zt),qt=function(t){function e(){var t;return f()(this,e),t=b()(this,k()(e).apply(this,arguments)),t.type="ellipse",t}return P()(e,t),p()(e,[{key:"path",value:function(t){var e=(Math.sqrt(2)-1)/3*4,n=this.getAttribute("rx").getPixels("x"),r=this.getAttribute("ry").getPixels("y"),i=this.getAttribute("cx").getPixels("x"),a=this.getAttribute("cy").getPixels("y");return t&&(t.beginPath(),t.moveTo(i+n,a),t.bezierCurveTo(i+n,a+e*r,i+e*n,a+r,i,a+r),t.bezierCurveTo(i-e*n,a+r,i-n,a+e*r,i-n,a),t.bezierCurveTo(i-n,a-e*r,i-e*n,a-r,i,a-r),t.bezierCurveTo(i+e*n,a-r,i+n,a-e*r,i+n,a),t.closePath()),new wt(i-n,a-r,i+n,a+r)}},{key:"getMarkers",value:function(){return null}}]),e}(zt),Ht=function(t){function e(){var t;return f()(this,e),t=b()(this,k()(e).apply(this,arguments)),t.type="line",t}return P()(e,t),p()(e,[{key:"getPoints",value:function(){return[new ot(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new ot(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}},{key:"path",value:function(t){var e=this.getPoints(),n=i()(e,2),r=n[0],a=r.x,o=r.y,s=n[1],u=s.x,c=s.y;return t&&(t.beginPath(),t.moveTo(a,o),t.lineTo(u,c)),new wt(a,o,u,c)}},{key:"getMarkers",value:function(){var t=this.getPoints(),e=i()(t,2),n=e[0],r=e[1],a=n.angleTo(r);return[[n,a],[r,a]]}}]),e}(zt),$t=function(t){function e(t,n,r){var i;return f()(this,e),i=b()(this,k()(e).call(this,t,n,r)),i.type="polyline",i.points=[],i.points=ot.parsePath(i.getAttribute("points").getString()),i}return P()(e,t),p()(e,[{key:"path",value:function(t){var e=this.points,n=i()(e,1),r=n[0],a=r.x,o=r.y,s=new wt(a,o);return t&&(t.beginPath(),t.moveTo(a,o)),e.forEach((function(e){var n=e.x,r=e.y;s.addPoint(n,r),t&&t.lineTo(n,r)})),s}},{key:"getMarkers",value:function(){var t=this.points,e=t.length-1,n=[];return t.forEach((function(r,i){i!==e&&n.push([r,r.angleTo(t[i+1])])})),n.length>0&&n.push([t[t.length-1],n[n.length-1][1]]),n}}]),e}(zt),Gt=function(t){function e(){var t;return f()(this,e),t=b()(this,k()(e).apply(this,arguments)),t.type="polygon",t}return P()(e,t),p()(e,[{key:"path",value:function(t){var n=C()(k()(e.prototype),"path",this).call(this,t),r=i()(this.points,1),a=r[0],o=a.x,s=a.y;return t&&(t.lineTo(o,s),t.closePath()),n}}]),e}($t),Qt=function(t){function e(){var t;return f()(this,e),t=b()(this,k()(e).apply(this,arguments)),t.type="pattern",t}return P()(e,t),p()(e,[{key:"createPattern",value:function(t,e,n){var r=this.getStyle("width").getPixels("x",!0),i=this.getStyle("height").getPixels("y",!0),a=new Rt(this.document,null);a.attributes.viewBox=new it(this.document,"viewBox",this.getAttribute("viewBox").getValue()),a.attributes.width=new it(this.document,"width","".concat(r,"px")),a.attributes.height=new it(this.document,"height","".concat(i,"px")),a.attributes.transform=new it(this.document,"transform",this.getAttribute("patternTransform").getValue()),a.children=this.children;var o=this.document.createCanvas(r,i),s=o.getContext("2d"),u=this.getAttribute("x"),c=this.getAttribute("y");u.hasValue()&&c.hasValue()&&s.translate(u.getPixels("x",!0),c.getPixels("y",!0)),n.hasValue()?this.styles["fill-opacity"]=n:Reflect.deleteProperty(this.styles,"fill-opacity");for(var l=-1;l<=1;l++)for(var h=-1;h<=1;h++)s.save(),a.attributes.x=new it(this.document,"x",l*o.width),a.attributes.y=new it(this.document,"y",h*o.height),a.render(s),s.restore();var f=t.createPattern(o,"repeat");return f}}]),e}(pt),Xt=function(t){function e(){var t;return f()(this,e),t=b()(this,k()(e).apply(this,arguments)),t.type="marker",t}return P()(e,t),p()(e,[{key:"render",value:function(t,e,n){if(e){var r=e.x,i=e.y,a=this.getAttribute("orient").getValue("auto"),o=this.getAttribute("markerUnits").getValue("strokeWidth");t.translate(r,i),"auto"===a&&t.rotate(n),"strokeWidth"===o&&t.scale(t.lineWidth,t.lineWidth),t.save();var s=new Rt(this.document,null);s.type=this.type,s.attributes.viewBox=new it(this.document,"viewBox",this.getAttribute("viewBox").getValue()),s.attributes.refX=new it(this.document,"refX",this.getAttribute("refX").getValue()),s.attributes.refY=new it(this.document,"refY",this.getAttribute("refY").getValue()),s.attributes.width=new it(this.document,"width",this.getAttribute("markerWidth").getValue()),s.attributes.height=new it(this.document,"height",this.getAttribute("markerHeight").getValue()),s.attributes.overflow=new it(this.document,"overflow",this.getAttribute("overflow").getValue()),s.attributes.fill=new it(this.document,"fill",this.getAttribute("fill").getValue("black")),s.attributes.stroke=new it(this.document,"stroke",this.getAttribute("stroke").getValue("none")),s.children=this.children,s.render(t),t.restore(),"strokeWidth"===o&&t.scale(1/t.lineWidth,1/t.lineWidth),"auto"===a&&t.rotate(-n),t.translate(-r,-i)}}}]),e}(pt),Yt=function(t){function e(){var t;return f()(this,e),t=b()(this,k()(e).apply(this,arguments)),t.type="defs",t}return P()(e,t),p()(e,[{key:"render",value:function(){}}]),e}(pt),Ut=function(t){function e(){var t;return f()(this,e),t=b()(this,k()(e).apply(this,arguments)),t.type="g",t}return P()(e,t),p()(e,[{key:"getBoundingBox",value:function(t){var e=new wt;return this.children.forEach((function(n){e.addBoundingBox(n.getBoundingBox(t))})),e}}]),e}(Nt),Wt=function(t){function e(t,n,r){var i;f()(this,e),i=b()(this,k()(e).call(this,t,n,r)),i.attributesToInherit=["gradientUnits"],i.stops=[];var a=E()(i),o=a.stops,s=a.children;return s.forEach((function(t){"stop"===t.type&&o.push(t)})),i}return P()(e,t),p()(e,[{key:"getGradientUnits",value:function(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}},{key:"createGradient",value:function(t,e,n){var r=this,a=this;this.getHrefAttribute().hasValue()&&(a=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(a));var o=a,s=o.stops,u=this.getGradient(t,e);if(!u)return this.addParentOpacity(n,s[s.length-1].color);if(s.forEach((function(t){u.addColorStop(t.offset,r.addParentOpacity(n,t.color))})),this.getAttribute("gradientTransform").hasValue()){var c=this.document,l=c.screen,h=l.MAX_VIRTUAL_PIXELS,f=l.viewPort,d=i()(f.viewPorts,1),p=d[0],g=new jt(c,null);g.attributes.x=new it(c,"x",-h/3),g.attributes.y=new it(c,"y",-h/3),g.attributes.width=new it(c,"width",h),g.attributes.height=new it(c,"height",h);var v=new Ut(c,null);v.attributes.transform=new it(c,"transform",this.getAttribute("gradientTransform").getValue()),v.children=[g];var m=new Rt(c,null);m.attributes.x=new it(c,"x",0),m.attributes.y=new it(c,"y",0),m.attributes.width=new it(c,"width",p.width),m.attributes.height=new it(c,"height",p.height),m.children=[v];var y=c.createCanvas(p.width,p.height),x=y.getContext("2d");return x.fillStyle=u,m.render(x),x.createPattern(y,"no-repeat")}return u}},{key:"inheritStopContainer",value:function(t){var e=this;this.attributesToInherit.forEach((function(n){!e.getAttribute(n).hasValue()&&t.getAttribute(n).hasValue()&&e.getAttribute(n,!0).setValue(t.getAttribute(n).getValue())}))}},{key:"addParentOpacity",value:function(t,e){if(t.hasValue()){var n=new it(this.document,"color",e);return n.addOpacity(t).getString()}return e}}]),e}(pt),Zt=function(t){function e(t,n,r){var i;return f()(this,e),i=b()(this,k()(e).call(this,t,n,r)),i.type="linearGradient",i.attributesToInherit.push("x1","y1","x2","y2"),i}return P()(e,t),p()(e,[{key:"getGradient",value:function(t,e){var n="objectBoundingBox"===this.getGradientUnits(),r=n?e.getBoundingBox(t):null;if(n&&!r)return null;this.getAttribute("x1").hasValue()||this.getAttribute("y1").hasValue()||this.getAttribute("x2").hasValue()||this.getAttribute("y2").hasValue()||(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var i=n?r.x+r.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),a=n?r.y+r.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),o=n?r.x+r.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),s=n?r.y+r.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return i===o&&a===s?null:t.createLinearGradient(i,a,o,s)}}]),e}(Wt),Kt=function(t){function e(t,n,r){var i;return f()(this,e),i=b()(this,k()(e).call(this,t,n,r)),i.type="radialGradient",i.attributesToInherit.push("cx","cy","r","fx","fy","fr"),i}return P()(e,t),p()(e,[{key:"getGradient",value:function(t,e){var n="objectBoundingBox"===this.getGradientUnits(),r=e.getBoundingBox(t);if(n&&!r)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var i=n?r.x+r.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),a=n?r.y+r.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),o=i,s=a;this.getAttribute("fx").hasValue()&&(o=n?r.x+r.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(s=n?r.y+r.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var u=n?(r.width+r.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),c=this.getAttribute("fr").getPixels();return t.createRadialGradient(o,s,c,i,a,u)}}]),e}(Wt),Jt=function(t){function e(t,n,r){var i;f()(this,e),i=b()(this,k()(e).call(this,t,n,r)),i.type="stop";var a=Math.max(0,Math.min(1,i.getAttribute("offset").getNumber())),o=i.getStyle("stop-opacity"),s=i.getStyle("stop-color",!0);return""===s.getString()&&s.setValue("#000"),o.hasValue()&&(s=s.addOpacity(o)),i.offset=a,i.color=s.getString(),i}return P()(e,t),e}(pt),te=function(t){function e(t,n,r){var i;return f()(this,e),i=b()(this,k()(e).call(this,t,n,r)),i.type="animate",i.duration=0,i.initialValue=null,i.initialUnits="",i.removed=!1,i.frozen=!1,t.screen.animations.push(E()(i)),i.begin=i.getAttribute("begin").getMilliseconds(),i.maxDuration=i.begin+i.getAttribute("dur").getMilliseconds(),i.from=i.getAttribute("from"),i.to=i.getAttribute("to"),i.values=i.getAttribute("values"),i.values.hasValue()&&i.values.setValue(i.values.getString().split(";")),i}return P()(e,t),p()(e,[{key:"getProperty",value:function(){var t=this.getAttribute("attributeType").getString(),e=this.getAttribute("attributeName").getString();return"CSS"===t?this.parent.getStyle(e,!0):this.parent.getAttribute(e,!0)}},{key:"calcValue",value:function(){var t=this.initialUnits,e=this.getProgress(),n=e.progress,r=e.from,i=e.to,a=r.getNumber()+(i.getNumber()-r.getNumber())*n;return"%"===t&&(a*=100),"".concat(a).concat(t)}},{key:"update",value:function(t){var e=this.parent,n=this.getProperty();if(this.initialValue||(this.initialValue=n.getString(),this.initialUnits=n.getUnits()),this.duration>this.maxDuration){var r=this.getAttribute("fill").getString("remove");if("indefinite"===this.getAttribute("repeatCount").getString()||"indefinite"===this.getAttribute("repeatDur").getString())this.duration=0;else if("freeze"!==r||this.frozen){if("remove"===r&&!this.removed)return this.removed=!0,n.setValue(e.animationFrozen?e.animationFrozenValue:this.initialValue),!0}else this.frozen=!0,e.animationFrozen=!0,e.animationFrozenValue=n.getString();return!1}this.duration+=t;var i=!1;if(this.begin<this.duration){var a=this.calcValue(),o=this.getAttribute("type");if(o.hasValue()){var s=o.getString();a="".concat(s,"(").concat(a,")")}n.setValue(a),i=!0}return i}},{key:"getProgress",value:function(){var t=this.document,e=this.values,n={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(e.hasValue()){var r=n.progress*(e.getValue().length-1),i=Math.floor(r),a=Math.ceil(r);n.from=new it(t,"from",parseFloat(e.getValue()[i])),n.to=new it(t,"to",parseFloat(e.getValue()[a])),n.progress=(r-i)/(a-i)}else n.from=this.from,n.to=this.to;return n}}]),e}(pt),ee=function(t){function e(){var t;return f()(this,e),t=b()(this,k()(e).apply(this,arguments)),t.type="animateColor",t}return P()(e,t),p()(e,[{key:"calcValue",value:function(){var t=this.getProgress(),e=t.progress,n=t.from,r=t.to,i=new y.a(n.getString()),a=new y.a(r.getString());if(i.ok&&a.ok){var o=i.r+(a.r-i.r)*e,s=i.g+(a.g-i.g)*e,u=i.b+(a.b-i.b)*e;return"rgb(".concat(parseInt(o,10),", ").concat(parseInt(s,10),", ").concat(parseInt(u,10),")")}return this.getAttribute("from").getString()}}]),e}(te),ne=function(t){function e(){var t;return f()(this,e),t=b()(this,k()(e).apply(this,arguments)),t.type="animateTransform",t}return P()(e,t),p()(e,[{key:"calcValue",value:function(){var t=this.getProgress(),e=t.progress,n=t.from,r=t.to,i=O(n.getString()),a=O(r.getString()),o=i.map((function(t,n){var r=a[n];return t+(r-t)*e})).join(" ");return o}}]),e}(te),re=function(t){function e(t,n,r){var i;f()(this,e),i=b()(this,k()(e).call(this,t,n,r)),i.type="font",i.glyphs={},i.horizAdvX=i.getAttribute("horiz-adv-x").getNumber();var a=t.definitions,o=E()(i),s=o.children,u=!0,c=!1,l=void 0;try{for(var h,d=s[Symbol.iterator]();!(u=(h=d.next()).done);u=!0){var p=h.value;switch(p.type){case"font-face":i.fontFace=p;var g=p.getStyle("font-family");g.hasValue()&&(a[g.getString()]=E()(i));break;case"missing-glyph":i.missingGlyph=p;break;case"glyph":var v=p;v.arabicForm?(i.isRTL=!0,i.isArabic=!0,"undefined"===typeof i.glyphs[v.unicode]&&(i.glyphs[v.unicode]={}),i.glyphs[v.unicode][v.arabicForm]=v):i.glyphs[v.unicode]=v;break;default:}}}catch(m){c=!0,l=m}finally{try{u||null==d.return||d.return()}finally{if(c)throw l}}return i}return P()(e,t),p()(e,[{key:"render",value:function(){}}]),e}(pt),ie=function(t){function e(t,n,r){var i;return f()(this,e),i=b()(this,k()(e).call(this,t,n,r)),i.type="font-face",i.ascent=i.getAttribute("ascent").getNumber(),i.descent=i.getAttribute("descent").getNumber(),i.unitsPerEm=i.getAttribute("units-per-em").getNumber(),i}return P()(e,t),e}(pt),ae=function(t){function e(){var t;return f()(this,e),t=b()(this,k()(e).apply(this,arguments)),t.type="missing-glyph",t.horizAdvX=0,t}return P()(e,t),e}(zt),oe=function(t){function e(t,n,r){var i;return f()(this,e),i=b()(this,k()(e).call(this,t,n,r)),i.type="glyph",i.horizAdvX=i.getAttribute("horiz-adv-x").getNumber(),i.unicode=i.getAttribute("unicode").getString(),i.arabicForm=i.getAttribute("arabic-form").getString(),i}return P()(e,t),e}(zt),se=function(t){function e(){var t;return f()(this,e),t=b()(this,k()(e).apply(this,arguments)),t.type="tref",t}return P()(e,t),p()(e,[{key:"getText",value:function(){var t=this.getHrefAttribute().getDefinition();if(t){var e=t.children[0];if(e)return e.getText()}return""}}]),e}(Ot),ue=function(t){function e(t,n,r){var i;f()(this,e),i=b()(this,k()(e).call(this,t,n,r)),i.type="a";var a=n.childNodes,o=a[0],s=a.length>0&&Array.from(a).every((function(t){return 3===t.nodeType}));return i.hasText=s,i.text=s?i.getTextFromNode(o):"",i}return P()(e,t),p()(e,[{key:"getText",value:function(){return this.text}},{key:"renderChildren",value:function(t){if(this.hasText){C()(k()(e.prototype),"renderChildren",this).call(this,t);var n=this.document,r=this.x,i=this.y,a=n.screen.mouse,o=new it(n,"fontSize",bt.parse(n.ctx.font).fontSize);a.isWorking()&&a.checkBoundingBox(this,new wt(r,i-o.getPixels("y"),r+this.measureText(t),i))}else if(this.children.length>0){var s=new Ut(this.document,null);s.children=this.children,s.parent=this,s.render(t)}}},{key:"onClick",value:function(){var t=this.document.window;t&&t.open(this.getHrefAttribute().getString())}},{key:"onMouseMove",value:function(){var t=this.document.ctx;t.canvas.style.cursor="pointer"}}]),e}(Ot),ce=function(t){function e(t,n,r){var i;f()(this,e),i=b()(this,k()(e).call(this,t,n,r)),i.type="textPath",i.textWidth=0,i.textHeight=0,i.pathLength=-1,i.glyphInfo=null,i.letterSpacingCache=[],i.measuresCache=new Map([["",0]]);var a=i.getHrefAttribute().getDefinition();return i.text=i.getTextFromNode(),i.dataArray=i.parsePathData(a),i}return P()(e,t),p()(e,[{key:"getText",value:function(){return this.text}},{key:"path",value:function(t){var e=this.dataArray;t&&t.beginPath(),e.forEach((function(e){var n=e.command,r=e.points;switch(n){case"L":t&&t.lineTo(r[0],r[1]);break;case"M":t&&t.moveTo(r[0],r[1]);break;case"C":t&&t.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);break;case"Q":t&&t.quadraticCurveTo(r[0],r[1],r[2],r[3]);break;case"A":var i=r[0],a=r[1],o=r[2],s=r[3],u=r[4],c=r[5],l=r[6],h=r[7],f=o>s?o:s,d=o>s?1:o/s,p=o>s?s/o:1;t&&(t.translate(i,a),t.rotate(l),t.scale(d,p),t.arc(0,0,f,u,u+c,Boolean(1-h)),t.scale(1/d,1/p),t.rotate(-l),t.translate(-i,-a));break;case"z":t&&t.closePath();break}}))}},{key:"renderChildren",value:function(t){this.setTextData(t),t.save();var e=this.parent.getStyle("text-decoration").getString(),n=this.getFontSize(),r=this.glyphInfo,i=t.fillStyle;"underline"===e&&t.beginPath(),r.forEach((function(i,a){var o=i.p0,s=i.p1,u=i.text;t.save(),t.translate(o.x,o.y),t.rotate(r[a].rotation),t.fillStyle&&t.fillText(u,0,0),t.strokeStyle&&t.strokeText(u,0,0),t.restore(),"underline"===e&&(0===a&&t.moveTo(o.x,o.y+n/8),t.lineTo(s.x,s.y+n/5))})),"underline"===e&&(t.lineWidth=n/20,t.strokeStyle=i,t.stroke(),t.closePath()),t.restore()}},{key:"getLetterSpacingAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.letterSpacingCache[t]||0}},{key:"findSegmentToFitChar",value:function(t,e,n,r,i,a,o,s){var u=a,c=this.measureText(t,o);" "===o&&"justify"===e&&n<r&&(c+=(r-n)/i),s>-1&&(u+=this.getLetterSpacingAt(s));var l=this.textHeight/20,h={p0:this.getEquidistantPointOnPath(u,l),p1:this.getEquidistantPointOnPath(u+c,l)};return u+=c,{offset:u,segment:h}}},{key:"measureText",value:function(t,e){var n=this.measuresCache,r=e||this.getText();if(n.has(r))return n.get(r);var i=this.measureTargetText(t,r);return n.set(r,i),i}},{key:"setTextData",value:function(t){var e=this;if(!this.glyphInfo){var n=this.getText(),r=n.split(""),i=n.split(" ").length-1,a=O(this.parent.getAttribute("dx").getString("0")),o=this.parent.getStyle("text-anchor").getString("start"),s=this.getStyle("letter-spacing"),u=this.parent.getStyle("letter-spacing"),c=0;s.hasValue()&&"inherit"!==s.getValue()?s.hasValue()&&"initial"!==s.getValue()&&"unset"!==s.getValue()&&(c=s.getPixels()):c=u.getPixels();var l=[],h=n.length;this.letterSpacingCache=l;for(var f=0;f<h;f++)l.push("undefined"!==typeof a[f]?a[f]:c);var d=l.reduce((function(t,e){return t+e||0}),0);this.textWidth=this.measureText(t),this.textHeight=this.getFontSize();var p=Math.max(this.textWidth+d,0);this.glyphInfo=[];var g=this.getPathLength(),v=this.getStyle("startOffset").getNumber(0)*g,m=0;"middle"!==o&&"center"!==o||(m=-p/2),"end"!==o&&"right"!==o||(m=-p),m+=v,r.forEach((function(n,a){var s=e.findSegmentToFitChar(t,o,p,g,i,m,n,a),u=s.offset,c=s.segment;if(m=u,c.p0&&c.p1){var l=e.getLineLength(c.p0.x,c.p0.y,c.p1.x,c.p1.y),h=0,f=e.getPointOnLine(h+l/2,c.p0.x,c.p0.y,c.p1.x,c.p1.y),d=Math.atan2(c.p1.y-c.p0.y,c.p1.x-c.p0.x);e.glyphInfo.push({transposeX:f.x,transposeY:f.y,text:r[a],p0:c.p0,p1:c.p1,rotation:d})}}))}}},{key:"parsePathData",value:function(t){if(this.pathLength=-1,!t)return[];var e=[],n=t.pathParser;n.reset();while(!n.isEnd()){var r=n.current,i=r?r.x:0,a=r?r.y:0,o="",s=[];n.nextCommand();var u=n.command.toUpperCase();switch(n.command){case"M":case"m":o=this.pathM(n,s);break;case"L":case"l":o=this.pathL(n,s);break;case"H":case"h":o=this.pathH(n,s);break;case"V":case"v":o=this.pathV(n,s);break;case"C":case"c":this.pathC(n,s);break;case"S":case"s":o=this.pathS(n,s);break;case"Q":case"q":this.pathQ(n,s);break;case"T":case"t":o=this.pathT(n,s);break;case"A":case"a":s=this.pathA(n);break;case"Z":case"z":n.current=n.start;break}"Z"!==u?e.push({command:o||u,points:s,start:{x:i,y:a},pathLength:this.calcLength(i,a,o||u,s)}):e.push({command:"z",points:[],pathLength:0})}return e}},{key:"pathM",value:function(t,e){var n=t.getAsCurrentPoint();e.push(n.x,n.y),t.start=t.current;while(!t.isCommandOrEnd()){var r=t.getAsCurrentPoint();return e.push(r.x,r.y),"L"}}},{key:"pathL",value:function(t,e){while(!t.isCommandOrEnd()){var n=t.getAsCurrentPoint();e.push(n.x,n.y)}return"L"}},{key:"pathH",value:function(t,e){while(!t.isCommandOrEnd()){var n=t.current,r=new ot((t.isRelativeCommand()?n.x:0)+t.getScalar(),n.y);e.push(r.x,r.y),t.current=r}return"L"}},{key:"pathV",value:function(t,e){while(!t.isCommandOrEnd()){var n=t.current,r=new ot(n.x,(t.isRelativeCommand()?n.y:0)+t.getScalar());e.push(r.x,r.y),t.current=r}return"L"}},{key:"pathC",value:function(t,e){while(!t.isCommandOrEnd()){var n=t.getPoint(),r=t.getAsControlPoint(),i=t.getAsCurrentPoint();e.push(n.x,n.y,r.x,r.y,i.x,i.y)}}},{key:"pathS",value:function(t,e){while(!t.isCommandOrEnd()){var n=t.getReflectedControlPoint(),r=t.getAsControlPoint(),i=t.getAsCurrentPoint();e.push(n.x,n.y,r.x,r.y,i.x,i.y)}return"C"}},{key:"pathQ",value:function(t,e){while(!t.isCommandOrEnd()){var n=t.getAsControlPoint(),r=t.getAsCurrentPoint();e.push(n.x,n.y,r.x,r.y)}}},{key:"pathT",value:function(t,e){while(!t.isCommandOrEnd()){var n=t.getReflectedControlPoint();t.control=n;var r=t.getAsCurrentPoint();e.push(n.x,n.y,r.x,r.y)}return"Q"}},{key:"pathA",value:function(t){while(!t.isCommandOrEnd()){var e=t.current,n=t.getScalar(),r=t.getScalar(),i=t.getScalar()*(Math.PI/180),a=t.getScalar(),o=t.getScalar(),s=t.getAsCurrentPoint(),u=new ot(Math.cos(i)*(e.x-s.x)/2+Math.sin(i)*(e.y-s.y)/2,-Math.sin(i)*(e.x-s.x)/2+Math.cos(i)*(e.y-s.y)/2),c=Math.pow(u.x,2)/Math.pow(n,2)+Math.pow(u.y,2)/Math.pow(r,2);c>1&&(n*=Math.sqrt(c),r*=Math.sqrt(c));var l=(a===o?-1:1)*Math.sqrt((Math.pow(n,2)*Math.pow(r,2)-Math.pow(n,2)*Math.pow(u.y,2)-Math.pow(r,2)*Math.pow(u.x,2))/(Math.pow(n,2)*Math.pow(u.y,2)+Math.pow(r,2)*Math.pow(u.x,2)));isNaN(l)&&(l=0);var h=new ot(l*n*u.y/r,l*-r*u.x/n),f=new ot((e.x+s.x)/2+Math.cos(i)*h.x-Math.sin(i)*h.y,(e.y+s.y)/2+Math.sin(i)*h.x+Math.cos(i)*h.y),d=U([1,0],[(u.x-h.x)/n,(u.y-h.y)/r]),p=[(u.x-h.x)/n,(u.y-h.y)/r],g=[(-u.x-h.x)/n,(-u.y-h.y)/r],v=U(p,g);return Y(p,g)<=-1&&(v=Math.PI),Y(p,g)>=1&&(v=0),0===o&&v>0&&(v-=2*Math.PI),1===o&&v<0&&(v+=2*Math.PI),[f.x,f.y,n,r,d,v,i,o]}}},{key:"calcLength",value:function(t,e,n,r){var i=0,a=null,o=null,s=0;switch(n){case"L":return this.getLineLength(t,e,r[0],r[1]);case"C":for(i=0,a=this.getPointOnCubicBezier(0,t,e,r[0],r[1],r[2],r[3],r[4],r[5]),s=.01;s<=1;s+=.01)o=this.getPointOnCubicBezier(s,t,e,r[0],r[1],r[2],r[3],r[4],r[5]),i+=this.getLineLength(a.x,a.y,o.x,o.y),a=o;return i;case"Q":for(i=0,a=this.getPointOnQuadraticBezier(0,t,e,r[0],r[1],r[2],r[3]),s=.01;s<=1;s+=.01)o=this.getPointOnQuadraticBezier(s,t,e,r[0],r[1],r[2],r[3]),i+=this.getLineLength(a.x,a.y,o.x,o.y),a=o;return i;case"A":i=0;var u=r[4],c=r[5],l=r[4]+c,h=Math.PI/180;if(Math.abs(u-l)<h&&(h=Math.abs(u-l)),a=this.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],u,0),c<0)for(s=u-h;s>l;s-=h)o=this.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],s,0),i+=this.getLineLength(a.x,a.y,o.x,o.y),a=o;else for(s=u+h;s<l;s+=h)o=this.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],s,0),i+=this.getLineLength(a.x,a.y,o.x,o.y),a=o;return o=this.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],l,0),i+=this.getLineLength(a.x,a.y,o.x,o.y),i}return 0}},{key:"getPointOnLine",value:function(t,e,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:n,s=(i-n)/(r-e+Q),u=Math.sqrt(t*t/(1+s*s));r<e&&(u*=-1);var c=s*u,l=null;if(r===e)l={x:a,y:o+c};else if((o-n)/(a-e+Q)===s)l={x:a+u,y:o+c};else{var h=0,f=0,d=this.getLineLength(e,n,r,i);if(d<Q)return null;var p=(a-e)*(r-e)+(o-n)*(i-n);p/=d*d,h=e+p*(r-e),f=n+p*(i-n);var g=this.getLineLength(a,o,h,f),v=Math.sqrt(t*t-g*g);u=Math.sqrt(v*v/(1+s*s)),r<e&&(u*=-1),c=s*u,l={x:h+u,y:f+c}}return l}},{key:"getPointOnPath",value:function(t){var e=this.getPathLength(),n=0,r=null;if(t<-5e-5||t-5e-5>e)return null;var i=this.dataArray,a=!0,o=!1,s=void 0;try{for(var u,c=i[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var l=u.value;if(!l||!(l.pathLength<5e-5||n+l.pathLength+5e-5<t)){var h=t-n,f=0;switch(l.command){case"L":r=this.getPointOnLine(h,l.start.x,l.start.y,l.points[0],l.points[1],l.start.x,l.start.y);break;case"A":var d=l.points[4],p=l.points[5],g=l.points[4]+p;if(f=d+h/l.pathLength*p,p<0&&f<g||p>=0&&f>g)break;r=this.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],f,l.points[6]);break;case"C":f=h/l.pathLength,f>1&&(f=1),r=this.getPointOnCubicBezier(f,l.start.x,l.start.y,l.points[0],l.points[1],l.points[2],l.points[3],l.points[4],l.points[5]);break;case"Q":f=h/l.pathLength,f>1&&(f=1),r=this.getPointOnQuadraticBezier(f,l.start.x,l.start.y,l.points[0],l.points[1],l.points[2],l.points[3]);break;default:}if(r)return r;break}n+=l.pathLength}}catch(v){o=!0,s=v}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}return null}},{key:"getLineLength",value:function(t,e,n,r){return Math.sqrt((n-t)*(n-t)+(r-e)*(r-e))}},{key:"getPathLength",value:function(){return-1===this.pathLength&&(this.pathLength=this.dataArray.reduce((function(t,e){return e.pathLength>0?t+e.pathLength:t}),0)),this.pathLength}},{key:"getPointOnCubicBezier",value:function(t,e,n,r,i,a,o,s,u){var c=s*W(t)+a*Z(t)+r*K(t)+e*J(t),l=u*W(t)+o*Z(t)+i*K(t)+n*J(t);return{x:c,y:l}}},{key:"getPointOnQuadraticBezier",value:function(t,e,n,r,i,a,o){var s=a*tt(t)+r*et(t)+e*nt(t),u=o*tt(t)+i*et(t)+n*nt(t);return{x:s,y:u}}},{key:"getPointOnEllipticalArc",value:function(t,e,n,r,i,a){var o=Math.cos(a),s=Math.sin(a),u={x:n*Math.cos(i),y:r*Math.sin(i)};return{x:t+(u.x*o-u.y*s),y:e+(u.x*s+u.y*o)}}},{key:"buildEquidistantCache",value:function(t,e){var n=this.getPathLength(),r=e||.25,i=t||n/100;if(!this.equidistantCache||this.equidistantCache.step!==i||this.equidistantCache.precision!==r){this.equidistantCache={step:i,precision:r,points:[]};for(var a=0,o=0;o<=n;o+=r){var s=this.getPointOnPath(o),u=this.getPointOnPath(o+r);s&&u&&(a+=this.getLineLength(s.x,s.y,u.x,u.y),a>=i&&(this.equidistantCache.points.push({x:s.x,y:s.y,distance:o}),a-=i))}}}},{key:"getEquidistantPointOnPath",value:function(t,e,n){if(this.buildEquidistantCache(e,n),t<0||t-this.getPathLength()>5e-5)return null;var r=Math.round(t/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[r]||null}}]),e}(Ot),le=function(t){function e(t,n,r){var i;f()(this,e),i=b()(this,k()(e).call(this,t,n,r)),i.type="image",i.loaded=!1;var a=i.getHrefAttribute().getString();if(!a)return b()(i);var o=/\.svg$/.test(a);return t.images.push(E()(i)),o?i.loadSvg(a):i.loadImage(a),i.isSvg=o,i}return P()(e,t),p()(e,[{key:"loadImage",value:function(){var t=u()(o.a.mark((function t(e){var n;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.document.createImage(e);case 3:n=t.sent,this.image=n,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error('ERROR: image "'.concat(e,'" not found'),t.t0);case 10:this.loaded=!0;case 11:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"loadSvg",value:function(){var t=u()(o.a.mark((function t(e){var n,r;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.document.fetch(e);case 3:return n=t.sent,t.next=6,n.text();case 6:r=t.sent,this.image=r,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.error('ERROR: image "'.concat(e,'" not found'),t.t0);case 13:this.loaded=!0;case 14:case"end":return t.stop()}}),t,this,[[0,10]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"renderChildren",value:function(t){var e=this.document,n=this.image,r=this.loaded,i=this.getAttribute("x").getPixels("x"),a=this.getAttribute("y").getPixels("y"),o=this.getStyle("width").getPixels("x"),s=this.getStyle("height").getPixels("y");if(r&&n&&o&&s){if(t.save(),this.isSvg)e.canvg.forkString(t,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:i,offsetY:a,scaleWidth:o,scaleHeight:s}).render();else{var u=this.image;t.translate(i,a),e.setViewBox({ctx:t,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:o,desiredWidth:u.width,height:s,desiredHeight:u.height}),this.loaded&&("undefined"===typeof u.complete||u.complete)&&t.drawImage(u,0,0)}t.restore()}}},{key:"getBoundingBox",value:function(){var t=this.getAttribute("x").getPixels("x"),e=this.getAttribute("y").getPixels("y"),n=this.getStyle("width").getPixels("x"),r=this.getStyle("height").getPixels("y");return new wt(t,e,t+n,e+r)}}]),e}(Nt),he=function(t){function e(){var t;return f()(this,e),t=b()(this,k()(e).apply(this,arguments)),t.type="symbol",t}return P()(e,t),p()(e,[{key:"render",value:function(t){}}]),e}(Nt),fe=function(){function t(e){f()(this,t),this.document=e,this.loaded=!1,e.fonts.push(this)}return p()(t,[{key:"load",value:function(){var t=u()(o.a.mark((function t(e,n){var r,i,a;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r=this.document,t.next=4,r.canvg.parser.load(n);case 4:i=t.sent,a=i.getElementsByTagName("font"),Array.from(a).forEach((function(t){var n=r.createElement(t);r.definitions[e]=n})),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.error('ERROR: font "'.concat(n,'" not found'),t.t0);case 12:this.loaded=!0;case 13:case"end":return t.stop()}}),t,this,[[0,9]])})));function e(e,n){return t.apply(this,arguments)}return e}()}]),t}(),de=function(t){function e(t,n,r){var i;f()(this,e),i=b()(this,k()(e).call(this,t,n,r)),i.type="style";var a=_(Array.from(n.childNodes).map((function(t){return t.data})).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"")),o=a.split("}");return o.forEach((function(e){var n=e.trim();if(n){var r=n.split("{"),i=r[0].split(","),a=r[1].split(";");i.forEach((function(e){var n=e.trim();if(n){var r=t.styles[n]||{};if(a.forEach((function(e){var n=e.indexOf(":"),i=e.substr(0,n).trim(),a=e.substr(n+1,e.length-n).trim();i&&a&&(r[i]=new it(t,i,a))})),t.styles[n]=r,t.stylesSpecificity[n]=G(n),"@font-face"===n){var i=r["font-family"].getString().replace(/"|'/g,""),o=r.src.getString().split(",");o.forEach((function(e){if(e.indexOf('format("svg")')>0){var n=D(e);n&&new fe(t).load(i,n)}}))}}}))}})),i}return P()(e,t),e}(pt);de.parseExternalUrl=D;var pe=function(t){function e(){var t;return f()(this,e),t=b()(this,k()(e).apply(this,arguments)),t.type="use",t}return P()(e,t),p()(e,[{key:"setContext",value:function(t){C()(k()(e.prototype),"setContext",this).call(this,t);var n=this.getAttribute("x"),r=this.getAttribute("y");n.hasValue()&&t.translate(n.getPixels("x"),0),r.hasValue()&&t.translate(0,r.getPixels("y"))}},{key:"path",value:function(t){var e=this.element;e&&e.path(t)}},{key:"renderChildren",value:function(t){var e=this.document,n=this.element;if(n){var r=n;if("symbol"===n.type&&(r=new Rt(e,null),r.attributes.viewBox=new it(e,"viewBox",n.getAttribute("viewBox").getString()),r.attributes.preserveAspectRatio=new it(e,"preserveAspectRatio",n.getAttribute("preserveAspectRatio").getString()),r.attributes.overflow=new it(e,"overflow",n.getAttribute("overflow").getString()),r.children=n.children),"svg"===r.type){var i=this.getStyle("width",!1,!0),a=this.getStyle("height",!1,!0);i.hasValue()&&(r.attributes.width=new it(e,"width",i.getString())),a.hasValue()&&(r.attributes.height=new it(e,"height",a.getString()))}var o=r.parent;r.parent=null,r.render(t),r.parent=o}}},{key:"getBoundingBox",value:function(t){var e=this.element;return e?e.getBoundingBox(t):null}},{key:"elementTransform",value:function(){var t=this.document,e=this.element;return Vt.fromElement(t,e)}},{key:"element",get:function(){return this._element||(this._element=this.getHrefAttribute().getDefinition()),this._element}}]),e}(Nt);function ge(t,e,n,r,i,a){return t[n*r*4+4*e+a]}function ve(t,e,n,r,i,a,o){t[n*r*4+4*e+a]=o}function me(t,e,n){var r=t[e];return r*(r<0?n-255:n)}function ye(t,e,n,r){return e+Math.cos(t)*n+Math.sin(t)*r}var xe=function(t){function e(t,n,r){var i;f()(this,e),i=b()(this,k()(e).call(this,t,n,r)),i.type="feColorMatrix";var a=O(i.getAttribute("values").getString());switch(i.getAttribute("type").getString("matrix")){case"saturate":var o=a[0];a=[.213+.787*o,.715-.715*o,.072-.072*o,0,0,.213-.213*o,.715+.285*o,.072-.072*o,0,0,.213-.213*o,.715-.715*o,.072+.928*o,0,0,0,0,0,1,0,0,0,0,0,1];break;case"hueRotate":var s=a[0]*Math.PI/180;a=[ye(s,.213,.787,-.213),ye(s,.715,-.715,-.715),ye(s,.072,-.072,.928),0,0,ye(s,.213,-.213,.143),ye(s,.715,.285,.14),ye(s,.072,-.072,-.283),0,0,ye(s,.213,-.213,-.787),ye(s,.715,-.715,.715),ye(s,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case"luminanceToAlpha":a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}return i.matrix=a,i.includeOpacity=i.getAttribute("includeOpacity").hasValue(),i}return P()(e,t),p()(e,[{key:"apply",value:function(t,e,n,r,i){for(var a=this.includeOpacity,o=this.matrix,s=t.getImageData(0,0,r,i),u=0;u<i;u++)for(var c=0;c<r;c++){var l=ge(s.data,c,u,r,i,0),h=ge(s.data,c,u,r,i,1),f=ge(s.data,c,u,r,i,2),d=ge(s.data,c,u,r,i,3),p=me(o,0,l)+me(o,1,h)+me(o,2,f)+me(o,3,d)+me(o,4,1),g=me(o,5,l)+me(o,6,h)+me(o,7,f)+me(o,8,d)+me(o,9,1),v=me(o,10,l)+me(o,11,h)+me(o,12,f)+me(o,13,d)+me(o,14,1),m=me(o,15,l)+me(o,16,h)+me(o,17,f)+me(o,18,d)+me(o,19,1);a&&(p=g=v=0,m*=d/255),ve(s.data,c,u,r,i,0,p),ve(s.data,c,u,r,i,1,g),ve(s.data,c,u,r,i,2,v),ve(s.data,c,u,r,i,3,m)}t.clearRect(0,0,r,i),t.putImageData(s,0,0)}}]),e}(pt),be=function(t){function e(){var t;return f()(this,e),t=b()(this,k()(e).apply(this,arguments)),t.type="mask",t}return P()(e,t),p()(e,[{key:"apply",value:function(t,e){var n=this.document,r=this.getAttribute("x").getPixels("x"),i=this.getAttribute("y").getPixels("y"),a=this.getStyle("width").getPixels("x"),o=this.getStyle("height").getPixels("y");if(!a&&!o){var s=new wt;this.children.forEach((function(e){s.addBoundingBox(e.getBoundingBox(t))})),r=Math.floor(s.x1),i=Math.floor(s.y1),a=Math.floor(s.width),o=Math.floor(s.height)}var u=e.getStyle("mask").getString();e.getStyle("mask").setValue("");var c=n.createCanvas(r+a,i+o),l=c.getContext("2d");n.screen.setDefaults(l),this.renderChildren(l);var h=new xe(n,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]});h.apply(l,0,0,r+a,i+o);var f=n.createCanvas(r+a,i+o),d=f.getContext("2d");n.screen.setDefaults(d),e.render(d),d.globalCompositeOperation="destination-in",d.fillStyle=l.createPattern(c,"no-repeat"),d.fillRect(0,0,r+a,i+o),t.fillStyle=d.createPattern(f,"no-repeat"),t.fillRect(0,0,r+a,i+o),e.getStyle("mask").setValue(u)}},{key:"render",value:function(t){}}]),e}(pt),we=function(){},ke=function(t){function e(){var t;return f()(this,e),t=b()(this,k()(e).apply(this,arguments)),t.type="clipPath",t}return P()(e,t),p()(e,[{key:"apply",value:function(t){var e=this.document,n=Reflect.getPrototypeOf(t),r=t.beginPath,i=t.closePath;n&&(n.beginPath=we,n.closePath=we),Reflect.apply(r,t,[]),this.children.forEach((function(r){if("undefined"!==typeof r.path){var a="undefined"!==typeof r.elementTransform?r.elementTransform():null;a||(a=Vt.fromElement(e,r)),a&&a.apply(t),r.path(t),n&&(n.closePath=i),a&&a.unapply(t)}})),Reflect.apply(i,t,[]),t.clip(),n&&(n.beginPath=r,n.closePath=i)}},{key:"render",value:function(t){}}]),e}(pt),Ae=function(t){function e(){var t;return f()(this,e),t=b()(this,k()(e).apply(this,arguments)),t.type="filter",t}return P()(e,t),p()(e,[{key:"apply",value:function(t,e){var n=this.document,r=e.getBoundingBox(t);if(r){var i=Math.floor(r.x1),a=Math.floor(r.y1),o=Math.floor(r.width),s=Math.floor(r.height),u=e.getStyle("filter").getString();e.getStyle("filter").setValue("");var c=0,l=0;this.children.forEach((function(t){var e=t.extraFilterDistance||0;c=Math.max(c,e),l=Math.max(l,e)}));var h=n.createCanvas(o+2*c,s+2*l),f=h.getContext("2d");n.screen.setDefaults(f),f.translate(-i+c,-a+l),e.render(f),this.children.forEach((function(t){"function"===typeof t.apply&&t.apply(f,0,0,o+2*c,s+2*l)})),t.drawImage(h,0,0,o+2*c,s+2*l,i-c,a-l,o+2*c,s+2*l),e.getStyle("filter",!0).setValue(u)}}},{key:"render",value:function(t){}}]),e}(pt),Pe=function(t){function e(t,n,r){var i;return f()(this,e),i=b()(this,k()(e).call(this,t,n,r)),i.type="feDropShadow",i.addStylesFromStyleDefinition(),i}return P()(e,t),p()(e,[{key:"apply",value:function(t,e,n,r,i){}}]),e}(pt),Se=function(t){function e(){var t;return f()(this,e),t=b()(this,k()(e).apply(this,arguments)),t.type="feMorphology",t}return P()(e,t),p()(e,[{key:"apply",value:function(t,e,n,r,i){}}]),e}(pt),Ce=function(t){function e(){var t;return f()(this,e),t=b()(this,k()(e).apply(this,arguments)),t.type="feComposite",t}return P()(e,t),p()(e,[{key:"apply",value:function(t,e,n,r,i){}}]),e}(pt),Me=function(t){function e(t,n,r){var i;return f()(this,e),i=b()(this,k()(e).call(this,t,n,r)),i.type="feGaussianBlur",i.blurRadius=Math.floor(i.getAttribute("stdDeviation").getNumber()),i.extraFilterDistance=i.blurRadius,i}return P()(e,t),p()(e,[{key:"apply",value:function(t,e,n,r,i){var a=this.document,o=this.blurRadius,s=a.window?a.window.document.body:null,u=t.canvas;u.id=a.getUniqueId(),s&&(u.style.display="none",s.appendChild(u)),Object(T["a"])(u,e,n,r,i,o),s&&s.removeChild(u)}}]),e}(pt),Ee=function(t){function e(){var t;return f()(this,e),t=b()(this,k()(e).apply(this,arguments)),t.type="title",t}return P()(e,t),e}(pt),Te=function(t){function e(){var t;return f()(this,e),t=b()(this,k()(e).apply(this,arguments)),t.type="desc",t}return P()(e,t),e}(pt),_e={svg:Rt,rect:jt,circle:Ft,ellipse:qt,line:Ht,polyline:$t,polygon:Gt,path:zt,pattern:Qt,marker:Xt,defs:Yt,linearGradient:Zt,radialGradient:Kt,stop:Jt,animate:te,animateColor:ee,animateTransform:ne,font:re,"font-face":ie,"missing-glyph":ae,glyph:oe,text:Ot,tspan:It,tref:se,a:ue,textPath:ce,image:le,g:Ut,symbol:he,style:de,use:pe,mask:be,clipPath:ke,filter:Ae,feDropShadow:Pe,feMorphology:Se,feComposite:Ce,feColorMatrix:xe,feGaussianBlur:Me,title:Ee,desc:Te};function Ve(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ne(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ve(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Oe(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,n}function Ie(t){return Le.apply(this,arguments)}function Le(){return Le=u()(o.a.mark((function t(e){var n,r,i=arguments;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]&&i[1],r=document.createElement("img"),n&&(r.crossOrigin="Anonymous"),t.abrupt("return",new Promise((function(t,n){r.onload=function(){t(r)},r.onerror=function(){n()},r.src=e})));case 4:case"end":return t.stop()}}),t)}))),Le.apply(this,arguments)}var De=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.rootEmSize,i=void 0===r?12:r,a=n.emSize,o=void 0===a?12:a,s=n.createCanvas,u=void 0===s?t.createCanvas:s,c=n.createImage,l=void 0===c?t.createImage:c,h=n.anonymousCrossOrigin;f()(this,t),this.canvg=e,this.definitions={},this.styles={},this.stylesSpecificity={},this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=e.screen,this.rootEmSize=i,this.emSize=o,this.createCanvas=u,this.createImage=this.bindCreateImage(l,h),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}return p()(t,[{key:"bindCreateImage",value:function(t,e){return"boolean"===typeof e?function(n,r){return t(n,"boolean"===typeof r?r:e)}:t}},{key:"popEmSize",value:function(){var t=this.emSizeStack;t.pop()}},{key:"getUniqueId",value:function(){return"canvg".concat(++this.uniqueId)}},{key:"isImagesLoaded",value:function(){return this.images.every((function(t){return t.loaded}))}},{key:"isFontsLoaded",value:function(){return this.fonts.every((function(t){return t.loaded}))}},{key:"createDocumentElement",value:function(t){var e=this.createElement(t.documentElement);return e.root=!0,e.addStylesFromStyleDefinition(),this.documentElement=e,e}},{key:"createElement",value:function(e){var n=e.nodeName.replace(/^[^:]+:/,""),r=t.elementTypes[n];return"undefined"!==typeof r?new r(this,e):new gt(this,e)}},{key:"createTextNode",value:function(t){return new Lt(this,t)}},{key:"setViewBox",value:function(t){this.screen.setViewBox(Ne({document:this},t))}},{key:"window",get:function(){return this.screen.window}},{key:"fetch",get:function(){return this.screen.fetch}},{key:"ctx",get:function(){return this.screen.ctx}},{key:"emSize",get:function(){var t=this.emSizeStack;return t[t.length-1]},set:function(t){var e=this.emSizeStack;e.push(t)}}]),t}();function Be(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ze(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Be(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}De.createCanvas=Oe,De.createImage=Ie,De.elementTypes=_e;var Re=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};f()(this,t),this.parser=new dt(r),this.screen=new lt(e,r),this.options=r;var i=new De(this,r),a=i.createDocumentElement(n);this.document=i,this.documentElement=a}return p()(t,[{key:"fork",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.from(e,n,ze({},this.options,{},r))}},{key:"forkString",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.fromString(e,n,ze({},this.options,{},r))}},{key:"ready",value:function(){return this.screen.ready()}},{key:"isReady",value:function(){return this.screen.isReady()}},{key:"render",value:function(){var t=u()(o.a.mark((function t(){var e,n=arguments;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:{},this.start(ze({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},e)),t.next=4,this.ready();case 4:this.stop();case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"start",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.documentElement,n=this.screen,r=this.options;n.start(e,ze({enableRedraw:!0},r,{},t))}},{key:"stop",value:function(){this.screen.stop()}},{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.documentElement.resize(t,e,n)}}],[{key:"from",value:function(){var e=u()(o.a.mark((function e(n,r){var i,a,s,u=arguments;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=u.length>2&&void 0!==u[2]?u[2]:{},a=new dt(i),e.next=4,a.parse(r);case 4:return s=e.sent,e.abrupt("return",new t(n,s,i));case 6:case"end":return e.stop()}}),e)})));function n(t,n){return e.apply(this,arguments)}return n}()},{key:"fromString",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=new dt(r),a=i.parseFromString(n);return new t(e,a,r)}}]),t}();function je(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.DOMParser,n={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:e,createCanvas:function(t,e){return new OffscreenCanvas(t,e)},createImage:function(){var t=u()(o.a.mark((function t(e){var n,r,i;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return n=t.sent,t.next=5,n.blob();case 5:return r=t.sent,t.next=8,createImageBitmap(r);case 8:return i=t.sent,t.abrupt("return",i);case 10:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()};return"undefined"===typeof DOMParser&&"undefined"!==typeof e||Reflect.deleteProperty(n,"DOMParser"),n}function Fe(t){var e=t.DOMParser,n=t.canvas,r=t.fetch;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:e,fetch:r,createCanvas:n.createCanvas,createImage:n.loadImage}}var qe=Object.freeze({__proto__:null,offscreen:je,node:Fe});e["default"]=Re}.call(this,n("eef6"))},"0a8a":function(t,e){function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}t.exports=n},1683:function(t,e,n){"use strict";n.r(e);var r=n("79c2"),i=n("f2c7");for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);n("8421");var o=n("5511"),s=Object(o["a"])(i["default"],r["a"],r["b"],!1,null,"4eec08f7",null);e["default"]=s.exports},"1b80":function(t,e,n){var r=n("6933");function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}t.exports=i},"1cbe":function(t,e,n){(function(e){(function(){var n,r,i,a,o,s;"undefined"!==typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!==typeof e&&null!==e&&e.hrtime?(t.exports=function(){return(n()-o)/1e6},r=e.hrtime,n=function(){var t;return t=r(),1e9*t[0]+t[1]},a=n(),s=1e9*e.uptime(),o=a-s):Date.now?(t.exports=function(){return Date.now()-i},i=Date.now()):(t.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this,n("eef6"))},"1df8":function(t,e,n){var r=n("66e8");function i(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=r(t),null===t)break;return t}t.exports=i},"1ebc":function(t,e){function n(t){if(Array.isArray(t))return t}t.exports=n},2410:function(t,e,n){var r=n("91fe"),i=n("547a"),a=n("5751");r({target:"Array",proto:!0},{fill:i}),a("fill")},"2b62":function(t,e){t.exports=function(t){this.ok=!1,this.alpha=1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t=t.replace(/ /g,""),t=t.toLowerCase();var e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};t=e[t]||t;for(var n=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3]),parseFloat(t[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,o=i.exec(t);if(o){var s=a(o);this.r=s[0],this.g=s[1],this.b=s[2],s.length>3&&(this.alpha=s[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),n=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==n.length&&(n="0"+n),"#"+t+e+n},this.getHelpXML=function(){for(var t=new Array,r=0;r<n.length;r++)for(var i=n[r].example,a=0;a<i.length;a++)t[t.length]=i[a];for(var o in e)t[t.length]=o;var s=document.createElement("ul");s.setAttribute("id","rgbcolor-examples");for(r=0;r<t.length;r++)try{var u=document.createElement("li"),c=new RGBColor(t[r]),l=document.createElement("div");l.style.cssText="margin: 3px; border: 1px solid black; background:"+c.toHex()+"; color:"+c.toHex(),l.appendChild(document.createTextNode("test"));var h=document.createTextNode(" "+t[r]+" -> "+c.toRGB()+" -> "+c.toHex());u.appendChild(l),u.appendChild(h),s.appendChild(u)}catch(f){}return s}}},"2dee":function(t,e,n){var r=n("91fe"),i=n("f83e");r({global:!0,forced:parseFloat!=i},{parseFloat:i})},"2e12":function(t,e,n){"use strict";var r=n("91fe"),i=n("d5dc"),a=n("12d9"),o=n("3d8a"),s=n("982d"),u=n("66b2"),c=n("40d4"),l=n("d68d"),h=n("f30e"),f=n("e52f"),d=n("94d7"),p=n("60f2");t.exports=function(t,e,n){var g=-1!==t.indexOf("Map"),v=-1!==t.indexOf("Weak"),m=g?"set":"add",y=i[t],x=y&&y.prototype,b=y,w={},k=function(t){var e=x[t];o(x,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(v&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!l(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(v&&!l(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(a(t,"function"!=typeof y||!(v||x.forEach&&!h((function(){(new y).entries().next()})))))b=n.getConstructor(e,t,g,m),s.REQUIRED=!0;else if(a(t,!0)){var A=new b,P=A[m](v?{}:-0,1)!=A,S=h((function(){A.has(1)})),C=f((function(t){new y(t)})),M=!v&&h((function(){var t=new y,e=5;while(e--)t[m](e,e);return!t.has(-0)}));C||(b=e((function(e,n){c(e,b,t);var r=p(new y,e,b);return void 0!=n&&u(n,r[m],r,g),r})),b.prototype=x,x.constructor=b),(S||M)&&(k("delete"),k("has"),g&&k("get")),(M||P)&&k(m),v&&x.clear&&delete x.clear}return w[t]=b,r({global:!0,forced:b!=y},w),d(b,t),v||n.setStrong(b,t,g),b}},"30c9":function(t,e,n){var r=n("57c4"),i=r("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,"/./"[t](e)}catch(r){}}return!1}},"34ef":function(t,e,n){function r(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var o=t.apply(e,n);function s(t){r(o,i,a,s,u,"next",t)}function u(t){r(o,i,a,s,u,"throw",t)}s(void 0)}))}}n("3a20"),n("c9db"),t.exports=i},3547:function(t,e,n){"use strict";var r=n("91fe"),i=n("e1c9"),a=n("3193"),o=n("30c9");r({target:"String",proto:!0,forced:!o("includes")},{includes:function(t){return!!~String(a(this)).indexOf(i(t),arguments.length>1?arguments[1]:void 0)}})},3848:function(t,e,n){var r=n("91fe"),i=n("7a23"),a=n("c223");r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperty:a.f})},"3c8d":function(t,e,n){var r=n("91fe"),i=n("d68d"),a=n("ac83"),o=n("f28d"),s=n("4aef"),u=n("90a7");function c(t,e){var n,r,l=arguments.length<3?t:arguments[2];return a(t)===l?t[e]:(n=s.f(t,e))?o(n,"value")?n.value:void 0===n.get?void 0:n.get.call(l):i(r=u(t))?c(r,e,l):void 0}r({target:"Reflect",stat:!0},{get:c})},"3f9c":function(t,e,n){var r=n("91fe"),i=n("ac83"),a=n("90a7"),o=n("1f53");r({target:"Reflect",stat:!0,sham:!o},{getPrototypeOf:function(t){return a(i(t))}})},4423:function(t,e,n){"use strict";var r=n("91fe"),i=n("407d").some,a=n("fb11"),o=n("6885"),s=a("some"),u=o("some");r({target:"Array",proto:!0,forced:!s||!u},{some:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"45fc":function(t,e,n){(function(e){for(var r=n("1cbe"),i="undefined"===typeof window?e:window,a=["moz","webkit"],o="AnimationFrame",s=i["request"+o],u=i["cancel"+o]||i["cancelRequest"+o],c=0;!s&&c<a.length;c++)s=i[a[c]+"Request"+o],u=i[a[c]+"Cancel"+o]||i[a[c]+"CancelRequest"+o];if(!s||!u){var l=0,h=0,f=[],d=1e3/60;s=function(t){if(0===f.length){var e=r(),n=Math.max(0,d-(e-l));l=n+e,setTimeout((function(){var t=f.slice(0);f.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(l)}catch(n){setTimeout((function(){throw n}),0)}}),Math.round(n))}return f.push({handle:++h,callback:t,cancelled:!1}),h},u=function(t){for(var e=0;e<f.length;e++)f[e].handle===t&&(f[e].cancelled=!0)}}t.exports=function(t){return s.call(i,t)},t.exports.cancel=function(){u.apply(i,arguments)},t.exports.polyfill=function(t){t||(t=i),t.requestAnimationFrame=s,t.cancelAnimationFrame=u}}).call(this,n("d1c9"))},4679:function(t,e,n){var r=n("1ebc"),i=n("7c43"),a=n("83a0");function o(t,e){return r(t)||i(t,e)||a()}t.exports=o},"46b4":function(t,e,n){t.exports=n("63ff")},"4a58":function(t,e,n){"use strict";var r=n("91fe"),i=n("a8c9"),a=[].reverse,o=[1,2];r({target:"Array",proto:!0,forced:String(o)===String(o.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),a.call(this)}})},"4c3d":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cutoutIndex=void 0;var r=n("23f7"),i="/backend-api/paper-map/init-add-map",a="/backend-api/paper-map/set-project-init",o="/backend-api/paper-map/edit-map-name",s="/backend-api/paper-map/near-project-init",u="/backend-api/paper-map/save-project-init",c=function(t){return r.axios.post(a,t)},l=function(t){return r.axios.post(o,t)},h=function(t){return r.axios.post(s,t)},f=function(t){return r.axios.post(u,t)},d=function(t){return r.axios.post(i,t)},p={getMapName:d,initMap:c,editMapName:l,initNear:h,saveMap:f};e.cutoutIndex=p},5233:function(t,e,n){var r=n("91fe"),i=n("4ce0");r({target:"Object",stat:!0},{setPrototypeOf:i})},"578d":function(t,e,n){var r=n("a7cb"),i=n("c86b");function a(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?i(t):e}t.exports=a},"5d5d":function(t,e,n){var r=n("91fe"),i=n("25ca"),a=n("e52f"),o=!a((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:o},{from:i})},"611f4":function(t,e,n){var r=n("9a8e");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var i=n("85cb").default;i("384fda9c",r,!0,{sourceMap:!1,shadowMode:!1})},"64f8":function(t,e,n){var r=n("9337");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var i=n("85cb").default;i("36352afe",r,!0,{sourceMap:!1,shadowMode:!1})},"65ce":function(t,e,n){var r=n("91fe"),i=n("df50"),a=n("a9f2"),o=n("ac83"),s=n("f30e"),u=i("Reflect","apply"),c=Function.apply,l=!s((function(){u((function(){}))}));r({target:"Reflect",stat:!0,forced:l},{apply:function(t,e,n){return a(t),o(n),u?u(t,e,n):c.call(t,e,n)}})},"66e8":function(t,e,n){function r(e){return t.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},r(e)}n("9a84"),n("5233"),t.exports=r},"67af":function(t,e,n){"use strict";n.r(e);var r=n("c078"),i=n("c891");for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);n("a7eb");var o=n("5511"),s=Object(o["a"])(i["default"],r["a"],r["b"],!1,null,"427f86f2",null);e["default"]=s.exports},6933:function(t,e,n){function r(e,n){return t.exports=r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(e,n)}n("5233"),t.exports=r},7096:function(t,e,n){n("3f36"),n("3c8d");var r=n("1df8");function i(e,n,a){return"undefined"!==typeof Reflect&&Reflect.get?t.exports=i=Reflect.get:t.exports=i=function(t,e,n){var i=r(t,e);if(i){var a=Object.getOwnPropertyDescriptor(i,e);return a.get?a.get.call(n):a.value}},i(e,n,a||e)}t.exports=i},"782a":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJwAAABECAYAAAB01VwPAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAnKADAAQAAAABAAAARAAAAADWUrtAAAAFRUlEQVR4Ae2dz4sURxTH3+uZUUMMJIeYmySnQDx68CDkFhIjLl5yEX9lDx6D+g/oLYghhOQgLKg7Hjx4EN0hbMRNIIEcghhEdCWCKzurgsRodHazZme7n6967Z3ump52ervr4M63Qbqquuq79ocvr6uqq6ZZdn8qhGOACPACsbSIWP/RIyK5TeT9RcI3qSa/8enxv13CYBjOJd7XTluDD9/Q//VlqlTOcv3Hq2XfAQxXNtFVpceTxHyKarURPjVmImLhA4YrjHAQBPgJefQ9eeu+49EL/xa5Y69IY7QdFALyDgVyhPznt2X351+KCK/0zhHhVkpuoNvx7+TVdvGZRjMvBkS4vMRQXwnIVpKFK7Jv29a8OGC4vMRQf4mA0Aby5RfZu204DxIYLg8t1LUIyBoKgpOy57Nv5dwXFetiahaGS8WCwlwERA7RWOt8P6aD4XKRReXeBGSIGq3jva8vXYHhXkUI1/snoJHuVX06GK5/nKjZD4FATmSNXmG4fiCiTg4C4UDivOzdsTGtEQyXRgVlxQiYKZOgfTbtjQQMVwwtWvckoJPDe7bvty/DcDYR5MsjwMEx2b/z7bggDBengXS5BETepeD5wbgoDBengXT5BAL6SoaH3oqEYbiIBM6OCOjSpnb7QCQOw0UkcHZHQGQ4EofhIhI4OyQgH8m+7ZvNH4DhHGKGdIyA7+8yORguxgRJpwQ+MepYYu6UMcRjBIRq3nuIcDEiSDolwNTmj2E4p4whniDAsgmGSxBBxi2B4EMYzi1hqCcJwHBJHsg5JrABEc4xYcgnCKyH4RI8kHFKQAiGcwoY4l0EEOG6kKDAIYF5GM4hXUh3EYDhupCgwCWBZ4hwLvFC2yZwH4azkSDvjgDzDAznDi+UbQJCUzCcDQV5VwSEqsFVGM4VXugmCQhN6y+iow+XpIKcMwJM13Q93FzV2R+AMAjECTD9SjW/hUdqHArSrgg09Yeo79Cb1X9gOFeIodshwDRBFa/FP4z/D8N1sCDlgoDQLIl/iUTCj8bBcC4gQ7NDgKlB7M0Tv3HfFMJwHTRIlU/gqW5EHdPpkNnoG10wXPmQobhMwBvV5JxGuGZUBMNFJHAum4B++tL/mSrcpg+2TEfiMFxEAufyCLCYT1x+Ewp6fJePHl2MxGG4iATOZRFo6y+IfK19N/28ubdA1Y1TcWG8aYjTQLo4AZYTKnIrFOLFWzwyogbsHIhwHRZIFSXAdFElJkIZ9p5Q/fKMLQnD2USQXymBP3SQcHqpsT5K19X+ZGaxxfBItYkgn5+AiWzGbOIFxKQ/yyVXeKTxX5oQDJdGBWX9Emjr4MD02SbUbC/brL3OJxuPewnAcL3IoDybQDj1oaPRaIBgans8xfVGM6thZMusOrgGAjaBSRI+rEuOlkaj5irzQxr9adKuaOcR4WwiyGcReKphbDR8gxCvpZHNmC1tkBCvZtIwnE0E+W4CZolRuOpDX8STP7dcwQwQSPts5jFa5+XirAQMl0UH15pqNJ1X0/VsZolR4tCpDzMazRggJKq/zMBwaVQGt0w0ZunuKt3wYvYgmGXh5mCrq28mdc08W4+pjyx8MFwWndV5TacyaF6NZSLWMzXVAzXUPQpIo1lwU1dIalmvQ6Oavq6i+qWZfvpraSpVnUcZSruAslVOINHlCrKX4polRrrqw7yID9+Nnkk0zgUKES4XrgGrrCt1w8WT72+Zji8xKkIBhitCbzW21d1V4YYX3YMQLQsnGi/tTmG40lC+JkJmKiPgRe2rLWp3akEflbNmRzyt8Vtm36jZyufyTl4AYuZRj+mrEBwAAAAASUVORK5CYII="},"79c2":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"couout-container",attrs:{"element-loading-text":t.loadText}},[n("div",{staticClass:"left-wrap"},[n("Map",{ref:"map",attrs:{filters:t.filters,location:t.location,showPage:t.showPage,isInit:t.isInit},on:{mapLoadEvent:t.mapLoad}})],1),n("div",{staticClass:"right-wrap"},["1"===t.showPage?n("div",{staticClass:"page-one"},[n("div",{staticClass:"page-row"},[n("h2",[t._v(" 地图名称 ")]),n("el-input",{staticClass:"ipt-name",attrs:{placeholder:"请输入地图名称，最多30字",maxlength:"30"},on:{blur:t.editMapName},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enterIpt(e)}},model:{value:t.mapName,callback:function(e){t.mapName="string"===typeof e?e.trim():e},expression:"mapName"}})],1),n("div",{staticClass:"page-row"},[n("h2",[t._v(" 编辑地图 ")]),n("p",[t._v(" 在下载前，建议先对地图进行编辑 ")]),n("button",{staticClass:"btn btn-editMap",on:{click:function(e){return t.jumpPage("2")}}},[t._v(" 编辑地图 ")])]),n("div",{staticClass:"page-row"},[n("h2",[t._v(" 下载地图 ")]),t._m(0),t._m(1),n("button",{staticClass:"btn btn-editMap",on:{click:t.exportMapImg}},[t._v(" 开始下载地图 ")])])]):t._e(),"2"===t.showPage?n("div",{staticClass:"page-two"},[n("div",{staticClass:"edit-step"},[t._m(2),n("div",{staticClass:"operate"},[n("span",{staticClass:"sign-edit",on:{click:function(e){return t.jumpPage("1")}}},[t._v(" 退出编辑 ")]),n("span",{staticClass:"next-edit",on:{click:function(e){return t.jumpPage("3")}}},[t._v(" 下一步 ")])])]),n("div",{staticClass:"page-row"},[n("h2",[t._v(" 筛选你要展示的楼盘 ")]),n("ul",{staticClass:"screen"},[n("li",[n("div",{staticClass:"th"},[t._v(" 业态 ")]),n("div",{staticClass:"td"},[n("span",{class:t.filters.projectType.length>0?"limit":"no-limit",on:{click:function(e){return t.noLimit("projectType")}}},[t._v(" 不限 ")]),n("el-checkbox-group",{staticClass:"check-box",on:{change:t.randerMark},model:{value:t.filters.projectType,callback:function(e){t.$set(t.filters,"projectType",e)},expression:"filters.projectType"}},[n("el-checkbox",{attrs:{label:"1"}},[t._v("住宅")]),n("el-checkbox",{attrs:{label:"3"}},[t._v("商住")]),n("el-checkbox",{attrs:{label:"2"}},[t._v("别墅")])],1)],1)]),n("li",[n("div",{staticClass:"th"},[t._v(" 销售状态 ")]),n("div",{staticClass:"td"},[n("span",{class:t.filters.status.length>0?"limit":"no-limit",on:{click:function(e){return t.noLimit("status")}}},[t._v(" 不限 ")]),n("el-checkbox-group",{staticClass:"check-box",on:{change:t.randerMark},model:{value:t.filters.status,callback:function(e){t.$set(t.filters,"status",e)},expression:"filters.status"}},[n("el-checkbox",{attrs:{label:"2"}},[t._v("在售")]),n("el-checkbox",{attrs:{label:"4"}},[t._v("待售")]),n("el-checkbox",{attrs:{label:"3"}},[t._v("售罄")])],1)],1)]),n("li",[n("div",{staticClass:"th"},[t._v(" 合作状态 ")]),n("div",{staticClass:"td"},[n("span",{class:t.filters.isCooperate.length>0?"limit":"no-limit",on:{click:function(e){return t.noLimit("isCooperate")}}},[t._v(" 不限 ")]),n("el-checkbox-group",{staticClass:"check-box",on:{change:t.randerMark},model:{value:t.filters.isCooperate,callback:function(e){t.$set(t.filters,"isCooperate",e)},expression:"filters.isCooperate"}},[n("el-checkbox",{attrs:{label:"1"}},[t._v("合作")]),n("el-checkbox",{attrs:{label:"2"}},[t._v("非合作")])],1)],1)]),n("li",[n("div",{staticClass:"th"},[t._v(" 单价 ")]),n("div",{staticClass:"td posi-relative"},[t.filters.offerPrice.isEdit?n("div",[n("el-input",{staticClass:"ipt-min",on:{input:function(e){return t.inputNum(t.filters.offerPrice.min,"offerPrice","min")}},model:{value:t.filters.offerPrice.min,callback:function(e){t.$set(t.filters.offerPrice,"min",e)},expression:"filters.offerPrice.min"}}),t._v(" - "),n("el-input",{staticClass:"ipt-min",on:{input:function(e){return t.inputNum(t.filters.offerPrice.max,"offerPrice","max")}},model:{value:t.filters.offerPrice.max,callback:function(e){t.$set(t.filters.offerPrice,"max",e)},expression:"filters.offerPrice.max"}}),t._v(" 元/㎡ ")],1):n("div",{staticClass:"show-text"},[t._v(" "+t._s(1*t.filters.offerPrice.min===0?"0":t.filters.offerPrice.min)+" - "+t._s(1*t.filters.offerPrice.max===0?"不限":t.filters.offerPrice.max+"元/㎡")+" ")]),n("el-checkbox",{staticClass:"be-pending",on:{change:t.randerMark},model:{value:t.filters.offerPrice.undetermined,callback:function(e){t.$set(t.filters.offerPrice,"undetermined",e)},expression:"filters.offerPrice.undetermined"}},[t._v(" 筛选结果需要包含单价待定的楼盘 ")]),t.filters.offerPrice.isEdit?n("span",{staticClass:"edit-ok",on:{click:function(e){return t.okPrice("offerPrice",!1)}}},[t._v(" 确定 ")]):n("span",{staticClass:"edit-ok",on:{click:function(e){return t.okPrice("offerPrice",!0)}}},[t._v(" 编辑 ")])],1)]),n("li",[n("div",{staticClass:"th"},[t._v(" 总价 ")]),n("div",{staticClass:"td posi-relative"},[t.filters.price.isEdit?n("div",[n("el-input",{staticClass:"ipt-min",on:{input:function(e){return t.inputNum(t.filters.price.min,"price","min")}},model:{value:t.filters.price.min,callback:function(e){t.$set(t.filters.price,"min",e)},expression:"filters.price.min"}}),t._v(" - "),n("el-input",{staticClass:"ipt-min",on:{input:function(e){return t.inputNum(t.filters.price.max,"price","max")}},model:{value:t.filters.price.max,callback:function(e){t.$set(t.filters.price,"max",e)},expression:"filters.price.max"}}),t._v(" 万元 ")],1):n("div",{staticClass:"show-text"},[t._v(" "+t._s(1*t.filters.price.min===0?"0":t.filters.price.min)+" - "+t._s(1*t.filters.price.max===0?"不限":t.filters.price.max+"万元")+" ")]),n("el-checkbox",{staticClass:"be-pending",on:{change:t.randerMark},model:{value:t.filters.price.undetermined,callback:function(e){t.$set(t.filters.price,"undetermined",e)},expression:"filters.price.undetermined"}},[t._v(" 筛选结果需要包含总价待定的楼盘 ")]),t.filters.price.isEdit?n("span",{staticClass:"edit-ok",on:{click:function(e){return t.okPrice("price",!1)}}},[t._v(" 确定 ")]):n("span",{staticClass:"edit-ok",on:{click:function(e){return t.okPrice("price",!0)}}},[t._v(" 编辑 ")])],1)])]),n("p",{staticClass:"tips-foot"},[t._v(" 有遇到楼盘信息不准确的情况，请反馈给城市运营同学更改，更改后第二天即可生效 ")])]),n("div",{staticClass:"page-row"},[n("h2",[t._v(" 设置每个楼盘要展示的信息 ")]),n("p",{staticClass:"tips-foot"},[t._v(" 提示：信息越少，地图展示约清晰，越不容易造成标签重叠 ")]),n("ul",{staticClass:"screen screen-show"},[n("li",[n("div",{staticClass:"th"},[t._v(" 业态 ")]),n("div",{staticClass:"td"},[n("el-radio-group",{staticClass:"check-radio",on:{change:t.randerMark},model:{value:t.filters.showProjectType,callback:function(e){t.$set(t.filters,"showProjectType",e)},expression:"filters.showProjectType"}},[n("el-radio",{attrs:{label:"1"}},[t._v("不展示")]),n("el-radio",{attrs:{label:"2"}},[t._v("展示")])],1)],1)]),n("li",[n("div",{staticClass:"th"},[t._v(" 面积 ")]),n("div",{staticClass:"td"},[n("el-radio-group",{staticClass:"check-radio",on:{change:t.randerMark},model:{value:t.filters.showAcreage,callback:function(e){t.$set(t.filters,"showAcreage",e)},expression:"filters.showAcreage"}},[n("el-radio",{attrs:{label:"1"}},[t._v("不展示")]),n("el-radio",{attrs:{label:"2"}},[t._v("展示")])],1)],1)]),n("li",[n("div",{staticClass:"th"},[t._v(" 价格 ")]),n("div",{staticClass:"td"},[n("el-radio-group",{staticClass:"check-radio",on:{change:t.randerMark},model:{value:t.filters.showPrice,callback:function(e){t.$set(t.filters,"showPrice",e)},expression:"filters.showPrice"}},[n("el-radio",{attrs:{label:"1"}},[t._v("不展示")]),n("el-radio",{attrs:{label:"2"}},[t._v("展示单价")]),n("el-radio",{attrs:{label:"3"}},[t._v("展示总价")])],1)],1)])])])]):t._e(),"3"===t.showPage?n("div",{staticClass:"page-three"},[n("div",{staticClass:"edit-step"},[t._m(3),n("div",{staticClass:"operate"},[n("span",{staticClass:"sign-edit next-edit",on:{click:function(e){return t.jumpPage("2")}}},[t._v(" 上一步 ")]),n("span",{staticClass:"next-edit",on:{click:t.submitMove}},[t._v(" 保存 ")])])]),t._m(4),t._l(t.nearData,(function(e,r){return n("div",{key:r,staticClass:"handle-items"},[n("div",{staticClass:"flex"},[n("h3",[t._v(" 重复楼盘组"+t._s(r+1)+" ")])]),n("ul",t._l(e,(function(e,r){return n("li",{key:r},[n("div",{staticClass:"text"},[t._v(" "+t._s(e.name)+" ")]),n("div",{staticClass:"control"},[n("span",{staticClass:"location",on:{click:function(n){return t.mapLocation(e)}}},[t._v(" 定位 ")])])])})),0)])}))],2):t._e()])])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v(" 下载前请先保证你使用 "),n("span",[t._v("谷歌浏览器")]),t._v(" 打开当前页面，且你的电脑性能满足以下条件： ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"tips-list"},[n("li",[t._v(" 性能要求：内存大于4G ")]),n("li",[t._v(" 开始下载后，请保持页面打开，且不要进行其他操作，等待下载完成，下载时间会根据电脑性能的不同而不同 ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("span",{staticClass:"bg"},[t._v(" 第1/2步 ")]),n("h2",[t._v(" 设置楼盘 ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("span",{staticClass:"bg"},[t._v(" 第2/2步 ")]),n("h2",[t._v(" 判断重叠楼盘 ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-row flex mb-25"},[n("h2",[t._v(" 请在地图中拖拽下列重叠楼盘 ")])])}];n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}))},"7ac0":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAqCAYAAACOaxq2AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAACKADAAQAAAABAAAAKgAAAAAuhQc2AAAAzklEQVQ4EWM0XvT/MwMDwyNGBoZdjCwMc05HMV4F8uGA0Xjh//9wHgPDP0ZGhumKHAxFq8MYf4HEmZAkwXyg8ux7Pxi2h676z4ZNAUT9fwan+z8Y+kAcdCsgCiDkPyZWBj10K5AVMP3/w5CCTwED0PVueBUAjZPDr+A/Aw9+BUAjRhVAomU0HEbDARICxIQDI8MXQgnmEV4FoHILn4J/oEINpwJQYQYq8bArYGTYByrpQP5AVwAqBqcqcTB4wopBFgagV4AKUQrSM5AgAJMAQYUz5/foFDIAAAAASUVORK5CYII="},"7c43":function(t,e,n){function r(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)if(n.push(o.value),e&&n.length===e)break}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a}}return n}}n("4178"),n("fc88"),n("e350"),n("d9a3"),n("3a20"),n("7267"),n("ef8e"),n("252a"),t.exports=r},"83a0":function(t,e){function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}t.exports=n},8421:function(t,e,n){"use strict";var r=n("64f8"),i=n.n(r);i.a},9249:function(t,e,n){"use strict";var r=n("91fe"),i=n("c1c8").left,a=n("fb11"),o=n("6885"),s=a("reduce"),u=o("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!u},{reduce:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},9337:function(t,e,n){var r=n("abd8"),i=n("7e94"),a=n("7ac0"),o=n("782a");e=r(!1);var s=i(a),u=i(o);e.push([t.i,'.couout-container[data-v-4eec08f7]{height:100vh}.couout-container .add-shadow[data-v-4eec08f7]{position:absolute;top:0;bottom:0;left:0;right:0;background-color:hsla(0,0%,100%,.3);z-index:66}.couout-container .left-wrap[data-v-4eec08f7]{float:left;height:100vh;width:calc(100% - 375px);overflow:hidden}.couout-container .right-wrap[data-v-4eec08f7]{height:100%;width:375px;background:#fff;overflow:auto;padding:10px 24px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:-10px 0 20px 0 hsla(0,0%,59.6%,.1);box-shadow:-10px 0 20px 0 hsla(0,0%,59.6%,.1)}.right-wrap .page-row[data-v-4eec08f7]{margin-top:40px}.right-wrap .page-row>h2[data-v-4eec08f7]{font-size:18px;color:#001a4a;margin-bottom:16px;position:relative}.right-wrap .page-row>h2[data-v-4eec08f7]:before{content:"";background:url('+s+");background-size:cover;width:4px;height:21px;position:absolute;left:-24px;top:2px;z-index:5}.right-wrap .page-row[data-v-4eec08f7] .ipt-name .el-input__inner{border-radius:unset}.right-wrap .page-row[data-v-4eec08f7] .el-checkbox__input.is-focus .el-checkbox__inner{border:1px solid #dcdfe6}.right-wrap .page-row[data-v-4eec08f7] .el-checkbox__input.is-checked .el-checkbox__inner{border:1px solid #409eff}.right-wrap .page-row>p[data-v-4eec08f7]{color:#3e4254;font-size:14px}.right-wrap .page-row>p span[data-v-4eec08f7]{color:#ff5c47}.right-wrap .page-row .btn-editMap[data-v-4eec08f7]{padding:0;color:#fff;background:#33a1ff;border:1px solid #33a1ff;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;height:50px;line-height:50px;font-size:16px;margin-top:16px}.right-wrap .page-row .tips-list li[data-v-4eec08f7]{list-style:disc;list-style-position:inside;font-size:14px;color:#3e4254;line-height:20px;margin-top:8px}.right-wrap .page-row .screen li[data-v-4eec08f7]{font-size:14px;margin-bottom:10px;display:-webkit-box;display:-ms-flexbox;display:flex}.right-wrap .page-row .screen li .th[data-v-4eec08f7]{width:56px;line-height:26px;color:#3e4254;margin-right:16px;-moz-text-align-last:justify;text-align-last:justify;font-weight:700}.right-wrap .page-row .screen li .td[data-v-4eec08f7]{-webkit-box-flex:1;-ms-flex:1;flex:1}.right-wrap .page-row .screen li .td .no-limit[data-v-4eec08f7]{background:#33a1ff;color:#fff}.right-wrap .page-row .screen li .td .limit[data-v-4eec08f7],.right-wrap .page-row .screen li .td .no-limit[data-v-4eec08f7]{display:inline-block;width:58px;padding:3px 0;text-align:center;margin-right:12px;cursor:pointer;border-radius:2px}.right-wrap .page-row .screen li .td .limit[data-v-4eec08f7]{background:#f4f6f9;color:#3e4254}.right-wrap .page-row .screen li .td[data-v-4eec08f7] .check-box{display:inline-block;position:relative;top:1px}.right-wrap .page-row .screen li .td[data-v-4eec08f7] .check-box .el-checkbox{margin-right:10px}.right-wrap .page-row .screen li .td[data-v-4eec08f7] .check-box .el-checkbox:last-child{margin-right:0}.right-wrap .page-row .screen li .td[data-v-4eec08f7] .check-box .el-checkbox__label{padding-left:4px}.right-wrap .page-row .screen li .td[data-v-4eec08f7] .ipt-min{display:inline-block;width:auto}.right-wrap .page-row .screen li .td[data-v-4eec08f7] .ipt-min .el-input__inner{width:63px;height:26px;padding:0;font-size:14px;border-radius:0;text-align:center}.right-wrap .page-row .screen li .td[data-v-4eec08f7] .be-pending{margin-top:10px}.right-wrap .page-row .screen li .td[data-v-4eec08f7] .be-pending .el-checkbox__label{font-size:12px;color:#3e4254}.right-wrap .page-row .screen li .posi-relative[data-v-4eec08f7]{position:relative}.right-wrap .page-row .screen li .posi-relative .show-text[data-v-4eec08f7]{height:26px;line-height:26px}.right-wrap .page-row .screen li .posi-relative .edit-ok[data-v-4eec08f7]{position:absolute;top:1px;right:0;color:#33a1ff;cursor:pointer}.right-wrap .page-row .screen-show[data-v-4eec08f7]{margin-top:20px}.right-wrap .page-row .screen-show li[data-v-4eec08f7]{margin-bottom:16px}.right-wrap .page-row .screen-show li .td[data-v-4eec08f7] .check-radio .el-radio{margin-right:16px;margin-top:4px}.right-wrap .page-row .screen-show li .td[data-v-4eec08f7] .check-radio .el-radio:last-child{margin-right:0}.right-wrap .page-row .screen-show li .td[data-v-4eec08f7] .check-radio .el-radio__label{padding-left:3px;font-weight:400}.right-wrap .page-row .tips-foot[data-v-4eec08f7]{font-size:12px;color:#3e4254;line-height:17px;margin-top:6px}.right-wrap .flex[data-v-4eec08f7]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:28px}.right-wrap .flex h3[data-v-4eec08f7]{color:#3e4254;font-size:14px;font-weight:700}.right-wrap .handle-items[data-v-4eec08f7]{padding-top:15.5px;border-top:1px dashed #e3e3e3}.right-wrap .handle-items>ul[data-v-4eec08f7]{margin:15px 0}.right-wrap .handle-items>ul li[data-v-4eec08f7]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.right-wrap .handle-items>ul li .text[data-v-4eec08f7]{font-size:14px;width:258px;color:#3e4254;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.right-wrap .handle-items>ul li .control[data-v-4eec08f7]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:40px}.right-wrap .handle-items>ul li .control .location[data-v-4eec08f7]{color:#33a1ff;font-size:14px;display:inline-block;cursor:pointer}.right-wrap .handle-items>ul li+li[data-v-4eec08f7]{margin-top:8px}.right-wrap .handle-items>ul li.hide-house .text[data-v-4eec08f7]{color:#abb0b5}.right-wrap .edit-step[data-v-4eec08f7]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin-top:40px;height:34px}.right-wrap .edit-step .bg[data-v-4eec08f7]{background:url("+u+");background-size:cover;width:78px;height:34px;line-height:34px;color:#fff;display:inline-block;position:relative;left:-24px;top:-3px;text-align:center}.right-wrap .edit-step span[data-v-4eec08f7]{font-size:14px}.right-wrap .edit-step h2[data-v-4eec08f7]{display:inline-block;font-size:24px;color:#333;margin-left:-20px}.right-wrap .edit-step .operate[data-v-4eec08f7]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.right-wrap .edit-step .sign-edit[data-v-4eec08f7]{color:#ff5c47;padding-right:16px;cursor:pointer}.right-wrap .edit-step .next-edit[data-v-4eec08f7]{color:#3497fc;cursor:pointer}.right-wrap[data-v-4eec08f7] .el-checkbox__label{color:#3e4254;font-weight:400}.right-wrap .page-three .mb-25[data-v-4eec08f7]{margin-bottom:25px}",""]),t.exports=e},9356:function(t,e,n){var r=n("91fe"),i=n("ac83"),a=n("4aef").f;r({target:"Reflect",stat:!0},{deleteProperty:function(t,e){var n=a(i(t),e);return!(n&&!n.configurable)&&delete t[e]}})},"95c5":function(t,e,n){var r=n("91fe"),i=n("b63b");r({global:!0,forced:parseInt!=i},{parseInt:i})},"982d":function(t,e,n){var r=n("4888"),i=n("d68d"),a=n("f28d"),o=n("c223").f,s=n("9db6"),u=n("e6b2"),c=s("meta"),l=0,h=Object.isExtensible||function(){return!0},f=function(t){o(t,c,{value:{objectID:"O"+ ++l,weakData:{}}})},d=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,c)){if(!h(t))return"F";if(!e)return"E";f(t)}return t[c].objectID},p=function(t,e){if(!a(t,c)){if(!h(t))return!0;if(!e)return!1;f(t)}return t[c].weakData},g=function(t){return u&&v.REQUIRED&&h(t)&&!a(t,c)&&f(t),t},v=t.exports={REQUIRED:!1,fastKey:d,getWeakData:p,onFreeze:g};r[c]=!0},"9a84":function(t,e,n){var r=n("91fe"),i=n("f30e"),a=n("ee6f"),o=n("90a7"),s=n("1f53"),u=i((function(){o(1)}));r({target:"Object",stat:!0,forced:u,sham:!s},{getPrototypeOf:function(t){return o(a(t))}})},"9a8e":function(t,e,n){var r=n("abd8");e=r(!1),e.push([t.i,'#cutout-map[data-v-427f86f2],.map-container[data-v-427f86f2]{position:relative;width:100%;height:100%}.map-container .ceng[data-v-427f86f2]{position:fixed;z-index:99;width:50px;height:50px;background:rgba(0,0,0,.5);color:#fff;text-align:center;line-height:50px;left:50px;bottom:30px;font-weight:600;font-size:20px}.map-container[data-v-427f86f2] .houseMark{width:12px;height:12px;border-radius:50%;background:rgba(0,206,127,.6);border:1px solid #00ce7f}.map-container[data-v-427f86f2] .houseMark .mark-container{position:relative;padding:6px 10px;background:#00ce7f;-webkit-box-sizing:border-box;box-sizing:border-box;max-width:174px;-webkit-transform:translate(-50%,-100%);transform:translate(-50%,-100%);top:-8px;left:50%;display:inline-block;border-radius:4px}.map-container[data-v-427f86f2] .houseMark .mark-container:after{display:inline-block;border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid #00ce7f;border-bottom:6px solid transparent;content:"";width:0;height:0;position:absolute;left:50%;top:100%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.map-container[data-v-427f86f2] .houseMark .mark-container .house-flex{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.map-container[data-v-427f86f2] .houseMark .mark-container .max-name{width:129px}.map-container[data-v-427f86f2] .houseMark .mark-container .max-name .house-name{width:auto;max-width:96px}.map-container[data-v-427f86f2] .houseMark .mark-container .house-ye{width:17px;height:17px;font-size:12px;color:#00ce7f;background:#fff;text-align:center;margin-left:6px;border-radius:2px;position:relative}.map-container[data-v-427f86f2] .houseMark .mark-container .house-ye:after{display:inline-block;border-left:6px solid transparent;border-right:6px solid #fff;border-top:6px solid transparent;border-bottom:6px solid transparent;content:"";width:0;height:0;position:absolute;left:-9px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.map-container[data-v-427f86f2] .houseMark .mark-container .house-ye.hide{display:none}.map-container[data-v-427f86f2] .houseMark .mark-container .house-name{display:inline-block;width:96px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:#fff;font-size:12px;border-radius:4px}.map-container[data-v-427f86f2] .houseMark .mark-container .house-info{color:#fff}.map-container[data-v-427f86f2] .houseMark .mark-container .house-info.hide{display:none}.map-container[data-v-427f86f2] .houseMark .mark-container .house-info .house-acreage,.map-container[data-v-427f86f2] .houseMark .mark-container .house-info .house-price{display:inline-block;width:75px}.map-container[data-v-427f86f2] .houseMark .mark-container .house-info .hide{display:none}.map-container[data-v-427f86f2] .houseMark.houseMark1,.map-container[data-v-427f86f2] .houseMark.houseMark4{background:rgba(51,161,255,.6);border:1px solid #33a1ff}.map-container[data-v-427f86f2] .houseMark.houseMark1 .mark-container,.map-container[data-v-427f86f2] .houseMark.houseMark4 .mark-container{background:#3497fc}.map-container[data-v-427f86f2] .houseMark.houseMark1 .mark-container:after,.map-container[data-v-427f86f2] .houseMark.houseMark4 .mark-container:after{border-top:6px solid #3497fc}.map-container[data-v-427f86f2] .houseMark.houseMark1 .mark-container .house-ye,.map-container[data-v-427f86f2] .houseMark.houseMark4 .mark-container .house-ye{color:#3497fc}.map-container[data-v-427f86f2] .houseMark.houseMark3{background:rgba(126,138,152,.6);border:1px solid #7e8a98}.map-container[data-v-427f86f2] .houseMark.houseMark3 .mark-container{background:#7e8a98}.map-container[data-v-427f86f2] .houseMark.houseMark3 .mark-container:after{border-top:6px solid #7e8a98}.map-container[data-v-427f86f2] .houseMark.houseMark3 .mark-container .house-ye{color:#7e8a98}.map-container[data-v-427f86f2] .houseMark.newHouse{background-color:transparent;border:none}.map-container[data-v-427f86f2] .houseMark.newHouse .mark-container:after{-webkit-box-shadow:none;box-shadow:none}.map-container[data-v-427f86f2] .houseMark.newHouse.location{background-color:transparent;border:none}.map-container[data-v-427f86f2] .houseMark.location{background:rgba(255,92,71,.6);border:1px solid #ff5c47}.map-container[data-v-427f86f2] .houseMark.location .mark-container{background:#ff5c47}.map-container[data-v-427f86f2] .houseMark.location .mark-container:after{border-top:6px solid #ff5c47}.map-container[data-v-427f86f2] .houseMark.location .mark-container .house-ye{color:#ff5c47}',""]),t.exports=e},a018:function(t,e){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.exports=n},a677:function(t,e,n){"use strict";var r=n("91fe"),i=n("6be9").includes,a=n("5751"),o=n("6885"),s=o("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:!s},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),a("includes")},a7cb:function(t,e,n){function r(e){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?t.exports=r=function(t){return typeof t}:t.exports=r=function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(e)}n("4178"),n("fc88"),n("e350"),n("d9a3"),n("3a20"),n("ef8e"),n("252a"),t.exports=r},a7eb:function(t,e,n){"use strict";var r=n("611f4"),i=n.n(r);i.a},ad37:function(t,e,n){var r=n("3d8a"),i=Date.prototype,a="Invalid Date",o="toString",s=i[o],u=i.getTime;new Date(NaN)+""!=a&&r(i,o,(function(){var t=u.call(this);return t===t?s.call(this):a}))},b5ca:function(t,e,n){"use strict";var r=n("2eb1");n("1a8c"),n("3a20"),n("b3f9"),n("d780"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("63ff");var i=r(n("57f0")),a=r(n("67af")),o=n("4c3d"),s=n("7223"),u={name:"cutout-index",data:function(){return{mapName:"",cloneMapName:"",loading:!0,loadText:"正在加载，请稍等！",filters:{projectType:[],status:[],isCooperate:[],offerPrice:{min:"",max:"",undetermined:!0,isEdit:!1},price:{min:"",max:"",undetermined:!0,isEdit:!1},showProjectType:"",showPrice:"",showAcreage:""},showPage:"1",nearData:[],location:{id:"",lng:"",lat:""},isInit:!1}},components:{Map:a.default},mounted:function(){this.jumpPage("1"),this.$store.dispatch("getTrackCommon")},methods:{exportMapImg:function(){var t={city:this.$route.query.cityName,map_id:this.$route.query.mapId};s.commonFun.setTrack("6065",this.$store.state.trackCommon.info,t,this.$store.state.trackCommon.backendApi),this.$refs.map.exportMap()},mapLocation:function(t){this.location.id=t.project_id,this.location.lng=t.lng,this.location.lat=t.lat,this.$refs.map.setLocation()},mapLoad:function(t){this.loading=t.status,this.loadText=t.text},noLimit:function(t){this.filters[t].length&&(this.filters[t]=[],this.randerMark())},okPrice:function(t,e){this.filters[t].isEdit=e,e||this.randerMark()},jumpPage:function(t){var e=this;return(0,i.default)(regeneratorRuntime.mark((function n(){var r,i,a,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.showPage=t,"3"!==e.showPage){n.next=18;break}return r=e.filters,e.loading=!0,i={map_id:e.$route.query.mapId,project_type:r.projectType+"",status:r.status+"",is_cooperate:r.isCooperate+"",offer_price_min:r.offerPrice.min,offer_price_max:r.offerPrice.max,undetermined_offer_price:r.offerPrice.undetermined?"1":"2",price_min:1e4*r.price.min,price_max:1e4*r.price.max,undetermined_price:r.price.undetermined?"1":"2",show_project_type:r.showProjectType,show_price:r.showPrice,show_acreage:r.showAcreage},n.prev=5,n.next=8,o.cutoutIndex.initNear(i);case 8:a=n.sent,s=a.data,e.loading=!1,0===s.code&&(e.nearData=s.data.result),n.next=16;break;case 14:n.prev=14,n.t0=n["catch"](5);case 16:n.next=19;break;case 18:"1"===e.showPage&&e.getMapName();case 19:case"end":return n.stop()}}),n,null,[[5,14]])})))()},submitMove:function(){var t=this;new Promise((function(e){e(t.$refs.map.saveMove())})).then((function(e){e&&t.jumpPage("1")}))},randerMark:function(){this.$refs.map.initMark(this.$refs.map.getRect())},getMapName:function(){var t=this;return(0,i.default)(regeneratorRuntime.mark((function e(){var n,r,i,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n=t.$refs.map.getRect(),r={map_id:t.$route.query.mapId,min_lat:n.minLat,max_lat:n.maxLat,min_lng:n.minLng,max_lng:n.maxLng},t.isInit=!1,e.next=6,o.cutoutIndex.getMapName(r);case 6:i=e.sent,a=i.data,0===a.code&&(t.mapName=a.data.map_name,t.cloneMapName=a.data.map_name,t.loading=!1,s=a.data.searchData,t.filters.projectType=s.project_type,t.filters.status=s.status,t.filters.isCooperate=s.is_cooperate,t.filters.offerPrice.min=s.offer_price_min,t.filters.offerPrice.max=s.offer_price_max,"1"===s.undetermined_offer_price?t.filters.offerPrice.undetermined=!0:t.filters.offerPrice.undetermined=!1,t.filters.price.min=s.price_min/1e4,t.filters.price.max=s.price_max/1e4,"1"===s.undetermined_price?t.filters.price.undetermined=!0:t.filters.price.undetermined=!1,t.filters.showProjectType=s.show_project_type,t.filters.showPrice=s.show_price,t.filters.showAcreage=s.show_acreage,t.isInit=!0),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()},editMapName:function(){var t=this;return(0,i.default)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""===t.mapName||t.mapName===t.cloneMapName){e.next=12;break}return n={map_id:t.$route.query.mapId,map_name:t.mapName},e.prev=2,e.next=5,o.cutoutIndex.editMapName(n);case 5:r=e.sent,r.data,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))()},enterIpt:function(t){t.target.blur()},inputNum:function(t,e,n){this.filters[e][n]=t.replace(/[^0-9]/g,"")}}};e.default=u},b63b:function(t,e,n){var r=n("d5dc"),i=n("03fa").trim,a=n("2d82"),o=r.parseInt,s=/^[+-]?0[Xx]/,u=8!==o(a+"08")||22!==o(a+"0x16");t.exports=u?function(t,e){var n=i(String(t));return o(n,e>>>0||(s.test(n)?16:10))}:o},c078:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"map-container"},[n("div",{attrs:{id:"cutout-map"}}),n("div",{staticClass:"ceng"},[t._v(" "+t._s(t.zoom)+" ")])])},i=[];n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}))},c151:function(t,e,n){"use strict";var r=n("c223").f,i=n("641d"),a=n("417f"),o=n("0b29"),s=n("40d4"),u=n("66b2"),c=n("5646"),l=n("a867"),h=n("7a23"),f=n("982d").fastKey,d=n("d0e2"),p=d.set,g=d.getterFor;t.exports={getConstructor:function(t,e,n,c){var l=t((function(t,r){s(t,l,e),p(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),h||(t.size=0),void 0!=r&&u(r,t[c],t,n)})),d=g(e),v=function(t,e,n){var r,i,a=d(t),o=m(t,e);return o?o.value=n:(a.last=o={index:i=f(e,!0),key:e,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=o),r&&(r.next=o),h?a.size++:t.size++,"F"!==i&&(a.index[i]=o)),t},m=function(t,e){var n,r=d(t),i=f(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return a(l.prototype,{clear:function(){var t=this,e=d(t),n=e.index,r=e.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;e.first=e.last=void 0,h?e.size=0:t.size=0},delete:function(t){var e=this,n=d(e),r=m(e,t);if(r){var i=r.next,a=r.previous;delete n.index[r.index],r.removed=!0,a&&(a.next=i),i&&(i.previous=a),n.first==r&&(n.first=i),n.last==r&&(n.last=a),h?n.size--:e.size--}return!!r},forEach:function(t){var e,n=d(this),r=o(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:n.first){r(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!m(this,t)}}),a(l.prototype,n?{get:function(t){var e=m(this,t);return e&&e.value},set:function(t,e){return v(this,0===t?0:t,e)}}:{add:function(t){return v(this,t=0===t?0:t,t)}}),h&&r(l.prototype,"size",{get:function(){return d(this).size}}),l},setStrong:function(t,e,n){var r=e+" Iterator",i=g(e),a=g(r);c(t,e,(function(t,e){p(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){var t=a(this),e=t.kind,n=t.last;while(n&&n.removed)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(e)}}},c86b:function(t,e){function n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}t.exports=n},c891:function(t,e,n){"use strict";n.r(e);var r=n("ef5d"),i=n.n(r);for(var a in r)"default"!==a&&function(t){n.d(e,t,(function(){return r[t]}))}(a);e["default"]=i.a},d119:function(t,e,n){"use strict";var r=n("91fe"),i=n("407d").every,a=n("fb11"),o=n("6885"),s=a("every"),u=o("every");r({target:"Array",proto:!0,forced:!s||!u},{every:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},d6df:function(t,e,n){var r=n("91fe"),i=n("7a23"),a=n("55b0");r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperties:a})},e1c9:function(t,e,n){var r=n("e1dd");t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},e481:function(t,e,n){"use strict";var r=n("2e12"),i=n("c151");t.exports=r("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},e6b2:function(t,e,n){var r=n("f30e");t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},e90c:function(t,e,n){"use strict";var r=n("91fe"),i=n("fee7"),a=n("8c47"),o=n("fb11"),s=[].join,u=i!=Object,c=o("join",",");r({target:"Array",proto:!0,forced:u||!c},{join:function(t){return s.call(a(this),void 0===t?",":t)}})},ef5d:function(t,e,n){"use strict";var r=n("2eb1");n("4178"),n("fc88"),n("e350"),n("7ae7"),n("af82"),n("5d5d"),n("a677"),n("e90c"),n("1a8c"),n("de25"),n("c354"),n("e481"),n("3c4a"),n("3a20"),n("b3f9"),n("3547"),n("ef8e"),n("d780"),n("3e5e"),n("94ec"),n("05e3"),n("00dd"),n("1b98"),n("dc19"),n("597b"),n("402c"),n("5c82"),n("9efc"),n("d486"),n("f8e6"),n("a091"),n("63ae"),n("e26d"),n("5950"),n("77f0"),n("a7a7"),n("71e8"),n("42b5"),n("3dc5"),n("0949"),n("a525"),n("a98f"),n("a9d1"),n("8a23"),n("9a14"),n("252a"),n("8f0e"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("63ff");var i=r(n("57f0")),a=r(n("e81a")),o=r(n("050f")),s=n("4c3d"),u={name:"cutout-bmap",props:{filters:{type:Object,default:function(){return{projectType:[],status:[],isCooperate:[],offerPrice:{min:"",max:"",undetermined:!0,isEdit:!1},price:{min:"",max:"",undetermined:!0,isEdit:!1},showProjectType:"",showPrice:"",showAcreage:""}}},location:{type:Object,default:function(){return{id:"",lng:"",lat:""}}},showPage:{type:String,default:function(){return"1"}},isInit:{type:Boolean,default:function(){return!1}}},data:function(){return{map:null,zoom:14,city:"上海",allNewHouse:new Map,moveData:new Map,mapId:"",cityName:"",randerTime:"",storageMapOffset:{x:0,y:0},isMove:!1,ne:null,num:0,locationId:"",isExport:!1,saveFlag:!0,isInitMark:!1}},created:function(){this.mapId=this.$route.query.mapId,this.cityName=this.$route.query.cityName},mounted:function(){this.map=new BMap.Map("cutout-map",{minZoom:9,maxZoom:18,enableMapClick:!1}),this.init()},methods:{init:function(){var t=this;this.map.centerAndZoom(this.cityName,this.zoom),this.map.disableScrollWheelZoom(),this.map.disableDoubleClickZoom(),this.map.addEventListener("tilesloaded",(function(){var e=t.map.getBounds().getNorthEast(),n=t.map.pointToPixel(t.ne),r=t.map.pointToPixel(e);t.storageMapOffset.x=n.x-r.x,t.storageMapOffset.y=n.y-r.y,!t.isExport&&t.isInit&&t.initMark(t.getRect())})),this.map.addEventListener("zoomend",(function(){t.zoom=t.map.getZoom(),t.ne=t.map.getBounds().getNorthEast()}))},initMark:function(t,e){var n=this;return(0,i.default)(regeneratorRuntime.mark((function r(){var i,a,o,u,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,i=n.filters,a=(new Date).getTime(),n.randerTime=a,o={map_id:n.mapId,min_lat:t.minLat,max_lat:t.maxLat,min_lng:t.minLng,max_lng:t.maxLng,project_type:i.projectType+"",status:i.status+"",is_cooperate:i.isCooperate+"",offer_price_min:i.offerPrice.min,offer_price_max:i.offerPrice.max,undetermined_offer_price:i.offerPrice.undetermined?"1":"2",price_min:1e4*i.price.min,price_max:1e4*i.price.max,undetermined_price:i.price.undetermined?"1":"2",show_project_type:i.showProjectType,show_price:i.showPrice,show_acreage:i.showAcreage,move_time:a},r.next=7,s.cutoutIndex.initMap(o);case 7:u=r.sent,c=u.data,n.isInitMark=n.randerTime+""===c.data.searchData.move_time,0===c.code&&n.randerTime+""===c.data.searchData.move_time&&(n.num=c.data.projectData.length,n.map.clearOverlays(),n.allNewHouse.clear(),c.data.projectData.forEach((function(t){var r={id:t.project_id,name:t.name,status:t.status,projectType:t.project_type,acreageMin:t.acreage_min,acreageMax:t.acreage_max,priceMin:t.price_min,priceMax:t.price_max,offerPrice:t.offer_price,showProjectType:t.show_project_type,showPrice:t.show_price,showAcreage:t.show_acreage};if(t.old_lng&&t.old_lat?(r.lng=parseFloat(t.old_lng),r.lat=parseFloat(t.old_lat),r.newlng=parseFloat(t.lng),r.newlat=parseFloat(t.lat)):(r.lng=parseFloat(t.lng),r.lat=parseFloat(t.lat),r.newlng="",r.newlat=""),n.moveData.has("build_"+r.id)){var i=n.moveData.get("build_"+r.id);n.allNewHouse.set("build_"+r.id,n.addMark(i,e))}else n.allNewHouse.set("build_"+r.id,n.addMark(r,e))})),c.data.projectData.length||n.allNewHouse.set("build_",n.addMark({},e))),r.next=16;break;case 13:r.prev=13,r.t0=r["catch"](0),console.log(r.t0);case 16:case"end":return r.stop()}}),r,null,[[0,13]])})))()},getRect:function(){var t=this.map.getBounds(),e=t.getSouthWest(),n=t.getNorthEast();return{minLng:e?e.lng:"",maxLng:n?n.lng:"",minLat:e?e.lat:"",maxLat:n?n.lat:""}},addMark:function(t,e){var n=this,r=!1;t.newlng&&t.newlat&&(r=!0,this.addPolyline(t));var i=new BMap.Point(t.lng,t.lat),a=new BMap.Point(t.newlng,t.newlat),o="";"2"===t.showPrice?o=""===t.offerPrice?"待定":(t.offerPrice/1e4).toFixed(2)+"万/㎡":"3"===t.showPrice&&(o=1*t.priceMin===0&&1*t.priceMax===0?"待定":t.priceMin===t.priceMax?"".concat(parseInt(t.priceMin/1e4),"万"):"".concat(parseInt(t.priceMin/1e4)," - ").concat(parseInt(t.priceMax/1e4),"万"));var s="";switch(t.projectType){case"1":s="宅";break;case"2":s="墅";break;case"3":s="商";break;default:s="商";break}var u="1"===t.showProjectType?"hide":"show",c="1"===t.showPrice?"hide":"show",l="1"===t.showAcreage?"hide":"show",h=this.locationId===t.id?"location":"",f='\n                        <div class="houseMark '.concat(r?"newHouse":"oldHouse"," houseMark").concat(t.status," ").concat(h,'">\n                            <div class="mark-container">\n                                <div class="house-flex ').concat("1"===t.showProjectType?"":"max-name",'">\n                                    <span class="house-name">\n                                        ').concat(t.name,'\n                                    </span>\n                                    <span class="house-ye ').concat(u,'">\n                                        ').concat(s,'\n                                    </span>\n                                </div>\n                                <div class="house-info ').concat("hide"===c&&"hide"===l?"hide":"",'">\n                                    <span class="house-acreage ').concat(l,'">\n                                        ').concat(t.acreageMin?parseInt(t.acreageMin):"0","\n                                        -\n                                        ").concat(t.acreageMax?parseInt(t.acreageMax):"0",'㎡\n                                    </span>\n                                    <span class="house-price ').concat(c,'">\n                                        ').concat(o,"\n                                    </span>\n                                </div>\n                            </div>\n                        </div>\n                         "),d=new BMap.Label(f,{offset:new BMap.Size(-6,-6),position:r?a:i});if(d.setStyle({border:"none",backgroundColor:"transparent"}),this.locationId===t.id?d.setZIndex(99):d.setZIndex(9),t.mark=d,this.map.addOverlay(t.mark),r){var p='<div class="houseMark houseMark'.concat(t.status," ").concat(h,'"></div>'),g=new BMap.Label(p,{offset:new BMap.Size(-6,-6),position:i});g.setStyle({border:"none",backgroundColor:"transparent"}),g.setZIndex(8),this.map.addOverlay(g),t.spotMark=g}return this.num--,0!==this.num&&-1!=this.num||!e||setTimeout((function(){e()}),200),t.mark.addEventListener("mousedown",(function(e){var r,i,a=!1;if(n.isMove){a=!0,n.map.disableDragging();var o=n.getElement(e.domEvent.target,"houseMark"),s=o.getBoundingClientRect();r=e.clientX-s.left,i=e.clientY-s.top,document.onmousemove=function(e){if(a){var o=e.clientX-r,s=e.clientY-i;t.mark.setStyle({left:o-n.storageMapOffset.x+"px",top:s-n.storageMapOffset.y+"px"});var u=n.map.pixelToPoint({x:o,y:s});t.newlng=u.lng,t.newlat=u.lat}},document.onmouseup=function(){a&&(t.mark&&n.map.removeOverlay(t.mark),t.spotMark&&n.map.removeOverlay(t.spotMark),n.moveData.set("build_"+t.id,n.addMark(t))),a=!1,n.map.enableDragging(),t.mark.removeEventListener("mousedown"),document.onmousemove=null,document.onmouseup=null}}})),t},addPolyline:function(t){if(t.polyLine&&this.map.removeOverlay(t.polyLine),t.newlng){var e=new BMap.Point(t.lng,t.lat),n=new BMap.Point(t.newlng,t.newlat),r="";"1"===t.status||"4"===t.status?r="#3497FC":"2"===t.status?r="#00CE7F":"3"===t.status&&(r="#7E8A98");var i=new BMap.Polyline([e,n],{strokeWeight:3,strokeColor:r,strokeStyle:"dashed"});t.polyLine=i,this.map.addOverlay(i)}},saveMove:function(){var t=this;return(0,i.default)(regeneratorRuntime.mark((function e(){var n,r,i,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,n=t.filters,r=[],t.moveData.forEach((function(t){var e={project_id:t.id,lat:t.newlat,lng:t.newlng};r.push(e)})),i={map_id:t.mapId,project_type:n.projectType+"",status:n.status+"",is_cooperate:n.isCooperate+"",offer_price_min:n.offerPrice.min,offer_price_max:n.offerPrice.max,undetermined_offer_price:n.offerPrice.undetermined?"1":"2",price_min:1e4*n.price.min,price_max:1e4*n.price.max,undetermined_price:n.price.undetermined?"1":"2",show_project_type:n.showProjectType,show_price:n.showPrice,show_acreage:n.showAcreage,move_project_data:r},!t.saveFlag){e.next=15;break}return t.saveFlag=!1,e.next=9,s.cutoutIndex.saveMap(i);case 9:if(a=e.sent,o=a.data,t.saveFlag=!0,0!==o.code){e.next=15;break}return t.moveData.clear(),e.abrupt("return",!0);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))()},getElement:function(t,e){return t.classList&&Array.from(t.classList).includes(e)?t:this.getElement(t.parentElement,e)},exportMap:function(){this.locationId="",this.start(this.cityName)},svgToCanvas:function(t){return(0,i.default)(regeneratorRuntime.mark((function e(){var n,r,i,a,s,u,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n=document.getElementById("cutout-map"),r=n.querySelector("svg").cloneNode(!0),i=n.querySelector("svg").parentNode,a=i.querySelector("canvas"),a&&i.removeChild(a),s=document.createElement("canvas"),u=s.getContext("2d"),r.style.left="0px",r.style.top="0px",r.removeAttribute("x"),r.removeAttribute("y"),r.setAttribute("viewBox","".concat(-r.style.width.split("px")[0]/2," ").concat(-r.style.height.split("px")[0]/2," ").concat(r.style.width.split("px")[0]," ").concat(r.style.height.split("px")[0])),e.next=15,o.default.fromString(u,r.outerHTML.trim());case 15:return c=e.sent,e.next=18,c.start();case 18:s.style.position="absolute",s.style.left="".concat(-r.style.width.split("px")[0]/2,"px"),s.style.top="".concat(-r.style.height.split("px")[0]/2,"px"),i.appendChild(s),t(),e.next=28;break;case 25:e.prev=25,e.t0=e["catch"](0),console.log(e.t0);case 28:case"end":return e.stop()}}),e,null,[[0,25]])})))()},start:function(t,e){var n=this;this.$emit("mapLoadEvent",{status:!0,text:"正在导出，请稍等！"});var r=this;this.isExport=!0;var i=document.querySelector(".map-container"),o=document.getElementById("cutout-map"),s=o.children[0].children[2].firstElementChild.getElementsByTagName("img"),u=!0,c=!1,l=void 0;try{for(var h,f=s[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){var d=h.value;d.setAttribute("crossorigin","anonymous")}}catch(w){c=!0,l=w}finally{try{u||null==f.return||f.return()}finally{if(c)throw l}}var p,g,v=i.__vue__.map,m=(o.offsetWidth,o.offsetHeight,new BMap.Boundary);function y(){(0,a.default)(o,{allowTaint:!0,useCORS:!0,scale:1}).then((function(e){v.removeEventListener("tilesloaded",y),p=v.getZoom();var n=e.toDataURL();r.storageMapOffset.x=0,r.storageMapOffset.y=0,x(t+"|Z_"+p+"|"+g+"*"+g+"|"+(new Date).getTime()+".jpeg",n),window.location.reload()}))}function x(t,e){var n=document.createElement("a"),i=b(e),a=document.createEvent("HTMLEvents");a.initEvent("click",!0,!0),n.download=t,n.href=URL.createObjectURL(i),n.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),r.$emit("mapLoadEvent",{status:!1,text:"正在加载，请稍等！"})}function b(t){try{for(var e=t.split(";base64,"),n=e[0].split(":")[1],i=window.atob(e[1]),a=i.length,o=new Uint8Array(a),s=0;s<a;++s)o[s]=i.charCodeAt(s);return new Blob([o],{type:n})}catch(u){return r.start(r.cityName,g-500)}}m.get(t,(function(t){var i="";i=t.boundaries.join(";");var a=new BMap.Polygon(i),s=a.getBounds(),u=s.getSouthWest(),c=s.getNorthEast(),l={minLng:u?u.lng:"",maxLng:c?c.lng:"",minLat:u?u.lat:"",maxLat:c?c.lat:""},h=v.pointToPixel(u),f=v.pointToPixel(c),d=f.x-h.x,p=h.y-f.y,m=v.pixelToPoint({x:h.x+d/2,y:f.y+p/2});g=d>p?d:p,g=e||(g>15384?15384:g),o.style.width=g+"px",o.style.height=g+"px";var x=!1;v.addEventListener("tilesloaded",(function(){x=!0})),setTimeout((function(){v.setCenter(m)}),200),r.initMark(l,(function(){setTimeout((function(){v.setCenter(m),n.svgToCanvas((function(){setTimeout((function(){n.$nextTick((function(){x?y():v.addEventListener("tilesloaded",y)}))}),3e3)}))}),200)}))}))},setLocation:function(){var t=this,e=this.location;if(""!==e.lng&&""!==e.lat){this.locationId=e.id;var n,r=new BMap.Point(parseFloat(e.lng),parseFloat(e.lat));this.allNewHouse.has("build_"+e.id)&&(n=this.allNewHouse.get("build_"+e.id),n.newlng&&n.newlat&&(r=new BMap.Point(parseFloat(n.newlng),parseFloat(n.newlat)))),this.map.setViewport({center:r,zoom:14}),this.initMark(this.getRect(),(function(){setTimeout((function(){for(var e=document.getElementById("cutout-map"),n=e.querySelectorAll(".location"),r=0;r<n.length;r++){var i=n[r].getAttribute("class");i=i.replace("location",""),n[r].setAttribute("class",i),t.locationId=""}}),3500)}))}}},watch:{showPage:function(t){this.isMove="3"===t},isInit:function(t){t&&this.initMark(this.getRect())}}};e.default=u},f2c7:function(t,e,n){"use strict";n.r(e);var r=n("b5ca"),i=n.n(r);for(var a in r)"default"!==a&&function(t){n.d(e,t,(function(){return r[t]}))}(a);e["default"]=i.a},f4a0:function(t,e,n){"use strict";var r=n("7a23"),i=n("d5dc"),a=n("12d9"),o=n("3d8a"),s=n("f28d"),u=n("67ea"),c=n("60f2"),l=n("7dc7"),h=n("f30e"),f=n("641d"),d=n("65af").f,p=n("4aef").f,g=n("c223").f,v=n("03fa").trim,m="Number",y=i[m],x=y.prototype,b=u(f(x))==m,w=function(t){var e,n,r,i,a,o,s,u,c=l(t,!1);if("string"==typeof c&&c.length>2)if(c=v(c),e=c.charCodeAt(0),43===e||45===e){if(n=c.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(a=c.slice(2),o=a.length,s=0;s<o;s++)if(u=a.charCodeAt(s),u<48||u>i)return NaN;return parseInt(a,r)}return+c};if(a(m,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var k,A=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof A&&(b?h((function(){x.valueOf.call(n)})):u(n)!=m)?c(new y(w(e)),n,A):w(e)},P=r?d(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;P.length>S;S++)s(y,k=P[S])&&!s(A,k)&&g(A,k,p(y,k));A.prototype=x,x.constructor=A,o(i,m,A)}},f675:function(t,e,n){"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return u}));var a=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],o=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function s(t,e,n,i,a){if("string"===typeof t&&(t=document.getElementById(t)),!t||"object"!==r(t)||!("getContext"in t))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var o=t.getContext("2d");try{return o.getImageData(e,n,i,a)}catch(s){throw new Error("unable to access image data: "+s)}}function u(t,e,n,r,i,a){if(!(isNaN(a)||a<1)){a|=0;var o=s(t,e,n,r,i);o=c(o,e,n,r,i,a),t.getContext("2d").putImageData(o,e,n)}}function c(t,e,n,r,i,s){var u,c,h,f,d,p,g,v,m,y,x,b,w,k,A,P,S,C,M,E,T,_,V,N,O,I=t.data,L=2*s+1,D=r-1,B=i-1,z=s+1,R=z*(z+1)/2,j=new l,F=j;for(h=1;h<L;h++)F=F.next=new l,h===z&&(O=F);F.next=j;var q=null,H=null;g=p=0;var $=a[s],G=o[s];for(c=0;c<i;c++){for(P=S=C=M=v=m=y=x=0,b=z*(E=I[p]),w=z*(T=I[p+1]),k=z*(_=I[p+2]),A=z*(V=I[p+3]),v+=R*E,m+=R*T,y+=R*_,x+=R*V,F=j,h=0;h<z;h++)F.r=E,F.g=T,F.b=_,F.a=V,F=F.next;for(h=1;h<z;h++)f=p+((D<h?D:h)<<2),v+=(F.r=E=I[f])*(N=z-h),m+=(F.g=T=I[f+1])*N,y+=(F.b=_=I[f+2])*N,x+=(F.a=V=I[f+3])*N,P+=E,S+=T,C+=_,M+=V,F=F.next;for(q=j,H=O,u=0;u<r;u++)I[p+3]=V=x*$>>G,0!==V?(V=255/V,I[p]=(v*$>>G)*V,I[p+1]=(m*$>>G)*V,I[p+2]=(y*$>>G)*V):I[p]=I[p+1]=I[p+2]=0,v-=b,m-=w,y-=k,x-=A,b-=q.r,w-=q.g,k-=q.b,A-=q.a,f=g+((f=u+s+1)<D?f:D)<<2,P+=q.r=I[f],S+=q.g=I[f+1],C+=q.b=I[f+2],M+=q.a=I[f+3],v+=P,m+=S,y+=C,x+=M,q=q.next,b+=E=H.r,w+=T=H.g,k+=_=H.b,A+=V=H.a,P-=E,S-=T,C-=_,M-=V,H=H.next,p+=4;g+=r}for(u=0;u<r;u++){for(S=C=M=P=m=y=x=v=0,p=u<<2,b=z*(E=I[p]),w=z*(T=I[p+1]),k=z*(_=I[p+2]),A=z*(V=I[p+3]),v+=R*E,m+=R*T,y+=R*_,x+=R*V,F=j,h=0;h<z;h++)F.r=E,F.g=T,F.b=_,F.a=V,F=F.next;for(d=r,h=1;h<=s;h++)p=d+u<<2,v+=(F.r=E=I[p])*(N=z-h),m+=(F.g=T=I[p+1])*N,y+=(F.b=_=I[p+2])*N,x+=(F.a=V=I[p+3])*N,P+=E,S+=T,C+=_,M+=V,F=F.next,h<B&&(d+=r);for(p=u,q=j,H=O,c=0;c<i;c++)f=p<<2,I[f+3]=V=x*$>>G,V>0?(V=255/V,I[f]=(v*$>>G)*V,I[f+1]=(m*$>>G)*V,I[f+2]=(y*$>>G)*V):I[f]=I[f+1]=I[f+2]=0,v-=b,m-=w,y-=k,x-=A,b-=q.r,w-=q.g,k-=q.b,A-=q.a,f=u+((f=c+z)<B?f:B)*r<<2,v+=P+=q.r=I[f],m+=S+=q.g=I[f+1],y+=C+=q.b=I[f+2],x+=M+=q.a=I[f+3],q=q.next,b+=E=H.r,w+=T=H.g,k+=_=H.b,A+=V=H.a,P-=E,S-=T,C-=_,M-=V,H=H.next,p+=r}return t}var l=function t(){i(this,t),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}},f83e:function(t,e,n){var r=n("d5dc"),i=n("03fa").trim,a=n("2d82"),o=r.parseFloat,s=1/o(a+"-0")!==-1/0;t.exports=s?function(t){var e=i(String(t)),n=o(e);return 0===n&&"-"==e.charAt(0)?-0:n}:o},f848:function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}t.exports=r}}]);