(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8088a056"],{"0c8f":function(e,t,a){"use strict";var s=a("2eb1");a("4178"),a("86dd"),a("af82"),a("3f36"),a("f4dd"),a("79dd"),a("9a14"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s(a("289c"));a("63ff");var r=s(a("57f0")),n=a("2af9"),l=s(a("fc7f")),o=a("f946"),c=a("7223"),d=a("08c1"),u=s(a("6bf2"));function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f={name:"PerformanceRiskList",data:function(){return{orderId:"",businessType:"",businessTypeList:[],businessId:"",orderEmployeeId:"",creator:"",orderLeaderId:"",employeeLeaderList:[],allEmployeeList:[],updateContent:[],warnLevel:[],warnLevelList:[],auditStatus:[],auditStatusList:[],causeType:[],causeTypeList:[],businessTypeOccur:[],occurOptions:{},businessTypeUpdate:[],updateOptions:{},tableList:[],dataSum:0,limit:20,tableLabel:[],contentLoading:!0,page:1,ownZxs:""}},components:{SelectTo:n.SelectTo,FixedOrdinaryTable:n.FixedOrdinaryTable},mounted:function(){var e=this;this.$nextTick((function(){var t=(0,u.default)().format("YYYY-MM-DD"),a=(0,u.default)().subtract(2,"months").format("YYYY-MM-DD");e.businessTypeUpdate=[a,t],e.getEmployeeList(),e.getSearchForm(),e.tableSearch(e.page).then((function(){e.contentLoading=!1})).catch((function(t){e.contentLoading=!1,console.log(t)}))}))},methods:{pageUpdate:function(e){this.page=e,this.tableSearch(this.page)},getSearchForm:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.default.getRiskInitialize();case 3:a=t.sent,s=a.data,0===s.code&&(e.businessTypeList=s.data?s.data.business_type:[],e.auditStatusList=s.data?s.data.audit_status:[],e.warnLevelList=s.data?s.data.warn_level:[],e.causeTypeList=s.data?s.data.cause_type:[]),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},tableSearch:function(e){var t=this;return(0,r.default)(regeneratorRuntime.mark((function a(){var s,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s={order_id:t.orderId,business_type:t.businessType,business_id:t.businessId,order_employee_id:t.orderEmployeeId,creator:t.creator,order_leader_id:t.orderLeaderId,business_datetime_min:t.businessTypeOccur?t.businessTypeOccur[0]:"",business_datetime_max:t.businessTypeOccur?t.businessTypeOccur[1]:"",create_datetime_min:t.businessTypeUpdate?t.businessTypeUpdate[0]:"",create_datetime_max:t.businessTypeUpdate?t.businessTypeUpdate[1]:"",audit_status:t.auditStatus,risk_type:t.updateContent,warn_level:t.warnLevel,cause_type:t.causeType,page:e},a.prev=1,a.next=4,l.default.getPerformanceManageList(s);case 4:i=a.sent,r=i.data,0===r.code&&(t.tableList=r.data?r.data.list:[],t.tableLabel=r.data?r.data.fields:[],t.limit=r.data?r.data.pageSize:20,t.dataSum=c.commonFun.matchFigure(r.data?r.data.total:0)?parseInt(r.data.total):0),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](1),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[1,9]])})))()},resetSearch:function(){this.orderId="",this.businessType="",this.businessId="",this.orderEmployeeId="",this.creator="",this.orderLeaderId="",this.businessTypeOccur=[],this.businessTypeUpdate=[],this.auditStatus=[],this.updateContent=[],this.warnLevel=[],this.causeType=[],this.page=1,this.tableSearch(this.page)},getEmployeeList:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){var a,s,i,r,n,l,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={q:""},"header_manager"==e.role?a.header_manager_id=e.uid:a.role="all",s={q:"",role:"header_manager"},"header_manager"==e.role&&(s.header_manager_id=e.uid),t.prev=4,i=(0,o.getEmployee)(a),r=(0,o.getEmployee)(s),t.next=9,i;case 9:return n=t.sent,l=n.data,t.next=13,r;case 13:c=t.sent,0===l.code&&(e.allEmployeeList=l.data),0===c.data.code&&(e.employeeLeaderList=c.data?c.data.data:[]),t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](4),console.log(t.t0);case 21:case"end":return t.stop()}}),t,null,[[4,18]])})))()}},computed:b({},(0,d.mapState)({uid:function(e){return e.uid},role:function(e){return e.role}})),watch:{role:{handler:function(e,t){this.getEmployeeList()},deep:!0}}};t.default=f},"61a4":function(e,t,a){"use strict";var s=a("c7d5"),i=a.n(s);i.a},"64bd":function(e,t,a){"use strict";a.r(t);var s=a("ec60"),i=a("e5cb");for(var r in i)"default"!==r&&function(e){a.d(t,e,(function(){return i[e]}))}(r);a("61a4");var n=a("5511"),l=Object(n["a"])(i["default"],s["a"],s["b"],!1,null,"0c07ffb2",null);t["default"]=l.exports},"7e72":function(e,t,a){var s=a("abd8");t=s(!1),t.push([e.i,".content-main[data-v-0c07ffb2]{padding:0 15px}.form-table-box[data-v-0c07ffb2]{background-color:#fff}.form-table-box .filter-link-more[data-v-0c07ffb2]{float:right;padding:9px 20px;margin-top:6px}.form-table-box .order-search>.s-query>li .td[data-v-0c07ffb2]{min-height:40px}.order-search[data-v-0c07ffb2]{overflow:hidden}.order-search[data-v-0c07ffb2] .el-date-editor,.order-search[data-v-0c07ffb2] .el-select{width:100%;height:40px;-webkit-box-sizing:border-box;box-sizing:border-box}.order-search[data-v-0c07ffb2] .el-select .el-input{height:40px}.order-search[data-v-0c07ffb2] .el-select .el-input__inner{height:40px!important}.order-search[data-v-0c07ffb2] .el-range-input{background-color:#fff;font-size:12px;line-height:32px}.order-search[data-v-0c07ffb2] .el-date-editor .el-range-separator{font-size:12px}.order-search .fixHeight[data-v-0c07ffb2]{height:40px}.order-search[data-v-0c07ffb2] .el-date-editor .date-tip-logo{display:none}.order-search[data-v-0c07ffb2] .el-checkbox{font-weight:400}.order-search .s-query>li.margin-scale[data-v-0c07ffb2]{margin-bottom:0}.s-query>li.long-column[data-v-0c07ffb2]{width:360px}.s-query>li.margin-next[data-v-0c07ffb2]{margin-left:20px}.form-tip-box[data-v-0c07ffb2]{color:#999}.form-table-box .batch-btn-area[data-v-0c07ffb2]{text-align:right}.batch-form-box[data-v-0c07ffb2] .el-form-item{margin-bottom:0}",""]),e.exports=t},c7d5:function(e,t,a){var s=a("7e72");"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("85cb").default;i("0da2d126",s,!0,{sourceMap:!1,shadowMode:!1})},e5cb:function(e,t,a){"use strict";a.r(t);var s=a("0c8f"),i=a.n(s);for(var r in s)"default"!==r&&function(e){a.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},ec60:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.contentLoading,expression:"contentLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"el-row"},[a("el-col",{staticClass:"content-main",attrs:{span:24}},[a("el-breadcrumb",{staticClass:"bread-crumb-box",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[a("a",{attrs:{href:"/"}},[e._v("首页")])]),a("el-breadcrumb-item",[e._v("服务管理员业务管理")]),a("el-breadcrumb-item",[e._v("业绩核算风控管理")])],1),a("div",{staticClass:"v-box form-table-box"},[a("div",{staticClass:"hd"},[a("h2",[e._v("业绩核算风控管理")])]),a("div",{staticClass:"bd"},[a("div",{staticClass:"order-search"},[a("ul",{staticClass:"s-query"},[a("li",[a("div",{staticClass:"th"},[e._v("订单ID：")]),a("div",{staticClass:"td"},[a("el-input",{model:{value:e.orderId,callback:function(t){e.orderId=t},expression:"orderId"}})],1)]),a("li",[a("div",{staticClass:"th"},[e._v("业务类型：")]),a("div",{staticClass:"td"},[a("el-select",{model:{value:e.businessType,callback:function(t){e.businessType=t},expression:"businessType"}},e._l(e.businessTypeList,(function(e){return a("el-option",{key:"businessType-"+e.value,attrs:{label:e.name,value:e.value}})})),1)],1)]),a("li",[a("div",{staticClass:"th"},[e._v("业务ID：")]),a("div",{staticClass:"td"},[a("el-input",{model:{value:e.businessId,callback:function(t){e.businessId=t},expression:"businessId"}})],1)]),a("li",[a("div",{staticClass:"th"},[e._v("订单所属咨询师：")]),a("div",{staticClass:"td"},[a("el-select",{attrs:{filterable:""},model:{value:e.orderEmployeeId,callback:function(t){e.orderEmployeeId=t},expression:"orderEmployeeId"}},e._l(e.allEmployeeList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.text,value:e.id}})})),1)],1)]),a("li",[a("div",{staticClass:"th"},[e._v("修改人：")]),a("div",{staticClass:"td"},[a("el-select",{attrs:{filterable:""},model:{value:e.creator,callback:function(t){e.creator=t},expression:"creator"}},e._l(e.allEmployeeList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.text,value:e.id}})})),1)],1)]),a("li",[a("div",{staticClass:"th"},[e._v("咨询师主管：")]),a("div",{staticClass:"td"},[a("el-select",{attrs:{filterable:""},model:{value:e.orderLeaderId,callback:function(t){e.orderLeaderId=t},expression:"orderLeaderId"}},e._l(e.employeeLeaderList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.text,value:e.id}})})),1)],1)]),a("li",[a("div",{staticClass:"th"},[e._v("业务发生时间：")]),a("div",{staticClass:"td"},[a("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd","range-separator":"至","prefix-icon":"date-tip-logo","picker-options":e.occurOptions},model:{value:e.businessTypeOccur,callback:function(t){e.businessTypeOccur=t},expression:"businessTypeOccur"}})],1)]),a("li",[a("div",{staticClass:"th"},[e._v("业务修改时间：")]),a("div",{staticClass:"td"},[a("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd","range-separator":"至","prefix-icon":"date-tip-logo","picker-options":e.updateOptions},model:{value:e.businessTypeUpdate,callback:function(t){e.businessTypeUpdate=t},expression:"businessTypeUpdate"}})],1)]),e.auditStatusList&&e.auditStatusList.length>0?a("li",{staticClass:"auto margin-scale"},[a("div",{staticClass:"th"},[e._v("审核状态：")]),a("div",{staticClass:"td"},[a("el-checkbox-group",{model:{value:e.auditStatus,callback:function(t){e.auditStatus=t},expression:"auditStatus"}},e._l(e.auditStatusList,(function(t,s){return a("el-checkbox",{key:"audit-"+s,attrs:{label:t.value}},[e._v(e._s(t.name))])})),1)],1)]):e._e(),a("li",{staticClass:"auto margin-scale"},[a("div",{staticClass:"th"},[e._v("修改内容：")]),a("div",{staticClass:"td"},[a("el-checkbox-group",{model:{value:e.updateContent,callback:function(t){e.updateContent=t},expression:"updateContent"}},[a("el-checkbox",{attrs:{label:"1"}},[e._v("带看人")]),a("el-checkbox",{attrs:{label:"2"}},[e._v("邀约人")]),a("el-checkbox",{attrs:{label:"3"}},[e._v("签约服务人")])],1)],1)]),e.warnLevelList&&e.warnLevelList.length>0?a("li",{staticClass:"auto margin-scale"},[a("div",{staticClass:"th"},[e._v("处理结果：")]),a("div",{staticClass:"td"},[a("el-checkbox-group",{model:{value:e.warnLevel,callback:function(t){e.warnLevel=t},expression:"warnLevel"}},e._l(e.warnLevelList,(function(t,s){return a("el-checkbox",{key:"result-"+s,attrs:{label:t.value}},[e._v(e._s(t.name))])})),1)],1)]):e._e(),e.causeTypeList&&e.causeTypeList.length>0?a("li",{staticClass:"auto margin-scale"},[a("div",{staticClass:"th"},[e._v("嫌疑原因：")]),a("div",{staticClass:"td"},[a("el-checkbox-group",{model:{value:e.causeType,callback:function(t){e.causeType=t},expression:"causeType"}},e._l(e.causeTypeList,(function(t,s){return a("el-checkbox",{key:"cause-"+s,attrs:{label:t.value}},[e._v(e._s(t.name))])})),1)],1)]):e._e()])]),a("div",{staticClass:"btn-area"},[a("el-button",{on:{click:e.resetSearch}},[e._v("重置")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.tableSearch(1)}}},[e._v("搜索")])],1)])]),a("div",{staticClass:"v-box form-table-box"},[a("div",{staticClass:"bd"},[a("div",{staticClass:"search-result"},[a("fixed-ordinary-table",{attrs:{tableData:e.tableList,paging:!0,limit:e.limit,totalCount:e.dataSum,tableLabel:e.tableLabel,fixedCol:!0},on:{pageUpdate:e.pageUpdate}})],1)])])],1)],1)},i=[];a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return i}))},fc7f:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=a("23f7"),i="/backend-api/bk-api-adjust-risk/list",r="/backend-api/bk-api-adjust-risk/initialize",n="/backend-api/bk-api-adjust-risk/detail",l="/backend-api/bk-api-adjust-risk/audit",o="/backend-api/complaint/list",c="/backend-api/complaint/add-complaint",d="/backend-api/complaint/complaint-handling",u="/backend-api/complaint/update-complaint-handling",p=function(e){return s.axios.get(i,{params:e})},b=function(){return s.axios.post(r)},f=function(e){return s.axios.post(n,e)},v=function(e){return s.axios.post(l,e)},m=function(e){return s.axios.get(o,{params:e})},h=function(e){return s.axios.post(c,e)},g=function(e){return s.axios.post(d,e)},y=function(e){return s.axios.post(u,e)},x={getPerformanceManageList:p,getRiskInitialize:b,getRiskInitDetail:f,getRiskAudit:v,getComplaintList:m,addComplaint:h,getComplaintDetail:g,updateComplaint:y},k=x;t.default=k}}]);