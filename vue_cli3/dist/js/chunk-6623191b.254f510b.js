(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6623191b"],{2578:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"custom-search-input"},[a("input",{staticStyle:{display:"none"},attrs:{type:"text"},domProps:{value:e.value}}),a("el-select",{ref:"searchRadioSelect",attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:e.placeholderText,"popper-append-to-body":e.isAppend,"remote-method":e.remoteMethod,loading:e.loading},on:{change:e.changeOption,focus:e.focusSelect},model:{value:e.selectModel,callback:function(t){e.selectModel=t},expression:"selectModel"}},e._l(e.options,(function(t,i){return a("el-option",{key:"sear-"+i,attrs:{label:t.text,value:t.id+"",disabled:t.disabled},nativeOn:{click:function(a){return e.selectChange(t)}}})})),1)],1)},r=[];a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r}))},"33c4":function(e,t,a){"use strict";var i=a("91fe"),r=a("407d").findIndex,o=a("5751"),s=a("6885"),n="findIndex",d=!0,l=s(n);n in[]&&Array(1)[n]((function(){d=!1})),i({target:"Array",proto:!0,forced:d||!l},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o(n)},"4a74":function(e,t,a){"use strict";a.r(t);var i=a("cbd4"),r=a.n(i);for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=r.a},5718:function(e,t,a){"use strict";a.r(t);var i=a("2578"),r=a("4a74");for(var o in r)"default"!==o&&function(e){a.d(t,e,(function(){return r[e]}))}(o);var s=a("5511"),n=Object(s["a"])(r["default"],i["a"],i["b"],!1,null,"66f17a72",null);t["default"]=n.exports},"673f":function(e,t,a){"use strict";var i=a("b69d"),r=a.n(i);r.a},"8ad2":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.pageLoading,expression:"pageLoading"}],staticClass:"address-list-cantainer"},[i("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",[i("a",{attrs:{href:"/"}},[e._v("首页")])]),i("el-breadcrumb-item",[e._v("微信好友管理")])],1),i("div",{staticClass:"address-list-main"},[i("div",{staticClass:"address-list-info"},[i("consultant-info",{attrs:{dataObj:e.consultantInfoData}}),i("div",{staticClass:"rank-list"},[i("rank-list",{attrs:{dataObj:e.rankListData}})],1),i("friend-group",{attrs:{dataObj:e.groupData},on:{objTitle:e.objTitleFn}})],1),i("div",{staticClass:"address-list"},[i("div",{staticClass:"address-list-title"},[i("span",{staticClass:"address-group-name"},[e._v(e._s(e.titleObj.name)+"（"+e._s(e.titleObj.num)+"个）")]),"1"===e.titleObj.value?i("span",{staticClass:"address-title-tips"},[e._v("所有的客户都需要绑定订单，请点击「绑定到订单」将客户绑定到订单中，任务未完成系统会一直提示哦~")]):e._e(),"5"===e.titleObj.value?i("span",{staticClass:"address-title-tips"},[e._v("需要分组的微信好友，请点击「编辑分组」对好友进行分类，任务未完成系统会一直提示哦~")]):e._e()]),i("div",{staticClass:"address-list-search"},[i("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchObj}},[i("el-form-item",{attrs:{label:"微信名称："}},[i("el-input",{attrs:{placeholder:"搜索微信名称"},model:{value:e.searchObj.wxName,callback:function(t){e.$set(e.searchObj,"wxName",t)},expression:"searchObj.wxName"}})],1),i("el-form-item",{attrs:{label:"微信号码："}},[i("el-input",{attrs:{placeholder:"搜索微信号码"},model:{value:e.searchObj.wxAccount,callback:function(t){e.$set(e.searchObj,"wxAccount",t)},expression:"searchObj.wxAccount"}})],1),i("el-form-item",{attrs:{label:"绑定订单："}},[i("el-input",{attrs:{oninput:"value=value.replace(/[^\\d]/g,'')",placeholder:"搜索绑定订单"},model:{value:e.searchObj.order,callback:function(t){e.$set(e.searchObj,"order",t)},expression:"searchObj.order"}})],1),i("el-form-item",[i("el-button",{staticClass:"search-button",attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("搜 索")])],1)],1)],1),i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticClass:"friend-list-table"},[i("div",{staticClass:"page-num"},[e._v("第"+e._s(20*(e.currentPage-1)+1)+"-"+e._s(20*(e.currentPage-1)+20)+"条数据，共"+e._s(e.pageTotal)+"条数据")]),i("el-table",{staticStyle:{width:"100%"},attrs:{border:"","header-row-class-name":"has-bg",data:e.tableData}},[i("el-table-column",{attrs:{label:"头像",width:"90",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[i("img",{staticClass:"avatar",attrs:{src:e.row.head_img,alt:"微信头像"}})]}}])}),i("el-table-column",{attrs:{label:"微信名称"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"===t.row.suspicion_sale?i("span",[e._v(e._s(t.row.nike_name)+"(疑似销售)")]):i("span",[e._v(e._s(t.row.nike_name))])]}}])}),"header"===e.role?i("el-table-column",{attrs:{prop:"wx_num",label:"微信号"}}):e._e(),i("el-table-column",{attrs:{label:"绑定订单"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{class:[0===t.row.bind_id?"no-bind":""]},[e._v(e._s(t.row.order_desc))]),t.row.audit&&"3"==t.row.audit.result?i("span",{staticClass:"other-tip"},[e._v("审核被驳回，原因："+e._s(t.row.audit.reason))]):e._e()]}}])}),i("el-table-column",{attrs:{label:"分组"},scopedSlots:e._u([{key:"default",fn:function(t){return["5"!==t.row.group_type?i("span",[e._v(e._s(t.row.group_desc))]):e._e()]}}])}),i("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",{staticClass:"button-group"},[t.row.auth_update?i("span",{staticClass:"edit-group",on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("修改分组")]):e._e(),t.row.auth_bind?i("span",{staticClass:"bound-group",on:{click:function(a){return e.handleOrder(t.row)}}},[e._v("绑定订单")]):e._e(),t.row.auth_update_order_bind?i("span",{staticClass:"bound-group",on:{click:function(a){return e.changeBoundOrder(t.row)}}},[e._v("编辑绑定")]):e._e(),t.row.audit&&1===t.row.audit.result?i("span",[e._v("审核中")]):e._e(),t.row.auth_talk_content?i("span",{staticClass:"bound-group",on:{click:function(a){return e.goWxChatContent(t.row)}}},[e._v("查看聊天记录")]):e._e()])]}}])})],1),parseInt(e.pageTotal)>20?i("div",{staticClass:"page-pagination"},[i("el-pagination",{attrs:{"current-page":e.currentPage,background:"","page-size":20,layout:"prev, pager, next",total:parseInt(e.pageTotal)},on:{"current-change":e.pageChangeFn}})],1):e._e()],1),i("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.changOrderLoading,expression:"changOrderLoading"}],attrs:{"custom-class":"editor-dialog",visible:e.editorDialogVisible,"show-close":!1,width:"460px"},on:{"update:visible":function(t){e.editorDialogVisible=t}}},[i("div",{staticClass:"editor-dialog-title",attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.editTypeText)+"订单绑定"),i("i",{staticClass:"icon-close",on:{click:function(t){e.editorDialogVisible=!e.editorDialogVisible}}})]),i("div",{staticClass:"friend-user-info"},[i("div",{staticClass:"user-avatar"},[e.editorOrderData.head_img?i("img",{attrs:{src:e.editorOrderData.head_img,alt:"微信头像"}}):i("img",{attrs:{src:a("36ad"),alt:"微信头像"}})]),i("div",{staticClass:"user-info"},[i("div",{staticClass:"user-name"},[e._v(e._s(e.editorOrderData.nike_name))]),i("div",{staticClass:"user-account"},[e._v(e._s(e.editorOrderData.wx_num))]),i("div",{staticClass:"user-group order-info"},[i("span",{staticClass:"dialog-label"},[e._v("绑定订单：")]),i("span",[e._v(e._s(e.editorOrderData.order_desc))])]),i("div",{staticClass:"btn-wrap"},[i("a",{class:"btn-editor "+(1===e.editType?"active":""),attrs:{href:"javascript:void(0)"},on:{click:function(t){e.editType=1}}},[e._v(" 修改 ")]),i("a",{class:"btn-editor "+(2===e.editType?"active":""),attrs:{href:"javascript:void(0)"},on:{click:function(t){e.editType=2}}},[e._v(" 删除 ")])])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:1===e.editType&&0!==e.editType,expression:"editType === 1 && editType !==0"}],staticClass:"order-select"},[i("span",{staticClass:"dialog-label"},[e._v(e._s(e.editTypeText)+"订单：")]),i("el-select",{attrs:{filterable:"",remote:"",placeholder:"搜索客户姓名、手机订单","remote-method":function(t){return e.remoteOrderMethod(t,!0)},loading:e.loading},on:{focus:function(t){return e.focusOrder()}},model:{value:e.editorOrderId,callback:function(t){e.editorOrderId=t},expression:"editorOrderId"}},e._l(e.editorOrderOptions,(function(e){return i("el-option",{key:e.id,attrs:{label:e.text,value:e.id}})})),1),i("i",{staticClass:"icon-caret-bottom"})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:0!==e.editType,expression:"editType !==0"}],staticClass:"order-select"},[i("span",{staticClass:"dialog-label"},[e._v("原因说明：")]),i("el-input",{attrs:{type:"textarea",rows:2,maxlength:"300",placeholder:"请说明"+e.editTypeText+"原因"},model:{value:e.editorOrderDes,callback:function(t){e.editorOrderDes=t},expression:"editorOrderDes"}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:0!==e.editType,expression:"editType !==0"}],staticClass:"order-select upload-button"},[i("span",{staticClass:"dialog-label"},[e._v("上传图片：")]),i("div",[e.imgBase.length?i("div",[i("ul",{staticClass:"dialog-img-list"},e._l(e.imgBase,(function(t,a){return i("li",{key:a},[i("i",{staticClass:"btn-close",on:{click:function(t){return e.delImg(a)}}},[e._v("-")]),i("div",{staticClass:"img"},[i("img",{attrs:{alt:"订单图片",src:t}})])])})),0)]):e._e(),i("el-upload",{ref:"uploadBtn",staticClass:"upload-demo",attrs:{action:"","http-request":e.fnUploadRequest,"show-file-list":!1,multiple:"",limit:e.uploadMaxLimit,"on-exceed":e.handleExceed,"file-list":e.fileList}},[i("el-button",{attrs:{size:"small",plain:""}},[i("i",{staticClass:"el-icon-upload"}),e._v("点击上传 ")])],1)],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:0!==e.editType,expression:"editType !==0"}],staticClass:"dialog-tips"},[e._v(" 注意："+e._s(e.editTypeText)+"绑定订单关系需要经过审核哦，审核通过后才可以"+e._s(e.editTypeText)+"成功 ")]),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.editorDialogVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.beforeSaveChangeOrder(e.editorOrderData)}}},[e._v("保 存")])],1)]),i("el-dialog",{attrs:{"custom-class":"editor-dialog bound-dialog",visible:e.boundDialogVisible,"show-close":!1,width:"460px"},on:{"update:visible":function(t){e.boundDialogVisible=t}}},[i("div",{staticClass:"editor-dialog-title",attrs:{slot:"title"},slot:"title"},[e._v("绑定到订单"),i("i",{staticClass:"icon-close",on:{click:function(t){e.boundDialogVisible=!e.boundDialogVisible}}})]),i("div",{staticClass:"friend-user-info"},[i("div",{staticClass:"user-avatar"},[e.boundData.head_img?i("img",{attrs:{src:e.boundData.head_img,alt:"微信头像"}}):i("img",{attrs:{src:a("36ad"),alt:"微信头像"}})]),i("div",{staticClass:"user-info"},[i("div",{staticClass:"user-name"},[e._v(e._s(e.boundData.nike_name))]),i("div",{staticClass:"user-account"},[e._v(e._s(e.boundData.wx_num))])])]),i("div",{staticClass:"user-group"},[i("span",{staticClass:"dialog-label"},[e._v("分类：")]),i("span",[e._v(e._s(e.boundData.group_desc))])]),i("div",{staticClass:"order-select"},[i("span",{staticClass:"dialog-label"},[e._v("选择客户订单：")]),i("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",clearable:!0,placeholder:"搜索客户姓名、手机、订单","remote-method":e.remoteOrderMethod,loading:e.orderLoading},model:{value:e.orderBunder,callback:function(t){e.orderBunder=t},expression:"orderBunder"}},e._l(e.orderOption,(function(e,t){return i("el-option",{key:t,attrs:{label:e.text,value:e.id}})})),1),i("i",{staticClass:"icon-caret-bottom"})],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.boundDialogVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.boundOrderFn(e.boundData.wx_id,e.boundData.group_id)}}},[e._v("保 存")])],1)]),i("el-dialog",{attrs:{"custom-class":"editor-dialog",visible:e.editorGroupVisible,"show-close":!1,width:"460px"},on:{"update:visible":function(t){e.editorGroupVisible=t}}},["5"===this.dialogGroup?i("div",{staticClass:"editor-dialog-title",attrs:{slot:"title"},slot:"title"},[e._v("编辑分组 "),i("i",{staticClass:"icon-close",on:{click:function(t){e.editorGroupVisible=!e.editorGroupVisible}}})]):i("div",{staticClass:"editor-dialog-title",attrs:{slot:"title"},slot:"title"},[e._v("修改分组 "),i("i",{staticClass:"icon-close",on:{click:function(t){e.editorGroupVisible=!e.editorGroupVisible}}})]),i("div",{staticClass:"friend-user-info"},[i("div",{staticClass:"user-avatar"},[e.editorGroupData.head_img?i("img",{attrs:{src:e.editorGroupData.head_img,alt:"微信头像"}}):i("img",{attrs:{src:a("36ad"),alt:"微信头像"}})]),i("div",{staticClass:"user-info"},[i("div",{staticClass:"user-name"},[e._v(e._s(e.editorGroupData.nike_name))]),i("div",{staticClass:"user-account"},[e._v(e._s(e.editorGroupData.wx_num))])])]),i("div",{staticClass:"group-list"},[i("el-radio-group",{model:{value:e.dialogGroup,callback:function(t){e.dialogGroup=t},expression:"dialogGroup"}},e._l(e.groupData,(function(t,a){return i("el-radio",{directives:[{name:"show",rawName:"v-show",value:t.is_show,expression:"obj.is_show"}],key:a,attrs:{label:t.value}},[e._v(e._s(t.name))])})),1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.editorGroupVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.editorGroup(e.editorGroupData)}}},[e._v("保 存")])],1)])],1)])],1)},r=[];a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r}))},a101:function(e,t,a){"use strict";var i=a("2eb1");a("4178"),a("7ae7"),a("86dd"),a("af82"),a("4045"),a("c1b0"),a("c354"),a("3f36"),a("f4dd"),a("79dd"),a("b3f9"),a("3e5e"),a("9a14"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("289c"));a("63ff");var o=i(a("57f0")),s=a("08c1"),n=i(a("1e6a")),d=i(a("0130")),l=i(a("9026")),c=i(a("d34b")),u=i(a("5718"));function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f={name:"addressBookList",data:function(){return{fileList:[],editorDialogVisible:!1,boundDialogVisible:!1,editorGroupVisible:!1,boundData:{},dialogGroup:"",editorGroupData:{},editorOrderData:{},editorOrderOptions:[],editorOrderId:"",loading:!1,pageLoading:!1,editorOrderDes:"",imgBase:[],imgUrl:[],searchObj:{wxName:"",wxAccount:"",order:""},orderBunder:"",orderLoading:!1,orderOption:[],consultantInfoData:{},rankListData:{},groupType:"",groupData:[],titleObj:{name:"",num:"",value:""},tableData:[],tableLoading:!1,changOrderLoading:!1,currentPage:1,pageTotal:0,editType:0,uploadMaxLimit:5}},mounted:function(){this.$route.query.uid&&localStorage.setItem("headerUid",this.$route.query.uid),this.role&&this.getWechatInfo()},methods:{objTitleFn:function(e){var t=this;this.groupType=e.value,this.titleObj.num=e.num,this.pageTotal=e.num,this.$nextTick((function(){t.getAddressListFn(e.group_id)}))},remoteOrderMethod:function(e,t){var a=this;return(0,o.default)(regeneratorRuntime.mark((function i(){var r,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,r={search_value:e},a.orderLoading=!0,i.next=5,n.default.getOrderSearch(r);case 5:o=i.sent,0===o.data.code?(a.orderLoading=!1,t?a.editorOrderOptions=o.data.data:a.orderOption=o.data.data):a.$message.error(o.data.msg),i.next=12;break;case 9:i.prev=9,i.t0=i["catch"](0),console.log(i.t0);case 12:case"end":return i.stop()}}),i,null,[[0,9]])})))()},getWechatInfo:function(){var e=this;return(0,o.default)(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a={employee_id:e.uid},e.pageLoading=!e.pageLoading,t.next=5,n.default.getWechatInfo(a);case 5:i=t.sent,0===i.data.code?(e.consultantInfoData=i.data.data.info||{},e.rankListData=i.data.data.task||{},e.groupData=i.data.data.friend||[],e.pageLoading=!e.pageLoading):(e.$message.error(i.data.msg),e.pageLoading=!e.pageLoading),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getAddressListFn:function(e){var t=this;return(0,o.default)(regeneratorRuntime.mark((function a(){var i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.pageLoading=!t.pageLoading,a.prev=1,i={group:t.groupType,group_id:e,employee_id:t.uid,order_id:t.searchObj.order,wx_id:t.searchObj.wxAccount,nike_name:t.searchObj.wxName||t.$route.query.searchLabel,page:t.currentPage},a.next=5,n.default.getAddressList(i);case 5:r=a.sent,0===r.data.code?(t.tableData=r.data.data.list,t.titleObj.name=r.data.data.head_info.group_name,t.titleObj.value=r.data.data.head_info.group_type,t.pageTotal=r.data.data.head_info.total,t.pageLoading=!t.pageLoading):(t.$message.error(r.data.msg),t.pageLoading=!t.pageLoading),a.next=13;break;case 9:a.prev=9,a.t0=a["catch"](1),t.pageLoading=!t.pageLoading,console.log(a.t0);case 13:case"end":return a.stop()}}),a,null,[[1,9]])})))()},pageChangeFn:function(e){this.currentPage=e,this.getAddressListFn()},handleOrder:function(e){this.boundData=e,this.orderBunder="",this.boundDialogVisible=!this.boundDialogVisible},boundOrderFn:function(e,t){var a=this;return(0,o.default)(regeneratorRuntime.mark((function i(){var r,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(i.prev=0,r={order_id:a.orderBunder,wx_id:e,employee_id:a.uid,group_id:t},""!=a.orderBunder){i.next=5;break}return a.$message.error("请选择客户订单！"),i.abrupt("return",!1);case 5:return a.pageLoading=!a.pageLoading,i.next=8,n.default.boundOrder(r);case 8:o=i.sent,0===o.data.code?(a.pageLoading=!a.pageLoading,a.boundDialogVisible=!a.boundDialogVisible,a.$message.success("绑定成功！"),a.getAddressListFn(),a.getWechatInfo()):(a.pageLoading=!a.pageLoading,a.$message.error(o.data.msg)),i.next=15;break;case 12:i.prev=12,i.t0=i["catch"](0),console.log(i.t0);case 15:case"end":return i.stop()}}),i,null,[[0,12]])})))()},handleEdit:function(e){this.editorGroupData=e,this.dialogGroup=e.group_type,this.editorGroupVisible=!this.editorGroupVisible},editorGroup:function(e){var t=this;return(0,o.default)(regeneratorRuntime.mark((function a(){var i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if("5"!==t.dialogGroup){a.next=3;break}return t.$message.error("请选择分组类型！"),a.abrupt("return",!1);case 3:return a.prev=3,i={group_id:e.group_id,group_type:t.dialogGroup,employee_id:t.uid},t.pageLoading=!t.pageLoading,a.next=8,n.default.saveEditorGroup(i);case 8:r=a.sent,0===r.data.code?(t.pageLoading=!t.pageLoading,t.editorGroupVisible=!1,t.$message.success("修改成功！"),t.getAddressListFn(),t.groupData=r.data.data.group_data,t.getWechatInfo()):(t.pageLoading=!t.pageLoading,t.$message.error(r.data.msg)),a.next=15;break;case 12:a.prev=12,a.t0=a["catch"](3),console.log(a.t0);case 15:case"end":return a.stop()}}),a,null,[[3,12]])})))()},onSubmit:function(){this.currentPage=1,this.getAddressListFn()},changeBoundOrder:function(e){this.editorOrderData=e,this.editorOrderDes="",this.editorDialogVisible=!this.editorDialogVisible},focusOrder:function(){""!==this.editorOrderId&&this.remoteOrderMethod(this.editorOrderId,!0)},beforeSaveChangeOrder:function(e){var t=this.editType;1===t?this.saveChangeOrder(e):2===t?this.deleteBindOrder(e):this.editorDialogVisible=!this.editorDialogVisible},saveChangeOrder:function(e){var t=this;return(0,o.default)(regeneratorRuntime.mark((function a(){var i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,i={order_wechat_id:e.bind_id,change_to:t.editorOrderId,reason:t.editorOrderDes,img:t.imgUrl},""!==t.editorOrderId){a.next=5;break}return t.$message.error("修改订单id不能为空！"),a.abrupt("return");case 5:if(""!==t.editorOrderDes){a.next=8;break}return t.$message.error("修改原因不能为空！"),a.abrupt("return");case 8:return a.next=10,n.default.saveChangeOrder(i);case 10:r=a.sent,0===r.data.code?(t.editorDialogVisible=!t.editorDialogVisible,t.$message.success("修改绑定已成功提交审核！"),t.getAddressListFn()):t.$message.error(r.data.msg),a.next=17;break;case 14:a.prev=14,a.t0=a["catch"](0),console.log(a.t0);case 17:case"end":return a.stop()}}),a,null,[[0,14]])})))()},deleteBindOrder:function(e){var t=this;return(0,o.default)(regeneratorRuntime.mark((function a(){var i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,i={order_wechat_id:e.bind_id,reason:t.editorOrderDes,img:t.imgUrl},""!==t.editorOrderDes){a.next=5;break}return t.$message.error("删除原因不能为空！"),a.abrupt("return");case 5:return a.next=7,n.default.deleteBindOrder(i);case 7:r=a.sent,0===r.data.code?(t.editorDialogVisible=!t.editorDialogVisible,t.$message.success("删除绑定订单已成功提交审核！"),t.getAddressListFn()):t.$message.error(r.data.msg),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](0),console.log(a.t0);case 14:case"end":return a.stop()}}),a,null,[[0,11]])})))()},goWxChatContent:function(e){this.$router.push("/weChatAddressBook/wxChatContent?nike_name=".concat(e.nike_name,"&&wx_id=").concat(e.wx_id,"&&uid=").concat(this.uid))},handleExceed:function(e,t){this.$message.warning("当前限制选择 5 张图片，本次选择了 ".concat(e.length," 个图片，已经选择了 ").concat(this.imgUrl.length," 个图片"))},fnUploadRequest:function(e){var t=this;return(0,o.default)(regeneratorRuntime.mark((function a(){var i,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=e.file.size/1024/1024<=10,r=".png,.jpg,.jpeg",o=e.file.name.split(".")[1].toLowerCase(),!(r.indexOf(o)<=-1)){a.next=6;break}return t.$message.error("只能上传jpg、png、jpeg格式文件！"),a.abrupt("return",!1);case 6:if(t.changOrderLoading=!0,i){a.next=10;break}return t.$message.error("图片大小最多10M！"),a.abrupt("return",!1);case 10:t.ossUploadFile(e,"orderChange").then((function(a){var i=new FileReader;i.readAsDataURL(e.file),i.onload=function(){t.imgBase.push(i.result),t.changOrderLoading=!1},t.imgUrl.push(a[0])}));case 11:case"end":return a.stop()}}),a)})))()},delImg:function(e){this.imgBase.splice(e,1),this.imgUrl.splice(e,1),this.uploadMaxLimit+=1}},components:{ConsultantInfo:d.default,FriendGroup:l.default,RankList:c.default,SearchRadioSelect:u.default},computed:g({},(0,s.mapState)({uid:function(e){return"header"===e.role?e.uid:localStorage.getItem("headerUid")},role:function(e){return e.role}}),{editTypeText:function(){var e=["编辑","修改","删除"];return e[this.editType]}}),watch:{uid:{handler:function(e,t){this.getWechatInfo()},deep:!0},boundDialogVisible:{handler:function(e,t){e||(this.orderBunder="",this.orderOption=[])},deep:!0},editorDialogVisible:{handler:function(e,t){e||(this.imgBase=[],this.imgUrl=[],this.editorOrderId="",this.uploadMaxLimit=5,this.$refs.uploadBtn.clearFiles(),this.editType=0)},deep:!0},$route:{handler:function(e,t){this.currentPage=1},deep:!0}}};t.default=f},ae01:function(e,t,a){"use strict";a.r(t);var i=a("a101"),r=a.n(i);for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=r.a},af72:function(e,t,a){var i=a("abd8");t=i(!1),t.push([e.i,'[data-v-6f4205ea] .el-pagination.is-background .el-pager li:not(.disabled).active{background:#2e9ae2}[data-v-6f4205ea] .editor-dialog{position:absolute;top:50%;left:50%;margin:0!important;border-radius:4px;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);max-height:calc(100% - 30px);max-width:calc(100% - 30px);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}[data-v-6f4205ea] .editor-dialog .el-button--primary{background:#2e9ae2}[data-v-6f4205ea] .editor-dialog .el-input__suffix{right:20px}[data-v-6f4205ea] .editor-dialog .editor-dialog-title{font-weight:700;font-size:16px;line-height:24px;color:rgba(0,0,0,.85);display:-webkit-box;display:-ms-flexbox;display:flex}[data-v-6f4205ea] .editor-dialog .editor-dialog-title i{font-size:14px;margin-left:auto;color:#77808a;cursor:pointer}[data-v-6f4205ea] .editor-dialog .friend-user-info{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;margin-left:12px;margin-bottom:20px}[data-v-6f4205ea] .editor-dialog .friend-user-info .user-avatar{margin-right:10px}[data-v-6f4205ea] .editor-dialog .friend-user-info .user-avatar img{width:50px;height:50px;border-radius:4px}[data-v-6f4205ea] .editor-dialog .friend-user-info .user-info .user-name{font-weight:700;font-size:16px;margin-bottom:6px;color:#333}[data-v-6f4205ea] .editor-dialog .friend-user-info .user-info .user-account{font-size:16px;color:#333}[data-v-6f4205ea] .editor-dialog .group-list{margin-left:12px;margin-bottom:60px}[data-v-6f4205ea] .editor-dialog .order-select,[data-v-6f4205ea] .editor-dialog .user-group{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:top;-ms-flex-align:top;align-items:top;margin-left:12px;margin-bottom:12px;position:relative}[data-v-6f4205ea] .editor-dialog .order-select .icon-caret-bottom,[data-v-6f4205ea] .editor-dialog .user-group .icon-caret-bottom{font-size:12px;position:absolute;right:10px;top:13px;color:#77808a}[data-v-6f4205ea] .editor-dialog .order-select .dialog-label,[data-v-6f4205ea] .editor-dialog .user-group .dialog-label{width:70px;line-height:40px;margin-right:10px;text-align:right;white-space:nowrap}[data-v-6f4205ea] .editor-dialog .order-select .el-select,[data-v-6f4205ea] .editor-dialog .order-select .el-textarea,[data-v-6f4205ea] .editor-dialog .user-group .el-select,[data-v-6f4205ea] .editor-dialog .user-group .el-textarea{-webkit-box-flex:1;-ms-flex:1;flex:1}[data-v-6f4205ea] .editor-dialog .order-select.order-info,[data-v-6f4205ea] .editor-dialog .user-group.order-info{margin-left:0}[data-v-6f4205ea] .editor-dialog.bound-dialog .dialog-label{width:98px}[data-v-6f4205ea] .editor-dialog .upload-button{-webkit-box-align:center;-ms-flex-align:center;align-items:center}[data-v-6f4205ea] .editor-dialog .upload-button .dialog-img-list{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}[data-v-6f4205ea] .editor-dialog .upload-button .dialog-img-list li{margin-right:10px;margin-bottom:10px;position:relative}[data-v-6f4205ea] .editor-dialog .upload-button .dialog-img-list .btn-close{background-color:red;display:block;width:15px;height:15px;line-height:15px;text-align:center;color:#fff;border-radius:50%;font-size:19px;font-weight:700;position:absolute;cursor:pointer;right:0;top:0}[data-v-6f4205ea] .editor-dialog .upload-button .dialog-img-list img{width:80px;height:80px;border-radius:4px;-o-object-fit:fill;object-fit:fill}[data-v-6f4205ea] .editor-dialog .user-group{line-height:40px;margin-bottom:2px;-webkit-box-align:center;-ms-flex-align:center;align-items:center}[data-v-6f4205ea] .editor-dialog .dialog-tips{font-size:12px;margin-left:12px;color:#ff4958}[data-v-6f4205ea] .editor-dialog>.el-dialog__header{padding-bottom:15px;padding-top:15px;border-bottom:1px solid #ddd}[data-v-6f4205ea] .editor-dialog .el-dialog__headerbtn{font-weight:700}[data-v-6f4205ea] .editor-dialog>.el-dialog__body{padding-top:20px;padding-bottom:10px;overflow:auto;color:#666}[data-v-6f4205ea] .editor-dialog>.el-dialog__body .btn-wrap .btn-editor{color:#2e9ae2;margin-right:5px;padding-bottom:3px;line-height:1;display:inline-block;text-align:center}[data-v-6f4205ea] .editor-dialog>.el-dialog__body .btn-wrap .btn-editor.active{color:#2e9ae2;border-bottom:1px solid #2e9ae2}[data-v-6f4205ea] .editor-dialog .dialog-footer{text-align:center}[data-v-6f4205ea] .editor-dialog .dialog-footer button{height:65px;height:32px;padding-top:0;padding-bottom:0;line-height:30px}[data-v-6f4205ea] .editor-dialog .dialog-footer .el-button--default{background:#fff;color:#606266}.address-list-cantainer .el-breadcrumb[data-v-6f4205ea]{margin-top:20px;margin-bottom:10px;color:#354052}.address-list-cantainer .rank-list[data-v-6f4205ea]{margin-top:10px;margin-bottom:10px}.address-list-cantainer .address-list-main[data-v-6f4205ea]{display:-webkit-box;display:-ms-flexbox;display:flex}.address-list-cantainer .address-list-main .address-list[data-v-6f4205ea]{-webkit-box-flex:1;-ms-flex:1;flex:1;margin-left:20px;background:#fff;padding:20px}.address-list-cantainer .address-list-main .address-list .address-list-title[data-v-6f4205ea]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:20px;border-bottom:1px solid #ddd}.address-list-cantainer .address-list-main .address-list .address-list-title .address-group-name[data-v-6f4205ea]{position:relative;font-size:16px;padding:10px 0;font-weight:700;color:#333}.address-list-cantainer .address-list-main .address-list .address-list-title .address-group-name[data-v-6f4205ea]:before{content:"";position:absolute;bottom:-1px;left:0;display:block;width:100%;height:2px;background:#a9a9a9}.address-list-cantainer .address-list-main .address-list .address-list-title .address-title-tips[data-v-6f4205ea]{font-size:14px;margin-left:10px;color:#a9bacf}.address-list-cantainer .address-list-main .address-list .address-list-search .search-button[data-v-6f4205ea]{background:#2e9ae2;border-radius:4px;width:98px;height:38px;padding:0;line-height:38px}.address-list-cantainer .address-list-main .address-list .friend-list-table .page-num[data-v-6f4205ea]{font-size:12px;line-height:24px;margin-bottom:10px;color:#333}.address-list-cantainer .address-list-main .address-list .friend-list-table .avatar[data-v-6f4205ea]{width:50px;height:50px;border-radius:4px;-o-object-fit:contain;object-fit:contain}.address-list-cantainer .address-list-main .address-list .friend-list-table .el-table[data-v-6f4205ea]{color:#333}.address-list-cantainer .address-list-main .address-list .friend-list-table .no-bind[data-v-6f4205ea]{font-size:14px;color:#ff4958}.address-list-cantainer .address-list-main .address-list .friend-list-table .other-tip[data-v-6f4205ea]{font-size:14px;color:#ff4958;display:block}.address-list-cantainer .address-list-main .address-list .friend-list-table[data-v-6f4205ea] .has-bg th{font-size:14px;background:#f4f6f9;color:#333}.address-list-cantainer .address-list-main .address-list .friend-list-table .edit-group[data-v-6f4205ea]{font-size:14px;color:#f80}.address-list-cantainer .address-list-main .address-list .friend-list-table .bound-group[data-v-6f4205ea]{font-size:14px;color:#2e9ae2}.address-list-cantainer .address-list-main .address-list .friend-list-table .button-group[data-v-6f4205ea]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around}.address-list-cantainer .address-list-main .address-list .friend-list-table .button-group span[data-v-6f4205ea]{cursor:pointer}.address-list-cantainer .address-list-main .address-list .friend-list-table .page-pagination[data-v-6f4205ea]{margin-top:20px;padding-top:30px;text-align:center;border-top:1px solid #f4f6f9}.el-table--border th[data-v-6f4205ea]{background:#f4f6f9}',""]),e.exports=t},b69d:function(e,t,a){var i=a("af72");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=a("85cb").default;r("3b00e396",i,!0,{sourceMap:!1,shadowMode:!1})},c1b0:function(e,t,a){"use strict";var i=a("91fe"),r=a("0192"),o=a("f240"),s=a("684e"),n=a("ee6f"),d=a("3132"),l=a("01d7"),c=a("b1a1"),u=a("6885"),p=c("splice"),g=u("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,b=Math.min,h=9007199254740991,m="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!p||!g},{splice:function(e,t){var a,i,c,u,p,g,v=n(this),x=s(v.length),_=r(e,x),w=arguments.length;if(0===w?a=i=0:1===w?(a=0,i=x-_):(a=w-2,i=b(f(o(t),0),x-_)),x+a-i>h)throw TypeError(m);for(c=d(v,i),u=0;u<i;u++)p=_+u,p in v&&l(c,u,v[p]);if(c.length=i,a<i){for(u=_;u<x-i;u++)p=u+i,g=u+a,p in v?v[g]=v[p]:delete v[g];for(u=x;u>x-i+a;u--)delete v[u-1]}else if(a>i)for(u=x-i;u>_;u--)p=u+i-1,g=u+a-1,p in v?v[g]=v[p]:delete v[g];for(u=0;u<a;u++)v[u+_]=arguments[u+2];return v.length=x-i+a,c}})},cbd4:function(e,t,a){"use strict";a("33c4"),a("f4a0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"search-radio-select",data:function(){return{options:[],selectModel:"",thisIndex:0,mountedFlag:!0,thisObj:{},loading:!1,focusIndex:0}},props:{value:{default:function(){return[]}},chosenList:{type:Array,default:function(){return[]}},isAppend:{type:Boolean,default:!1},checkKey:{type:String,default:""},currentIndex:{type:Number,default:0},apiInfo:{type:Object,default:function(){return{}}},chosenObj:{type:Object,default:function(){return{id:"",text:""}}},placeholderText:{type:String,default:""}},mounted:function(){var e=this;this.selectModel="",this.selectModel=this.value,this.thisIndex=this.currentIndex,this.$nextTick((function(){e.chosenObj.id&&e.options.unshift(e.chosenObj),e.mountedFlag=!1}))},methods:{remoteMethod:function(e){var t=this;this.apiInfo.params.q=e;for(var a=[],i=this.chosenList.length,r=0;r<i;r++)this.chosenList[r].id&&a.push(this.chosenList[r].id);this.apiInfo.params.exclude=a,this.axios.post(this.apiInfo.api,this.apiInfo.params).then((function(a){if(200==a.status&&0==a.data.code)if(t.loading=!1,Array.isArray(a.data.data.list))if(a.data.data.list.length<=0&&""==e){var i=[{id:"",text:"没有更多数据了",disabled:!0}];t.options=i}else{if(t.chosenObj.id){var r=a.data.data.list.findIndex((function(e){return e.id==t.chosenObj.id}));-1==r&&a.data.data.list.unshift(t.chosenObj)}t.options=a.data.data.list}else{var o=[{id:"",text:"没有更多数据了",disabled:!0}];t.options=o}})).catch((function(e){console.log(e)}))},changeOption:function(e){this.$emit("changeSelect",this.checkKey)},focusSelect:function(){this.remoteMethod("")},selectChange:function(e){this.$emit("getOption",e)}},watch:{selectModel:{handler:function(e,t){this.$emit("input",this.selectModel)},deep:!0},value:{handler:function(e,t){this.selectModel=this.value},deep:!0},chosenObj:{handler:function(e,t){var a=this;if(!this.mountedFlag&&this.chosenObj.id){var i=this.options.findIndex((function(e){return e.id==a.chosenObj.id}));-1==i&&this.options.unshift(this.chosenObj)}},deep:!0}}};t.default=i},f8fd:function(e,t,a){"use strict";a.r(t);var i=a("8ad2"),r=a("ae01");for(var o in r)"default"!==o&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("673f");var s=a("5511"),n=Object(s["a"])(r["default"],i["a"],i["b"],!1,null,"6f4205ea",null);t["default"]=n.exports}}]);