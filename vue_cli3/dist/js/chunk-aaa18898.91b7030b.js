(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-aaa18898"],{"0bbb":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n=i(a("25bf")),o=i(a("9789")),r=i(a("97ee"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){return(0,n.default)(e)||(0,o.default)(e)||(0,r.default)()}},"25bf":function(e,t,a){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},"25ca":function(e,t,a){"use strict";var n=a("0b29"),o=a("ee6f"),r=a("2bba"),i=a("0532"),s=a("684e"),c=a("01d7"),u=a("e28b");e.exports=function(e){var t,a,l,d,f,p,h=o(e),b="function"==typeof this?this:Array,m=arguments.length,g=m>1?arguments[1]:void 0,v=void 0!==g,_=u(h),y=0;if(v&&(g=n(g,m>2?arguments[2]:void 0,2)),void 0==_||b==Array&&i(_))for(t=s(h.length),a=new b(t);t>y;y++)p=v?g(h[y],y):h[y],c(a,y,p);else for(d=_.call(h),f=d.next,a=new b;!(l=f.call(d)).done;y++)p=v?r(d,g,[l.value,y],!0):l.value,c(a,y,p);return a.length=y,a}},"35f4":function(e,t,a){var n=a("aedd");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=a("85cb").default;o("1943e10c",n,!0,{sourceMap:!1,shadowMode:!1})},"5d5d":function(e,t,a){var n=a("91fe"),o=a("25ca"),r=a("e52f"),i=!r((function(e){Array.from(e)}));n({target:"Array",stat:!0,forced:i},{from:o})},"6cdc":function(e,t,a){"use strict";a.r(t);var n=a("8765"),o=a("e3b8");for(var r in o)"default"!==r&&function(e){a.d(t,e,(function(){return o[e]}))}(r);a("a0ef");var i=a("5511"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,"2c136efa",null);t["default"]=s.exports},"76f9":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("23f7"),o="/backend-api/project/cj-project-level/detail",r=function(e){return n.axios.get(o,{params:{project_id:e}})},i={getProjectDetaiData:r};t.default=i},"7ae7":function(e,t,a){"use strict";var n=a("91fe"),o=a("f30e"),r=a("a8c9"),i=a("d68d"),s=a("ee6f"),c=a("684e"),u=a("01d7"),l=a("3132"),d=a("b1a1"),f=a("57c4"),p=a("bf98"),h=f("isConcatSpreadable"),b=9007199254740991,m="Maximum allowed index exceeded",g=p>=51||!o((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),v=d("concat"),_=function(e){if(!i(e))return!1;var t=e[h];return void 0!==t?!!t:r(e)},y=!g||!v;n({target:"Array",proto:!0,forced:y},{concat:function(e){var t,a,n,o,r,i=s(this),d=l(i,0),f=0;for(t=-1,n=arguments.length;t<n;t++)if(r=-1===t?i:arguments[t],_(r)){if(o=c(r.length),f+o>b)throw TypeError(m);for(a=0;a<o;a++,f++)a in r&&u(d,f,r[a])}else{if(f>=b)throw TypeError(m);u(d,f++,r)}return d.length=f,d}})},8765:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"info-update-detail"},[a("el-breadcrumb",{staticClass:"bread-nav",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[a("a",{attrs:{href:"/"}},[e._v("首页")])]),a("el-breadcrumb-item",{attrs:{to:{path:"/building/BuildSalesInfoUpdate"}}},[e._v(" 楼盘分级任务列表 ")]),a("el-breadcrumb-item",[e._v("楼盘信息更新详情页")])],1),a("div",{staticClass:"houses-info"},[a("h3",{staticClass:"houses-info-title"},[e._v(e._s(e.housesInfo.name)+"（"+e._s(e.housesInfo.belongCity)+"·"+e._s(e.housesInfo.commercial)+"）")]),a("div",{staticClass:"dynamic-info"},[a("h4",{staticClass:"table-title"},[e._v("楼盘动态信息")]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"houses-table",staticStyle:{width:"800px"},attrs:{data:e.buildingDynamicData,"span-method":e.buildingSpanMethod,border:"","cell-class-name":e.tableCellClassName}},[a("el-table-column",{attrs:{prop:"field",label:"字段",width:"180"}}),a("el-table-column",{attrs:{prop:"value",label:"更新次数"}}),a("el-table-column",{attrs:{label:"操作"}},[[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.toUpdate("1")}}},[e._v(" 去更新 ")])]],2)],1)],1),a("div",{staticClass:"dynamic-info"},[a("h4",{staticClass:"table-title"},[e._v("户型&楼栋动态信息")]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"800px"},attrs:{data:e.housesDynamicData,"span-method":e.housesSpanMethod,border:""}},[a("el-table-column",{attrs:{prop:"house_type_num",label:"户型编号",width:"180"}}),a("el-table-column",{attrs:{prop:"field",label:"字段",width:"180"}}),a("el-table-column",{attrs:{prop:"value",label:"更新次数"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.toUpdate("2",t.row)}}},[e._v(" 去更新 ")])]}}])})],1),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isLast,expression:"isLast"}],staticClass:"btn-load-more",attrs:{type:"primary",size:"small"},on:{click:e.loadMoreInfo}},[e._v(" 加载更多户型 ")])],1)])],1)},o=[];a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return o}))},9789:function(e,t,a){"use strict";function n(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}a("4178"),a("fc88"),a("e350"),a("5d5d"),a("d9a3"),a("3a20"),a("7267"),a("ef8e"),a("252a"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},"97ee":function(e,t,a){"use strict";function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},a0ef:function(e,t,a){"use strict";var n=a("35f4"),o=a.n(n);o.a},aedd:function(e,t,a){var n=a("abd8");t=n(!1),t.push([e.i,".info-update-detail[data-v-2c136efa]{font-size:14px;padding:10px 15px}.info-update-detail .bread-nav[data-v-2c136efa]{margin:10px 0}.info-update-detail .houses-info[data-v-2c136efa]{margin-top:15px}.info-update-detail .houses-info-title[data-v-2c136efa]{padding:0 15px;font-weight:700;line-height:3;background-color:#fff}.info-update-detail .dynamic-info[data-v-2c136efa]{background-color:#fff;padding:10px 15px}.info-update-detail .dynamic-info .table-title[data-v-2c136efa]{font-size:15px;line-height:2;font-weight:400}.info-update-detail .dynamic-info .btn-load-more[data-v-2c136efa]{margin:20px 0}.info-update-detail .houses-table[data-v-2c136efa] .warning-row{background-color:#fc0}",""]),e.exports=t},e3b8:function(e,t,a){"use strict";a.r(t);var n=a("e888"),o=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,(function(){return n[e]}))}(r);t["default"]=o.a},e888:function(e,t,a){"use strict";var n=a("2eb1");a("7ae7"),a("af82"),a("c1f4"),a("c354"),a("9a14"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("0bbb"));a("63ff");var r=n(a("57f0")),i=n(a("76f9")),s=a("7223"),c={name:"HousesInfoUpdateDetail",created:function(){this.projectId=this.$route.query.projectId,this.getInitData()},data:function(){return{loading:!1,housesInfo:{name:"",belongCity:"",commercial:""},results:[],buildingDynamicData:[],housesDynamicData:[],page:{curPage:1,count:75}}},computed:{isLast:function(){return this.results.length>this.page.count&&this.results.length>this.housesDynamicData.length}},methods:{tableCellClassName:function(e){var t=e.row,a=(e.column,e.rowIndex,e.columnIndex);return 0===a&&0==t.value?"warning-row":""},getInitData:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){var a,n,o,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,i.default.getProjectDetaiData(e.projectId);case 4:a=t.sent,n=a.data,o=n.code,r=n.msg,s=n.data,e.loading=!1,0===o?(e.housesInfo.name=s.project_name,e.housesInfo.belongCity=s.city_text,e.housesInfo.commercial=s.project_text_type,e.buildingDynamicData=s.project_notify_info,e.results=e.getUniformData(s.house_notify_info),e.housesDynamicData=e.results.slice(0,e.page.count)):e.$message(r),t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](0),e.loading=!1,console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,13]])})))()},getUniformData:function(e){var t=[];return e.forEach((function(e){e.info.forEach((function(a){var n=Object.assign({house_type_num:e.house_type_num,house_type_id:e.house_type_id,offer_price:e.offer_price},a);t.push(n)}))})),t},setTrack:function(e,t){t&&Object.assign(t,{fromPage:"p_changelog_detail",toPage:"p_changelog_detail"}),s.commonFun.setTrackMenu(e,t)},buildingSpanMethod:function(e){e.row,e.column;var t=e.rowIndex,a=e.columnIndex;if(2===a)return t%6===0?{rowspan:6,colspan:1}:{rowspan:0,colspan:0}},housesSpanMethod:function(e){e.row,e.column;var t=e.rowIndex,a=e.columnIndex;if(0===a||3===a)return t%5===0?{rowspan:5,colspan:1}:{rowspan:0,colspan:0}},toUpdate:function(e,t){"1"===e?this.setTrack(6029,{update_cata:"project",project_id:this.projectId}):"2"===e&&this.setTrack(6029,{update_cata:"house",project_id:this.projectId,house_type_id:t.house_type_id});var a={projectId:this.projectId,from:"detail"};"2"===e&&void 0!==t&&Object.assign(a,{houseTypeId:t.house_type_id,houseTypeNum:t.house_type_num,houseTypePrice:t.offer_price}),this.$router.push({path:"/building/changeInfoEntering",query:a})},loadMoreInfo:function(){this.page.curPage++,this.housesDynamicData=[].concat((0,o.default)(this.housesDynamicData),(0,o.default)(this.results.slice((this.page.curPage-1)*this.page.count,this.page.curPage*this.page.count)))}}};t.default=c}}]);