(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ca6521b"],{"05ff":function(t,e,a){"use strict";a.r(e);var r=a("9b3d"),o=a("f3b9");for(var n in o)"default"!==n&&function(t){a.d(e,t,(function(){return o[t]}))}(n);a("8f72");var i=a("5511"),s=Object(i["a"])(o["default"],r["a"],r["b"],!1,null,"47e397a5",null);e["default"]=s.exports},"086b":function(t,e,a){var r=a("5d78");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var o=a("85cb").default;o("dcd2a2a2",r,!0,{sourceMap:!1,shadowMode:!1})},3722:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a("23f7"),o="/backend-api/we-chat-manage/group-status-config",n="/backend-api/we-chat-manage/group-config-list",i=function(t){return r.axios.post(o,t)},s=function(t){return r.axios.post(n,t)},u={groupStartEnd:i,getAutoGroupList:s},l=u;e.default=l},"5d78":function(t,e,a){var r=a("abd8");e=r(!1),e.push([t.i,".auto-group-wrap[data-v-47e397a5]{padding:0 20px 30px}.auto-group-wrap[data-v-47e397a5] .start-dialog .el-dialog__header{text-align:center}.auto-group-wrap[data-v-47e397a5] .start-dialog .el-dialog__header span{font-size:18px}.auto-group-wrap[data-v-47e397a5] .start-dialog .el-dialog__header .el-dialog__headerbtn{display:none}.auto-group-wrap[data-v-47e397a5] .start-dialog .el-dialog__body{padding:20px 20px}.auto-group-wrap[data-v-47e397a5] .el-table td,.auto-group-wrap[data-v-47e397a5] .el-table th,.auto-group-wrap[data-v-47e397a5] .start-dialog .el-dialog__footer{text-align:center}.auto-group-wrap[data-v-47e397a5] .el-table .edit-color{cursor:pointer;color:#409eff}.auto-group-wrap .add-config[data-v-47e397a5]{text-align:right;margin-bottom:10px}",""]),t.exports=e},"8f72":function(t,e,a){"use strict";var r=a("086b"),o=a.n(r);o.a},"9b3d":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"auto-group-wrap"},[a("el-breadcrumb",{staticClass:"bread-crumb-box",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[a("a",{attrs:{href:"/"}},[t._v("首页")])]),a("el-breadcrumb-item",[t._v("微信好友自动分组配置页")])],1),a("div",{staticClass:"v-box group-config"},[t._m(0),a("div",{staticClass:"bd"},[a("div",{staticClass:"add-config"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.total<11,expression:"total < 11"}],attrs:{type:"primary"},on:{click:function(e){return t.skipEdit(0)}}},[t._v(" +新增自动分组配置 ")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{border:"",data:t.tableData}},[a("el-table-column",{attrs:{label:"编号",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[0!==e.$index?a("div",[t._v(" "+t._s(e.$index)+" ")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"group_name",label:"名称","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.$index?a("div",[a("el-input",{attrs:{size:"mini",placeholder:"输入名称搜索"},on:{blur:t.searchGroupList},model:{value:t.params.groupName,callback:function(e){t.$set(t.params,"groupName",e)},expression:"params.groupName"}})],1):a("div",[t._v(t._s(e.row.group_name))])]}}])}),a("el-table-column",{attrs:{prop:"key_word",label:"关键词","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.$index?a("div",[a("el-input",{attrs:{size:"mini",placeholder:"输入关键词搜索"},on:{blur:t.searchGroupList},model:{value:t.params.keyWord,callback:function(e){t.$set(t.params,"keyWord",e)},expression:"params.keyWord"}})],1):a("div",t._l(e.row.key_word,(function(e,r){return a("div",{key:r},[t._v(" "+t._s(e)+" ")])})),0)]}}])}),a("el-table-column",{attrs:{prop:"group",label:"自动分组","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.$index?a("div",[a("el-select",{attrs:{placeholder:"请选择",size:"mini"},on:{change:t.searchGroupList},model:{value:t.params.autoGroup,callback:function(e){t.$set(t.params,"autoGroup",e)},expression:"params.autoGroup"}},t._l(t.groupOpts,(function(t){return a("el-option",{key:t.id,attrs:{label:t.value,value:t.id}})})),1)],1):a("div",[t._v(t._s(e.row.group))])]}}])}),a("el-table-column",{attrs:{prop:"is_open",label:"是否启用","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.$index?a("div",[a("el-select",{attrs:{placeholder:"请选择",size:"mini"},on:{change:t.searchGroupList},model:{value:t.params.isOpen,callback:function(e){t.$set(t.params,"isOpen",e)},expression:"params.isOpen"}},t._l(t.openOpts,(function(t){return a("el-option",{key:t.id,attrs:{label:t.value,value:t.id}})})),1)],1):a("div",[t._v(t._s(1==e.row.is_open?"启用":"停用"))])]}}])}),a("el-table-column",{attrs:{prop:"priority",label:"优先级","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.$index?a("div",[a("el-input",{attrs:{size:"mini",placeholder:"输入优先级搜索"},on:{blur:t.searchGroupList},model:{value:t.params.priority,callback:function(e){t.$set(t.params,"priority",e)},expression:"params.priority"}})],1):a("div",[t._v(t._s(e.row.priority))])]}}])}),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[0!==e.$index?a("div",[t._v(" "+t._s(e.row.create_time)+" ")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"creator",label:"创建人","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.$index?a("div",[a("el-autocomplete",{attrs:{"fetch-suggestions":t.searchCreator,placeholder:"输入创建人搜索",size:"mini"},on:{blur:t.searchGroupList},model:{value:t.params.creator,callback:function(e){t.$set(t.params,"creator",e)},expression:"params.creator"}})],1):a("div",[t._v(t._s(e.row.creator))])]}}])}),a("el-table-column",{attrs:{prop:"update_auth",label:"编辑","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[0!==e.$index?a("div",{staticClass:"edit-color"},[e.row.update_auth?a("span",{on:{click:function(a){return t.skipEdit(e.row.id)}}},[t._v(" 编辑 ")]):t._e(),a("span",{on:{click:function(a){return t.editDialog(e.row)}}},[t._v(" "+t._s(1==e.row.is_open?"停用":"启用")+" ")])]):t._e()]}}])})],1)],1)]),a("el-dialog",{staticClass:"start-dialog",attrs:{visible:t.dialogStatus,width:"400px"},on:{"update:visible":function(e){t.dialogStatus=e}}},[a("span",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[t._v(" "+t._s("1"==t.openStatus.state?"停用":"启用")+"自动分组 ")]),"1"==t.openStatus.state?a("span",[t._v(" 您确认要将"+t._s(t.openStatus.name)+"的自动分组配置为停用吗？停用后，本条策略不再生效，不会对咨询师的微信好友进行自动分组； ")]):a("span",[t._v(" 您确认要将"+t._s(t.openStatus.name)+"的自动分组配置为启用吗？启用后，本条策略将生效，会对咨询师的微信好友进行自动分组； ")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogStatus=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.confrim}},[t._v(" 确 定 ")])],1)])],1)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hd"},[a("h2",[t._v("微信好友自动分组配置页")])])}];a.d(e,"a",(function(){return r})),a.d(e,"b",(function(){return o}))},d8df:function(t,e,a){"use strict";var r=a("2eb1");a("4178"),a("fc88"),a("e350"),a("3a20"),a("ef8e"),a("252a"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("63ff");var o=r(a("57f0")),n=r(a("f946")),i=r(a("3722")),s={name:"autoGroupConfig",data:function(){return{total:0,firstFlag:!0,loading:!1,dialogStatus:!1,openStatus:{},statusData:{},params:{groupName:"",keyWord:"",autoGroup:"",isOpen:"",priority:"",creator:""},groupOpts:[],openOpts:[],tableData:[]}},created:function(){this.searchGroupList()},methods:{skipEdit:function(t){var e=this.$router.resolve({path:"/weChatAddressBook/editAutoGroup",query:{id:t}});window.open(e.href,"_blank")},confrim:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function e(){var a,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.dialogStatus=!1,e.prev=1,a={is_open:1==t.openStatus.state?"2":"1",id:t.openStatus.configId},e.next=5,i.default.groupStartEnd(a);case 5:r=e.sent,o=r.data,0===o.code&&t.searchGroupList(),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))()},editDialog:function(t){var e=this;return(0,o.default)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.openStatus={state:t.is_open,name:t.group_name,configId:t.id},e.dialogStatus=!0;case 2:case"end":return a.stop()}}),a)})))()},searchCreator:function(t,e){return(0,o.default)(regeneratorRuntime.mark((function a(){var r,o,i,s,u,l,p,d,c,f,v;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,!t){a.next=32;break}return r=[{}],o={q:t},a.next=6,n.default.getPageEmployee(o);case 6:if(i=a.sent,s=i.data,0!==s.code){a.next=30;break}for(u=!0,l=!1,p=void 0,a.prev=12,d=s.data.list[Symbol.iterator]();!(u=(c=d.next()).done);u=!0)f=c.value,f.value=f.text;a.next=20;break;case 16:a.prev=16,a.t0=a["catch"](12),l=!0,p=a.t0;case 20:a.prev=20,a.prev=21,u||null==d.return||d.return();case 23:if(a.prev=23,!l){a.next=26;break}throw p;case 26:return a.finish(23);case 27:return a.finish(20);case 28:r=s.data.list,e(r);case 30:a.next=34;break;case 32:v=[],e(v);case 34:a.next=39;break;case 36:a.prev=36,a.t1=a["catch"](0),console.log(a.t1);case 39:case"end":return a.stop()}}),a,null,[[0,36],[12,16,20,28],[21,,23,27]])})))()},searchGroupList:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function e(){var a,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.loading=!0,a={group_name:t.params.groupName,key_word:t.params.keyWord,group:t.params.autoGroup,priority:t.params.priority,creator:t.params.creator,is_open:t.params.isOpen},e.next=5,i.default.getAutoGroupList(a);case 5:r=e.sent,o=r.data,0===o.code&&(t.tableData=o.data.list?o.data.list:[],t.tableData.unshift({}),t.openOpts=o.data.open_list?o.data.open_list:[],t.groupOpts=o.data.group_list?o.data.group_list:[],t.firstFlag&&(t.firstFlag=!1,t.total=t.tableData.length)),t.loading=!1,e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](0),console.log(e.t0),t.loading=!1;case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))()}}};e.default=s},f3b9:function(t,e,a){"use strict";a.r(e);var r=a("d8df"),o=a.n(r);for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);e["default"]=o.a}}]);