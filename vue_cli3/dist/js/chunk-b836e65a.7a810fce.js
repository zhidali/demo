(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b836e65a"],{"01ee":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"notice-wrap"},[a("div",{staticClass:"textarea"},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:15,maxRows:18},placeholder:"请输入内容"},model:{value:e.noticeVal,callback:function(t){e.noticeVal=t},expression:"noticeVal"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showMsg,expression:"showMsg"}],staticClass:"el-form-item__error"},[e._v(" 最多可输入5000字 ")])],1),e._m(0),a("div",{staticClass:"upload-wrap"},[a("image-upload",{ref:"uploadImg",attrs:{"upload-id":"noticeUpload"}})],1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"notice-msg"},[a("h5",{staticClass:"title"},[e._v("注意事项：")]),a("span",[e._v("1.系统会记录发布时间，但是信息的获取时间和信息的有效时间需要强调的一定要说明")])])}];a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return i}))},"05da":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"select-wrap-box"},[a("el-input",{staticClass:"select-input",attrs:{title:e.input,placeholder:"点击选择日期",readonly:""},on:{focus:e.handleOpenSelect},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}}),a("div",{staticClass:"dialog-wrap-select"},[a("el-dialog",{attrs:{"append-to-body":!0,title:"日期选择弹窗",visible:e.selectDialogVisible,width:"50%",center:""},on:{"update:visible":function(t){e.selectDialogVisible=t}}},[a("div",{staticClass:"select-wrap"},[a("el-select",{staticClass:"year select",class:{error:e.hasErrorYear},attrs:{clearable:"",placeholder:"年"},on:{change:e.judgeTime},model:{value:e.currentDate.year,callback:function(t){e.$set(e.currentDate,"year",t)},expression:"currentDate.year"}},e._l(e.years,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1),a("el-select",{staticClass:"month select",class:{error:e.hasErrorMonth},attrs:{clearable:"",placeholder:"月"},on:{change:e.judgeTime},model:{value:e.currentDate.month,callback:function(t){e.$set(e.currentDate,"month",t)},expression:"currentDate.month"}},e._l(e.months,(function(e){return a("el-option",{key:e,attrs:{label:1===String(e).length?String("0"+e):String(e),value:e}})})),1),a("el-select",{staticClass:"day select",class:{error:e.hasErrorDay},attrs:{clearable:"",placeholder:"日"},on:{change:e.judgeDay},model:{value:e.currentDate.day,callback:function(t){e.$set(e.currentDate,"day",t)},expression:"currentDate.day"}},e._l(e.days,(function(e){return a("el-option",{key:e,attrs:{label:1===String(e).length?String("0"+e):String(e),value:e}})})),1),a("el-select",{staticClass:"ten-day-period select",class:{error:e.hasErrorPeriod},attrs:{clearable:"",placeholder:"旬"},on:{change:e.judgePeriod},model:{value:e.currentDate.tenDayPeriod,callback:function(t){e.$set(e.currentDate,"tenDayPeriod",t)},expression:"currentDate.tenDayPeriod"}},e._l(e.tenDayPeriods,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1),a("p",{ref:"hint",class:{"hint hint-show":e.hintIsShow,hint:!e.hintIsShow}},[a("label",{staticClass:"hint-star"},[e._v("*")]),e._v(e._s(e.hint))]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.selectDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submitDate}},[e._v("确 定")])],1)])],1)],1)},i=[];a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return i}))},"10c2":function(e,t,a){var r=a("6d9c");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=a("85cb").default;i("073c2f5d",r,!0,{sourceMap:!1,shadowMode:!1})},"1d58":function(e,t,a){"use strict";var r=a("2eb1");a("7ae7"),a("86dd"),a("af82"),a("e90c"),a("bebe"),a("c354"),a("f4a0"),a("9a14"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("63ff");var i=r(a("57f0")),n=r(a("4cb9")),o=r(a("9c27")),s=r(a("7a76")),l=r(a("88f7")),c=r(a("d19d")),u=r(a("5b47")),d=a("7223"),p=u.default.getProjectBaseInfoData,f=u.default.getProjectConfigData,h=u.default.getProjectBuildingListdata,m=u.default.getRelatedHouseTypeData,g=u.default.saveFormInfoData,b=[1,2,3,6,7,8,14,21,22,23,24,25,26,27,28],v={id:-1,text:"暂不清楚"},y={name:"ChangeInfoEntering",components:{ChangeNoticeContent:n.default,HouseDynamicInfo:o.default,BuildHouseDynamicInfo:s.default,BuildSpecialPrice:l.default,CooperationStatus:c.default},data:function(){return{houseId:"",isSubmiting:!1,priceLimitDialog:!1,priceLimitMessage:"",saveVailInfoDialogVal:!1,notValidateValue:!0,saveUpdateProgressDialogVal:!1,updateConsistentMessage:"",pageLoading:!1,porjectStatusDialogVal:!1,selfConsistentMessage:"",housesKey:1,housesInfo:{name:"",belongCity:"",commercial:"",area:"",address:"",labelVal:"",priceLimit:"",price:""},changeNotice:{},labelVal:"",labelIdx:"",labels:[],projectBuildingOpations:[],relatedHouseTypeList:[],editorHouseInfolist:[],baseConfig:{categoryList:[],saleStatus:[],houseSaleStatus:[],changePriceTypeList:[],changeTotalPriceTypeList:[],volumeType:[],houseTag:[],liveDateType:[],houseTypeSaleNumList:[],cooperateOutreachList:[],bandStatusList:[],marginTagList:[],roomType:[]},baseInfoRules:{required:!0,message:"请选择一个标签",trigger:"change"}}},created:function(){this.pageInit()},methods:{notValidate:function(){this.saveVailInfoDialogVal=!1,this.notValidateValue=!1,this.submitForm()},pageInit:function(){"detail"===this.$route.query.from&&(this.housesInfo.labelVal=182,this.labelIdx=1),this.projectId=this.$route.query.projectId,this.tracks={houseId:"",projectId:"",errorType:""},this.getConfigBaseInfo(),this.getProjectBaseInfo(),this.getProjectBuildingList(),this.getRelatedHouseTypeList()},buildFocus:function(){this.getProjectBuildingList()},getProjectBuildingList:function(){var e=this;return(0,i.default)(regeneratorRuntime.mark((function t(){var a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={project_id:e.projectId},t.prev=1,t.next=4,h(a);case 4:r=t.sent,i=r.data,0===i.code&&(e.projectBuildingOpations=i.data),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},resetPush:function(){this.getRelatedHouseTypeList()},getRelatedHouseTypeList:function(){var e=this;return(0,i.default)(regeneratorRuntime.mark((function t(){var a,r,i,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m(e.$route.query.projectId);case 3:a=t.sent,r=a.data,i=r.code,n=r.data,o=r.msg,0===i?e.relatedHouseTypeList=n:e.$message(o),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},labelChange:function(e,t){this.labelIdx=t,this.housesKey++},getConfigBaseInfo:function(){var e=this;return(0,i.default)(regeneratorRuntime.mark((function t(){var a,r,i,n,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a={city_id:e.cityId||"",type:b},t.next=4,f(a);case 4:r=t.sent,i=r.data,n=i.code,o=i.data,s=i.msg,0===n?(e.baseConfig.categoryList=o.category_list,e.baseConfig.saleStatus=o.sale_status,e.baseConfig.houseSaleStatus=o.sale_status,e.baseConfig.changePriceTypeList=o.change_price_type_list,e.baseConfig.changePriceTypeList.push(v),e.baseConfig.changeTotalPriceTypeList=o.change_total_price_type_list,e.baseConfig.changeTotalPriceTypeList.push(v),e.baseConfig.volumeType=o.volume_type,e.baseConfig.liveDateType=o.live_date_type,e.baseConfig.houseTypeSaleNumList=o.house_type_sale_num_list,e.baseConfig.cooperateOutreachList=o.cooperate_outreach_list,e.baseConfig.bandStatusList=o.band_status_list,e.baseConfig.marginTagList=o.house_type_sale_num_list,e.baseConfig.marginTagList.push(v),e.baseConfig.roomType=o.room_type):e.$message(s),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},getProjectBaseInfo:function(){var e=this;return(0,i.default)(regeneratorRuntime.mark((function t(){var a,r,i,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.pageLoading=!0,t.next=4,p(e.projectId);case 4:a=t.sent,r=a.data,i=r.code,n=r.data,o=r.msg,e.pageLoading=!1,0===i?(e.housesInfo.name=n.name,e.housesInfo.belongCity=n.city_name,e.housesInfo.commercial=n.project_type_name,e.housesInfo.area=n.district_name,e.housesInfo.address=n.address,e.cityId=n.city_id,e.housesInfo.priceLimit=e.unitTransform(n.price_limit),e.housesInfo.price=e.unitTransform(n.price),e.baseConfig.houseTag=n.building_type,e.baseConfig.houseTag.push(v),e.changeNotice={cooperateStatus:n.is_cooperate,outReachStatus:n.is_outreach,bandStatus:Number(n.band_status),startTime:n.start_time,endTime:n.end_time,onSaleCount:n.on_sale_num}):e.$message(o),t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](0),console.log(err),e.pageLoading=!1;case 17:case"end":return t.stop()}}),t,null,[[0,13]])})))()},handleCancle:function(){var e=this;this.$confirm("是否放弃编辑?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){window.location.href="/index.php?r=project-change-notify%2Findex_new"})).catch((function(){e.$message({type:"info",message:"已取消"})}))},validLabel:function(){var e=!1;return this.$refs["baseInfo"].validate((function(t){e=t})),e},confirmSubmit:function(){this.confirmLimitSts=!0,this.priceLimitDialog=!1,this.submitForm()},confirmToEdit:function(){this.confirmLimitSts=!1,this.priceLimitDialog=!1,this.errorScroll(this.$refs["houseDynamic"].$el)},checkPriceLimit:function(e,t){var a=this,r=Number(e.project_min_price),i="本次修改价格信息涨跌略高，请确认信息是否有误！",n="",o=[];return 0!==r&&0!==Number(this.housesInfo.price)&&Math.abs(r-Number(this.housesInfo.price))>=Number(this.housesInfo.priceLimit)&&(n="楼盘单价".concat(r,"万,原价").concat(this.housesInfo.price,"万")),t.house_type.forEach((function(e){var t=a.unitTransform(e.oldPrice);0!==Number(e.oldPrice)&&Math.abs(Number(e.price)-t)>=Number(a.housesInfo.priceLimit)&&o.push("户型".concat(e.house_type_num,"单价").concat(e.price,"万,原价").concat(t,"万"))})),!(""!==n||o.length>0)||(this.priceLimitMessage="".concat(i," <br/> ").concat(n," <br/> ").concat(o.join("<br/>")),this.priceLimitDialog=!0,!1)},unitTransform:function(e){if(isNaN(Number(e)))throw new Error("".concat(e,"无法转成数字"));return Number(e)/1e4},submitForm:function(){var e=this;return(0,i.default)(regeneratorRuntime.mark((function t(){var a,r,i,n,o,s,l,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.validLabel(),a){t.next=4;break}return e.$message("请选择一个标签！"),t.abrupt("return");case 4:if(r={project_id:e.projectId,notify_type:e.housesInfo.labelVal},i=e.$refs["noticeContent"].validForm(),i.successful){t.next=12;break}if(!(i.formInfo.notify_content.length>0)){t.next=10;break}return e.$message("变更内容不可超出5000字！"),t.abrupt("return");case 10:return e.$message("变更内容不可为空！"),t.abrupt("return");case 12:if(Object.assign(r,i.formInfo),0!==e.labelIdx){t.next=18;break}n=e.$refs["cooperateBand"].validForm(),n.successful?e.saveFormInfo(Object.assign(r,n.formInfo)):e.errorScroll(e.$refs["cooperateBand"].$el),t.next=33;break;case 18:if(1!==e.labelIdx){t.next=27;break}return o=e.$refs["houseDynamic"].validForm(),s=e.$refs["buildSpecialHouse"].saveDataList(),t.next=23,e.$refs["buildHouseInfo"].formSubmitValidate();case 23:l=t.sent,o.successful&&l.successful?o.isEmpty&&l.isEmpty&&e.notValidateValue?e.saveVailInfoDialogVal=!0:(e.confirmLimitSts||e.checkPriceLimit(o.formInfo,l.formInfo))&&e.saveFormInfo(Object.assign(r,o.formInfo,l.formInfo,s.formInfo)):o.successful?l.successful||e.errorScroll(l.domScrollTop[0].$el):e.errorScroll(e.$refs["houseDynamic"].$el),t.next=33;break;case 27:if(2!==e.labelIdx){t.next=33;break}if(9!=e.housesInfo.labelVal){t.next=32;break}return c=e.$refs["cooperateBand"].validForm(),c.successful?e.saveFormInfo(Object.assign(r,c.formInfo)):e.errorScroll(e.$refs["cooperateBand"].$el),t.abrupt("return");case 32:e.saveFormInfo(Object.assign(r));case 33:case"end":return t.stop()}}),t)})))()},errorScroll:function(e){var t=null;clearInterval(t),t=setInterval((function(){document.documentElement.scrollTop=e.offsetTop-112,clearInterval(t)}),10)},setTrack:function(e,t){d.commonFun.setTrackMenu(e,t)},editHouseTypeStatus:function(){this.setTrack(this.tracks.houseId,{errortype:this.tracks.errorType}),this.porjectStatusDialogVal=!1,this.editorHouseInfolist=this.editorHouseInfolists,this.errorScroll(this.$refs["buildHouseInfo"].$el)},editHousePrejectStatus:function(){this.setTrack(this.tracks.projectId,{errortype:this.tracks.errorType}),this.porjectStatusDialogVal=!1,this.errorScroll(this.$refs["houseDynamic"].$el)},showErrorMsgDialog:function(e,t){var a=this;this.porjectStatusDialogVal=!0;var r="";this.editorHouseInfolists=[],e.forEach((function(e){r+="".concat(e.house_type_text,"(").concat("2"===e.status?"在售":"待售",")、"),a.editorHouseInfolists.push({id:e.house_type_id,text:e.house_type_text,price:e.offer_price,houseId:e.house_id})})),r=r.substring(0,r.lastIndexOf("、")),20007===t?this.selfConsistentMessage="\n                    该楼盘存在".concat(r,",不能将楼盘的销售状态修改为售罄，请选择维护以上户型销售状态还是修改楼盘销售状态\n                "):20011===t&&(this.selfConsistentMessage="\n                    该楼盘为售罄，不能存在待售/在售的户型信息".concat(r,"，请选择维护以上户型销售状态还是修改楼盘销售状态\n                ")),this.tracks.houseId="5916",this.tracks.projectId="5917",this.tracks.errorType=2},waitShowErrorMsgDialog:function(e,t){var a=this;this.porjectStatusDialogVal=!0;var r="";this.editorHouseInfolists=[],e.forEach((function(e){r+="".concat(e.house_type_text,"(").concat("2"===e.status?"在售":"待售",")、"),a.editorHouseInfolists.push({id:e.house_type_id,text:e.house_type_text,price:e.offer_price,houseId:e.house_id})})),r=r.substring(0,r.lastIndexOf("、")),20008===t?this.selfConsistentMessage="\n                    该楼盘存在".concat(r,",不能将楼盘的销售状态修改为待售，请选择维护以上户型销售状态还是修改楼盘销售状态\n                "):20012===t&&(this.selfConsistentMessage="\n                    该楼盘为待售，不能存在在售的户型信息".concat(r,"，请选择维护以上户型销售状态还是修改楼盘销售状态\n                ")),this.tracks.houseId="5916",this.tracks.projectId="5917",this.tracks.errorType=4},houseBanninessError:function(e,t){var a,r=this,i=t.house_type.filter((function(t){return t.house_id==Number(e.house_id)}));i.forEach((function(e){a=e.house_type_num})),a&&this.$confirm(a+"的总价不等于单价*面积，请确认是否保存","提示",{confirmButtonText:"保存",cancelButtonText:"不保存",type:"warning"}).then((function(){r.houseId=e.house_id,r.submitForm()})).catch((function(){r.$message({type:"info",message:"已取消保存"})}))},saveFormInfo:function(e){var t=this;return(0,i.default)(regeneratorRuntime.mark((function a(){var r,i,n,o,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,!t.isSubmiting){a.next=3;break}return a.abrupt("return");case 3:return t.isSubmiting=!0,a.next=6,g(e);case 6:r=a.sent,i=r.data,n=i.code,o=i.data,s=i.msg,t.isSubmiting=!1,0===n?(t.notValidateValue=!0,t.$message({message:"提交成功！",type:"success"}),window.location.href="/index.php?r=project-change-notify%2Findex_new"):20007===n?t.showErrorMsgDialog(o.house_type,n):20008===n?t.waitShowErrorMsgDialog(o.house_type,n):20009===n?(t.saveUpdateProgressDialogVal=!0,t.updateConsistentMessage=s):20010===n?t.houseBanninessError(o,e):20011===n?t.showErrorMsgDialog(o.house_type,n):20012===n?t.waitShowErrorMsgDialog(o.house_type,n):t.$message(s),a.next=19;break;case 15:a.prev=15,a.t0=a["catch"](0),t.isSubmiting=!1,console.log(a.t0);case 19:case"end":return a.stop()}}),a,null,[[0,15]])})))()}}};t.default=y},"1f9b":function(e,t,a){var r=a("29dc");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=a("85cb").default;i("57ee547a",r,!0,{sourceMap:!1,shadowMode:!1})},2251:function(e,t,a){"use strict";var r=a("5d3b"),i=a.n(r);i.a},"29dc":function(e,t,a){var r=a("abd8");t=r(!1),t.push([e.i,".special-price-box[data-v-668911c4]{margin-top:15px}.special-price-box .title-content[data-v-668911c4]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;padding:15px 0;-webkit-box-sizing:border-box;box-sizing:border-box;border-bottom:1px solid #ccc;margin-bottom:20px}.special-price-box .title-content p[data-v-668911c4]{margin-top:1px;color:red}.special-price-box .form-content-box .special-room-info[data-v-668911c4] .btn-add-speical-room{margin-top:20px}.special-price-box .form-content-box .specia-photo-box[data-v-668911c4]{margin-top:30px}.special-price-box .form-content-box .photo-text[data-v-668911c4]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.special-price-box .form-content-box .photo-text h4[data-v-668911c4]{margin-right:20px}.special-price-box .form-content-box .photo-text span[data-v-668911c4]{font-size:12px;margin-top:2px}",""]),e.exports=t},"2f08":function(e,t,a){"use strict";var r=a("2eb1");a("af82"),a("c1b0"),a("9a14"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a("d610")),n=r(a("5e3c")),o={name:"BuildSpecialPrice",components:{NumInput:i.default,ImgUpload:n.default},data:function(){return{specialHouseDes:"",endTime:"",expireTimeOption:{disabledDate:function(e){return e.getTime()<Date.now()-864e5}},tableData:[{houseNum:"",acreage:"",price:"",specialPrice:""}]}},methods:{removeLine:function(e,t,a){var r=this;this.$confirm("一旦删除则无法恢复确认是否删除！","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){-1!==t&&a.splice(t,1),r.$message({type:"success",message:"删除成功!"})})).catch((function(){r.$message({type:"info",message:"已取消删除"})}))},addSpeicalRoom:function(){this.tableData.push({houseNum:"",acreage:"",price:"",specialPrice:""})},saveDataList:function(){var e=[],t={};return this.tableData.forEach((function(t){var a={house_num:t.houseNum,acreage:t.acreage,price:t.price,special_price:t.specialPrice};e.push(a)})),t={desc:this.specialHouseDes,end_datetime_specific:this.endTime,detail:e,imgs:this.$refs["speciaPrice"].getUrlList()},{successful:!0,formInfo:{special:t}}}}};t.default=o},3866:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"info-entering"},[a("el-breadcrumb",{staticClass:"bread-nav",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[a("a",{attrs:{href:"/"}},[e._v("首页")])]),a("el-breadcrumb-item",[a("a",{attrs:{href:"/index.php?r=project-change-notify%2Findex_new"}},[e._v("变更通知列表")])]),a("el-breadcrumb-item",[e._v("录入页")])],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.pageLoading,expression:"pageLoading"}],staticClass:"house-info"},[a("div",{staticClass:"info-headline"},[a("h3",{staticClass:"title"},[e._v(e._s(e.housesInfo.name))]),a("span",{staticClass:"house-type"},[e._v("（"+e._s(e.housesInfo.belongCity)+"·"+e._s(e.housesInfo.commercial)+"）")])]),a("div",{staticClass:"info-show"},[a("el-form",{ref:"baseInfo",attrs:{model:e.housesInfo,"label-width":"80px",size:"mini"}},[a("el-form-item",{attrs:{label:"区域："}},[e._v(" "+e._s(e.housesInfo.area)+" ")]),a("el-form-item",{attrs:{label:"地址："}},[e._v(" "+e._s(e.housesInfo.address)+" ")]),a("el-form-item",{attrs:{required:"",rules:e.baseInfoRules,prop:"labelVal",label:"标签："}},[a("div",{staticClass:"label-options"},e._l(e.baseConfig.categoryList,(function(t,r){return a("div",{key:r,staticClass:"cooperation-category"},[a("el-radio-group",{on:{change:function(t){return e.labelChange(t,r)}},model:{value:e.housesInfo.labelVal,callback:function(t){e.$set(e.housesInfo,"labelVal",t)},expression:"housesInfo.labelVal"}},e._l(t,(function(t){return a("el-radio",{key:t.id,attrs:{label:t.id}},[e._v(" "+e._s(t.text)+" ")])})),1)],1)})),0)])],1)],1)]),a("div",{staticClass:"form-wrap"},[a("div",{staticClass:"form-left"},[e._m(0),a("div",{directives:[{name:"show",rawName:"v-show",value:""!==e.housesInfo.labelVal,expression:"housesInfo.labelVal !== ''"}]},[1===e.labelIdx?a("house-dynamic-info",{key:e.housesKey,ref:"houseDynamic",attrs:{"sale-status":e.baseConfig.saleStatus,"price-type":e.baseConfig.changePriceTypeList,"total-price-type":e.baseConfig.changeTotalPriceTypeList,"volume-type":e.baseConfig.volumeType,"live-date-type":e.baseConfig.liveDateType,"related-house-type-list":e.relatedHouseTypeList,"related-building":e.projectBuildingOpations},on:{houseFocus:e.getRelatedHouseTypeList,buildingFocus:e.getProjectBuildingList}}):e._e(),1===e.labelIdx?a("build-house-dynamic-info",{ref:"buildHouseInfo",attrs:{saleStatus:e.baseConfig.houseSaleStatus,houseTag:e.baseConfig.houseTag,marginTagList:e.baseConfig.marginTagList,projectBuildList:e.projectBuildingOpations,relatedHouseTypeList:e.relatedHouseTypeList,roomType:e.baseConfig.roomType,editorHouseInfolist:e.editorHouseInfolist,belongCity:e.cityId,houseId:e.houseId},on:{resetPush:e.resetPush,buildFocus:e.buildFocus}}):e._e(),1===e.labelIdx?a("build-special-price",{ref:"buildSpecialHouse"}):e._e(),0===e.labelIdx||2===e.labelIdx&&9==e.housesInfo.labelVal?a("cooperation-status",{ref:"cooperateBand",attrs:{"houses-info":e.changeNotice,"cooperation-status":e.baseConfig.cooperateOutreachList,"band-status":e.baseConfig.bandStatusList}}):e._e()],1)]),a("div",{staticClass:"form-right"},[a("div",{staticClass:"form-right-wrap"},[e._m(1),a("change-notice-content",{ref:"noticeContent"})],1)])]),a("div",{staticClass:"btn-box"},[a("el-button",{on:{click:e.handleCancle}},[e._v(" 取消 ")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v(" 提交 ")])],1),a("el-dialog",{attrs:{visible:e.saveVailInfoDialogVal,title:"系统提醒",width:"30%",center:""},on:{"update:visible":function(t){e.saveVailInfoDialogVal=t}}},[a("span",[e._v("嘿！你是不是忘记更新了一些标准字段哦！听说更新一些标准字段会被加鸡腿，先录入一些标准字段再提交吧！")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"text"},on:{click:e.notValidate}},[e._v(" 残忍拒绝 ")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.saveVailInfoDialogVal=!1}}},[e._v(" 录入标准字段再提交 ")])],1)]),a("el-dialog",{attrs:{visible:e.porjectStatusDialogVal,title:"系统提醒",width:"30%",center:""},on:{"update:visible":function(t){e.porjectStatusDialogVal=t}}},[a("span",[e._v(e._s(e.selfConsistentMessage))]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.editHouseTypeStatus}},[e._v(" 修改户型销售状态 ")]),a("el-button",{attrs:{type:"primary"},on:{click:e.editHousePrejectStatus}},[e._v(" 修改楼盘销售状态 ")])],1)]),a("el-dialog",{attrs:{visible:e.saveUpdateProgressDialogVal,title:"系统提醒",width:"30%",center:""},on:{"update:visible":function(t){e.saveUpdateProgressDialogVal=t}}},[a("span",[e._v(e._s(e.updateConsistentMessage))]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.saveUpdateProgressDialogVal=!1}}},[e._v(" 无情规则,我只能接受 ")])],1)]),a("el-dialog",{attrs:{visible:e.priceLimitDialog,title:"系统提醒",width:"30%",center:""},on:{"update:visible":function(t){e.priceLimitDialog=t}}},[a("span",{domProps:{innerHTML:e._s(e.priceLimitMessage)}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.confirmSubmit}},[e._v(" 确认无误正常提交 ")]),a("el-button",{attrs:{type:"primary"},on:{click:e.confirmToEdit}},[e._v(" 填写错误正常修改 ")])],1)])],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"info-headline"},[a("h3",{staticClass:"title"},[e._v("重要通知细节信息")]),a("span",{staticClass:"vice-title"},[e._v("将你可以转化为标准字段的内容更新在这里，请仔细填写！")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"info-headline"},[a("h3",{staticClass:"title"},[e._v("变更通知内容")]),a("span",{staticClass:"vice-title"},[e._v("将你准备发送的消息内容填写在这里，更新后自动同步给咨询师以及相关人员")])])}];a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return i}))},"4cb9":function(e,t,a){"use strict";a.r(t);var r=a("01ee"),i=a("d81f");for(var n in i)"default"!==n&&function(e){a.d(t,e,(function(){return i[e]}))}(n);a("2251");var o=a("5511"),s=Object(o["a"])(i["default"],r["a"],r["b"],!1,null,"058c80fb",null);t["default"]=s.exports},"5b47":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a("23f7"),i="/backend-api/project/get-project-info",n="/backend-api/common/get-project-config",o="/backend-api/project/get-project-building-list",s="/backend-api/project/get-project-house-type-list",l="/backend-api/project/cj-project-change-notify/create",c=function(e){return r.axios.get(i,{params:{project_id:e}})},u=function(e){return r.axios.post(n,e)},d=function(e){return r.axios.get(o,{params:e})},p=function(e){return r.axios.get(s,{params:{project_id:e}})},f=function(e){return r.axios.post(l,e)},h={getProjectBaseInfoData:c,getProjectConfigData:u,getProjectBuildingListdata:d,getRelatedHouseTypeData:p,saveFormInfoData:f};t.default=h},"5d3b":function(e,t,a){var r=a("94a2");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=a("85cb").default;i("41dd8997",r,!0,{sourceMap:!1,shadowMode:!1})},"62ce":function(e,t,a){var r=a("abd8");t=r(!1),t.push([e.i,".house-info .flex-box[data-v-2955db74]{display:-webkit-box;display:-ms-flexbox;display:flex}.house-info .flex-box .num-input[data-v-2955db74]{width:110px}.house-info .flex-box .num-input.single-area[data-v-2955db74]{width:200px}.house-info .flex-box .unit[data-v-2955db74]{width:42px;margin:0 5px}.house-info .info-title[data-v-2955db74]{border-bottom:1px solid #dcdfe6;padding:5px 0 15px;margin-bottom:15px}.house-info .btn-del[data-v-2955db74]{color:red}.house-info .msg[data-v-2955db74]{color:#e6a23c}.house-info .area-box[data-v-2955db74]{margin:0 0 15px}.house-info .area-box .el-button[data-v-2955db74]{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content}.house-info .ten-day-input[data-v-2955db74]{width:200px}.house-info .el-select.mult-select[data-v-2955db74]{width:60%;min-width:200px}",""]),e.exports=t},"63bf":function(e,t,a){"use strict";var r=a("2eb1");a("94ec"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a("5e3c")),n={name:"ChangeNoticeContent",components:{ImageUpload:i.default},data:function(){return{noticeVal:""}},computed:{showMsg:function(){return this.noticeVal.trim().length>5e3}},methods:{validForm:function(){return{successful:this.noticeVal.trim().length>0&&!this.showMsg,formInfo:{notify_content:this.noticeVal.trim(),notify_imgs:this.$refs.uploadImg.getUrlList()}}}}};t.default=n},6543:function(e,t,a){"use strict";var r=a("e760"),i=a.n(r);i.a},"6beb":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"special-price-box"},[e._m(0),a("div",{staticClass:"form-content-box"},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"特价房描述:"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.specialHouseDes,callback:function(t){e.specialHouseDes=t},expression:"specialHouseDes"}})],1),a("el-form-item",{attrs:{label:"结束时间:"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","picker-options":e.expireTimeOption},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1)],1),a("div",{staticClass:"special-room-info"},[a("h4",[e._v("特价房信息")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{label:"房号",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{minlength:"1",maxlength:"15"},model:{value:t.row.houseNum,callback:function(a){e.$set(t.row,"houseNum",a)},expression:"scope.row.houseNum"}})]}}])}),a("el-table-column",{attrs:{label:"面积(㎡)",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("num-input",{attrs:{minVal:"1",maxVal:"99999",reg:"twoNum"},model:{value:t.row.acreage,callback:function(a){e.$set(t.row,"acreage",a)},expression:"scope.row.acreage"}})]}}])}),a("el-table-column",{attrs:{width:"150"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("p",[e._v("原总价")]),a("p",[e._v("(万元)")])]}},{key:"default",fn:function(t){return[a("num-input",{attrs:{minVal:"1",maxVal:"99999",reg:"fourNum"},model:{value:t.row.price,callback:function(a){e.$set(t.row,"price",a)},expression:"scope.row.price"}})]}}])}),a("el-table-column",{attrs:{width:"150"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("p",[e._v("优惠总价")]),a("p",[e._v("(万元)")])]}},{key:"default",fn:function(t){return[a("num-input",{attrs:{minVal:"1",maxVal:"99999",reg:"fourNum"},model:{value:t.row.specialPrice,callback:function(a){e.$set(t.row,"specialPrice",a)},expression:"scope.row.specialPrice"}})]}}])}),a("el-table-column",{attrs:{label:"操作",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.removeLine(t.row,t.$index,e.tableData)}}},[e._v(" 删除 ")])]}}])})],1),a("el-button",{staticClass:"btn-add-speical-room",attrs:{type:"primary"},on:{click:e.addSpeicalRoom}},[e._v(" 增加特价房 ")])],1),a("div",{staticClass:"specia-photo-box"},[e._m(1),a("img-upload",{ref:"speciaPrice",attrs:{uploadId:"speciaPriceId"}})],1)],1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title-content"},[a("h3",[e._v("特价房源")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"photo-text"},[a("h4",[e._v("特价房图片")]),a("span",[e._v("文件比较多仅录入图片")])])}];a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return i}))},"6d9c":function(e,t,a){var r=a("abd8");t=r(!1),t.push([e.i,".white-box[data-v-73232d98]{padding:10px 15px;background-color:#fff}.info-entering[data-v-73232d98]{font-size:14px;padding:20px 20px 0}.info-entering .bread-nav[data-v-73232d98]{margin-bottom:10px}.info-entering .info-headline[data-v-73232d98]{border-bottom:1px solid #dcdfe6;padding:15px 0;margin-bottom:15px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.info-entering .info-headline>.title[data-v-73232d98]{display:inline-block;max-width:260px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:700}.info-entering .info-headline .house-type[data-v-73232d98]{vertical-align:top;font-weight:700;font-size:15px}.info-entering .info-headline>.vice-title[data-v-73232d98]{font-size:12px;margin-left:12px}.info-entering .house-info[data-v-73232d98]{padding:0 15px;background-color:#fff}.info-entering .form-right-wrap[data-v-73232d98]{position:-webkit-sticky;position:sticky;top:130px}.info-entering .info-show[data-v-73232d98]{line-height:2}.info-entering .form-wrap[data-v-73232d98],.info-entering .info-show .lables[data-v-73232d98]{display:-webkit-box;display:-ms-flexbox;display:flex}.info-entering .form-wrap[data-v-73232d98]{margin-top:15px}.info-entering .form-left[data-v-73232d98],.info-entering .form-right[data-v-73232d98]{padding:10px 15px;background-color:#fff;-webkit-box-flex:1;-ms-flex:1;flex:1}.info-entering .form-left[data-v-73232d98]{margin-right:20px;max-width:50%}.info-entering .btn-box[data-v-73232d98]{text-align:center;padding:20px 0}",""]),e.exports=t},7033:function(e,t,a){"use strict";a.r(t);var r=a("a3eb"),i=a.n(r);for(var n in r)"default"!==n&&function(e){a.d(t,e,(function(){return r[e]}))}(n);t["default"]=i.a},7727:function(e,t,a){"use strict";var r=a("bc5b"),i=a.n(r);i.a},"7be3":function(e,t,a){"use strict";var r=a("2eb1");a("4045"),a("f4a0"),a("3a20"),a("b3f9"),a("7267"),a("d780"),a("94ec"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a("7223"),n=(r(a("82ae")),{name:"BuildingDictionarySelect",props:{sourceDate:{type:Object,default:function(){return{}}},value:{type:String,default:""},needDefault:{type:Boolean,default:!0}},data:function(){return{input:this.value,hint:"",hintIsShow:!1,selectDialogVisible:!1,currentDate:{year:"",month:"",day:"",tenDayPeriod:""},maxYear:2050,minYear:1970,normalMaxDays:{type:[Number]},years:[],months:[],tenDayPeriods:[],days:[],hasErrorYear:!1,hasErrorMonth:!1,hasErrorDay:!1,hasErrorPeriod:!1}},methods:{Trim:function(e){return e=e||"",e+="",e=i.commonFun.trim(e),e=e.replace(/\b(0+)/gi,""),e&&(e=parseInt(e)),e},objectToTime:function(e){var t=e.year?this.Trim(e.year):"",a=e.month?this.Trim(e.month):"",r=e.day?this.Trim(e.day):"",i=e.Period?this.Trim(e.Period):"";switch(i){case 1:i="上旬";break;case 2:i="中旬";break;case 3:i="下旬";break;default:i=""}this.currentDate.year=t,this.currentDate.month=a,this.currentDate.day=r,this.currentDate.tenDayPeriod=i,this.judgeTime();var n="";t&&(n+=t+"年"),a&&(n+=a+"月"),r&&(n+=r+"日"),i&&(n+=i),this.input=n},handleOpenSelect:function(){this.selectDialogVisible=!0},submitDate:function(){var e=this.currentDate.year||"",t=this.currentDate.month||"",a=this.currentDate.day||"",r=this.currentDate.tenDayPeriod||"";if(e){var i=!1;if(1===this.sourceDate.type?t?a||r?e&&t&&a&&!r?(i=!0,this.input=e+"年"+t+"月"+a+"日",this.selectDialogVisible=!1):e&&t&&r&&!a?(i=!0,this.input=e+"年"+t+"月"+r,this.selectDialogVisible=!1):(i=!1,this.hintIsShow=!0,this.hint="格式输入错误，请务必保证结构为N年N月N日或N年N月N旬结构"):(this.hasErrorDay=!0,this.hasErrorPeriod=!0,this.hintIsShow=!0,this.hint="日旬必选一项"):(this.hasErrorMonth=!0,this.hintIsShow=!0,this.hint="请选择月份"):2===this.sourceDate.type?e&&t&&a&&!r?(i=!0,this.input=e+"年"+t+"月"+a+"日",this.selectDialogVisible=!1):e&&t&&r&&!a?(i=!0,this.input=e+"年"+t+"月"+r,this.selectDialogVisible=!1):e&&t&&!a&&!r?(i=!0,this.input=e+"年"+t+"月",this.selectDialogVisible=!1):e?(i=!0,this.input=e+"年",this.selectDialogVisible=!1):(i=!1,this.hintIsShow=!0,this.hint="格式输入错误，年份必填，日旬二者选一"):console.log("未传入放量计划或交房时间类型："+this.sourceDate.type),i){switch(r){case"上旬":r=1;break;case"中旬":r=2;break;case"下旬":r=3;break;default:r=""}var n={};this.$set(n,"year",this.Trim(e)),this.$set(n,"month",this.Trim(t)),this.$set(n,"day",this.Trim(a)),this.$set(n,"Period",this.Trim(r)),this.$set(n,"index",this.sourceDate.index),this.$set(n,"type",this.sourceDate.type),this.$emit("getCallbackDate",n),this.$emit("input",this.input)}}else this.hasErrorYear=!0,this.hintIsShow=!0,this.hint="请选择年份"},getFullYears:function(){for(var e=this.minYear;e<=this.maxYear;e++)this.years.push(e)},getFullDays:function(){this.days=[];for(var e=1;e<=this.normalMaxDays;e++)this.days.push(e)},judgeTime:function(){this.normalMaxDays="",this.months=[1,2,3,4,5,6,7,8,9,10,11,12],this.currentDate.year?(this.hasErrorYear=!1,this.hintIsShow=!1,this.hint="",this.currentDate.month=this.Trim(this.currentDate.month),this.currentDate.month?(this.hasErrorMonth=!1,this.hintIsShow=!1,this.hint="",this.tenDayPeriods=["上旬","中旬","下旬"],-1!==[4,6,9,11].indexOf(this.currentDate.month)?(this.normalMaxDays=30,this.currentDate.day&&31===this.currentDate.day&&(this.currentDate.day="")):2===this.currentDate.month?this.currentDate.year&&(this.currentDate.year%4===0&&this.currentDate.year%100!==0||this.currentDate.year%400===0)?this.normalMaxDays=29:this.normalMaxDays=28:this.normalMaxDays=31,(this.currentDate.day||this.currentDate.tenDayPeriod)&&(this.hasErrorDay=!1,this.hasErrorPeriod=!1,this.hintIsShow=!1,this.hint="")):(this.days=[],this.tenDayPeriods=[],this.currentDate.day&&1===this.currentDate.day.toString().length&&(this.currentDate.day="0"+this.currentDate.day))):(this.days=[],this.currentDate.month?(1===this.currentDate.month.toString().length&&(this.currentDate.month="0"+this.currentDate.month),this.hasErrorMonth=!1,this.tenDayPeriods=["上旬","中旬","下旬"],this.currentDate.day&&1===this.currentDate.day.toString().length&&(this.currentDate.day="0"+this.currentDate.day)):(this.days=[],this.tenDayPeriods=[],this.currentDate.day&&1===this.currentDate.day.toString().length&&(this.currentDate.day="0"+this.currentDate.day)))},judgePeriod:function(){this.judgeTime(),this.currentDate.tenDayPeriod&&(this.currentDate.day="")},judgeDay:function(){this.judgeTime(),this.currentDate.day&&(this.currentDate.tenDayPeriod="")}},watch:{sourceDate:{handler:function(e,t){console.log(12312321),this.objectToTime(this.sourceDate)},deep:!0},normalMaxDays:function(){this.getFullDays(),this.normalMaxDays&&this.currentDate.day>this.normalMaxDays&&(this.currentDate.day="")},value:function(e,t){this.input=e}},mounted:function(){var e=this;this.getFullYears(),this.objectToTime(this.sourceDate),setTimeout((function(){e.needDefault||(e.input="")}))}});t.default=n},"81cc":function(e,t,a){"use strict";a.r(t);var r=a("7be3"),i=a.n(r);for(var n in r)"default"!==n&&function(e){a.d(t,e,(function(){return r[e]}))}(n);t["default"]=i.a},"876b":function(e,t,a){var r=a("abd8");t=r(!1),t.push([e.i,".coopration-status[data-v-4ff08d14]{padding:0 15px}.coopration-status .info-title[data-v-4ff08d14]{border-bottom:1px solid #dcdfe6;padding:5px 0 15px;margin-bottom:15px}.coopration-status .line[data-v-4ff08d14]{text-align:center}",""]),e.exports=t},8817:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"house-info"},[e._m(0),a("el-form",{ref:"houseForm",attrs:{model:e.houseForm,"label-width":e.labelWidth}},[a("el-form-item",{attrs:{label:"楼盘销售状态："}},[a("el-radio-group",{on:{change:e.saleStatusChange},model:{value:e.houseForm.saleStatus,callback:function(t){e.$set(e.houseForm,"saleStatus",t)},expression:"houseForm.saleStatus"}},e._l(e.houseSaleStatus,(function(t,r){return a("el-radio",{key:r,attrs:{label:t.id}},[e._v(" "+e._s(t.text)+" ")])})),1)],1),a("el-form-item",{attrs:{label:"楼盘单价类型："}},[a("el-radio-group",{on:{change:function(t){return e.typeChange(1,t)}},model:{value:e.houseForm.univalenceType,callback:function(t){e.$set(e.houseForm,"univalenceType",t)},expression:"houseForm.univalenceType"}},e._l(e.priceType,(function(t){return a("el-radio",{key:t.id,attrs:{label:t.id}},[e._v(" "+e._s(t.text)+" ")])})),1)],1),-1!==e.houseForm.univalenceType&&""!==e.houseForm.univalenceType?a("el-form-item",{attrs:{label:"单价："}},[3==e.houseForm.univalenceType?a("div",{key:3,staticClass:"univalence-box flex-box"},[a("el-form-item",{attrs:{prop:"univalence",rules:e.houseFormRules.univalence}},[a("number-input",{staticClass:"num-input",attrs:{minVal:1e-4,maxVal:99.9999,reg:"fourNum"},model:{value:e.houseForm.univalence,callback:function(t){e.$set(e.houseForm,"univalence",e._n(t))},expression:"houseForm.univalence"}})],1),a("span",{staticClass:"unit"},[e._v("万元起")])],1):e._e(),2==e.houseForm.univalenceType?a("div",{key:2,staticClass:"univalence-box flex-box"},[a("el-form-item",{attrs:{prop:"univalence",rules:e.houseFormRules.univalence}},[a("number-input",{staticClass:"num-input",attrs:{minVal:1e-4,maxVal:99.9999,reg:"fourNum"},model:{value:e.houseForm.univalence,callback:function(t){e.$set(e.houseForm,"univalence",e._n(t))},expression:"houseForm.univalence"}})],1),a("span",{staticClass:"unit"},[e._v("万元")])],1):e._e(),4==e.houseForm.univalenceType?a("div",{key:"4",staticClass:"univalence-box flex-box"},[a("el-form-item",{attrs:{prop:"univalenceStart",rules:e.houseFormRules.univalenceStart}},[a("number-input",{staticClass:"num-input",attrs:{minVal:1e-4,maxVal:99.9999,reg:"fourNum"},model:{value:e.houseForm.univalenceStart,callback:function(t){e.$set(e.houseForm,"univalenceStart",e._n(t))},expression:"houseForm.univalenceStart"}})],1),a("span",{staticClass:"unit"},[e._v("万元")]),e._v(" -- "),a("el-form-item",{attrs:{prop:"univalenceEnd",rules:e.houseFormRules.univalenceEnd}},[a("number-input",{staticClass:"num-input",attrs:{minVal:1e-4,maxVal:99.9999,reg:"fourNum"},model:{value:e.houseForm.univalenceEnd,callback:function(t){e.$set(e.houseForm,"univalenceEnd",e._n(t))},expression:"houseForm.univalenceEnd"}})],1),a("span",{staticClass:"unit"},[e._v("万元")])],1):e._e()]):e._e(),a("el-form-item",{attrs:{label:"楼盘总价类型："}},[a("el-radio-group",{on:{change:function(t){return e.typeChange(2,t)}},model:{value:e.houseForm.totalPriceType,callback:function(t){e.$set(e.houseForm,"totalPriceType",t)},expression:"houseForm.totalPriceType"}},e._l(e.totalPriceType,(function(t){return a("el-radio",{key:t.id,attrs:{label:t.id}},[e._v(" "+e._s(t.text)+" ")])})),1)],1),-1!==e.houseForm.totalPriceType&&""!==e.houseForm.totalPriceType?a("el-form-item",{attrs:{label:"总价："}},[2==e.houseForm.totalPriceType?a("div",{staticClass:"univalence-box flex-box"},[a("el-form-item",{attrs:{prop:"totolPrice",rules:e.houseFormRules.totolPrice}},[a("number-input",{staticClass:"num-input",attrs:{minVal:1e-4,maxVal:99998.9999,reg:"fourNum"},model:{value:e.houseForm.totolPrice,callback:function(t){e.$set(e.houseForm,"totolPrice",e._n(t))},expression:"houseForm.totolPrice"}})],1),a("span",{staticClass:"unit"},[e._v("万元起")])],1):e._e(),3==e.houseForm.totalPriceType?a("div",{staticClass:"univalence-box flex-box"},[a("el-form-item",{attrs:{prop:"totolPrice",rules:e.houseFormRules.totolPrice}},[a("number-input",{staticClass:"num-input",attrs:{minVal:1e-4,maxVal:99998.9999,reg:"fourNum"},model:{value:e.houseForm.totolPrice,callback:function(t){e.$set(e.houseForm,"totolPrice",e._n(t))},expression:"houseForm.totolPrice"}})],1),a("span",{staticClass:"unit"},[e._v("万元")])],1):e._e(),4==e.houseForm.totalPriceType?a("div",{staticClass:"univalence-box flex-box"},[a("el-form-item",{attrs:{prop:"totolPriceStart",rules:e.houseFormRules.totolPriceStart}},[a("number-input",{staticClass:"num-input",attrs:{minVal:1e-4,maxVal:99998.9999,reg:"fourNum"},model:{value:e.houseForm.totolPriceStart,callback:function(t){e.$set(e.houseForm,"totolPriceStart",e._n(t))},expression:"houseForm.totolPriceStart"}})],1),a("span",{staticClass:"unit"},[e._v("万元")]),e._v(" -- "),a("el-form-item",{attrs:{prop:"totolPriceEnd",rules:e.houseFormRules.totolPriceEnd}},[a("number-input",{staticClass:"num-input",attrs:{minVal:1e-4,maxVal:99998.9999,reg:"fourNum"},model:{value:e.houseForm.totolPriceEnd,callback:function(t){e.$set(e.houseForm,"totolPriceEnd",e._n(t))},expression:"houseForm.totolPriceEnd"}})],1),a("span",{staticClass:"unit"},[e._v("万元")])],1):e._e()]):e._e()],1),a("el-divider"),a("el-form",{ref:"releasePlan",attrs:{model:e.releasePlan,"label-width":e.labelWidth}},[a("el-form-item",{attrs:{label:"放量计划类型：",rules:e.planTypeReqire,prop:"planType"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{change:function(t){return e.typeChange(3,t)},clear:function(t){return e.clearType("plan")}},model:{value:e.releasePlan.planType,callback:function(t){e.$set(e.releasePlan,"planType",t)},expression:"releasePlan.planType"}},e._l(e.volumeType,(function(e){return a("el-option",{key:e.id,attrs:{label:e.text,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"放量时间：",rules:e.planTimeReqire,prop:"planTime"}},[a("building-dictionary-select",{staticClass:"ten-day-input",attrs:{"need-default":!1,sourceDate:e.planSourceDate},on:{getCallbackDate:function(t){return e.updateThisTime("releasePlan",t)}},model:{value:e.releasePlan.planTime,callback:function(t){e.$set(e.releasePlan,"planTime",t)},expression:"releasePlan.planTime"}})],1),a("el-form-item",{attrs:{prop:"relevanceHouses",label:"关联户型："}},[a("el-select",{staticClass:"mult-select",attrs:{multiple:"",clearable:"",placeholder:"请选择"},on:{focus:function(t){return e.$emit("houseFocus")}},model:{value:e.releasePlan.relevanceHouses,callback:function(t){e.$set(e.releasePlan,"relevanceHouses",t)},expression:"releasePlan.relevanceHouses"}},e._l(e.relatedHouseTypeList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.text,value:e.id}})})),1)],1),a("el-form-item",{attrs:{size:"mini"}},[a("el-checkbox",{on:{change:e.relativePlanChange},model:{value:e.isCanNotRelativePlan,callback:function(t){e.isCanNotRelativePlan=t},expression:"isCanNotRelativePlan"}},[e._v("无法关联到户型，仅知道涉及到的面积段或面积")])],1),e.isCanNotRelativePlan?a("el-form-item",{attrs:{label:"面积段："}},[e._l(e.releasePlan.areaSection,(function(t,r){return[t.showArea?a("div",{key:r+"mult",staticClass:"area-box flex-box"},[a("el-form-item",{attrs:{prop:"areaSection."+r+".areaStart",rules:e.releaseFormRules.areaStart}},[a("number-input",{staticClass:"num-input",attrs:{minVal:.01,maxVal:99998.99,reg:"twoNum"},model:{value:t.areaStart,callback:function(a){e.$set(t,"areaStart",e._n(a))},expression:"item.areaStart"}})],1),a("span",{staticClass:"unit"},[e._v("㎡ - ")]),a("el-form-item",{attrs:{prop:"areaSection."+r+".areaEnd",rules:e.releaseFormRules.areaEnd}},[a("number-input",{staticClass:"num-input",attrs:{minVal:.01,maxVal:99998.99,reg:"twoNum"},model:{value:t.areaEnd,callback:function(a){e.$set(t,"areaEnd",e._n(a))},expression:"item.areaEnd"}})],1),a("span",{staticClass:"unit"},[e._v("㎡")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.cancleArea(t,r)}}},[e._v(" 取消区间 ")]),a("el-button",{staticClass:"btn-del",attrs:{type:"text"},on:{click:function(t){return e.deleteArea("releasePlan",r)}}},[e._v(" 删除 ")])],1):e._e(),t.showArea?e._e():a("div",{key:r+"single",staticClass:"area-box flex-box"},[a("el-form-item",{attrs:{prop:"areaSection."+r+".areaSingle",rules:e.releaseFormRules.areaSingle}},[a("number-input",{staticClass:"num-input single-area",attrs:{minVal:.01,maxVal:99998.99,reg:"twoNum"},model:{value:t.areaSingle,callback:function(a){e.$set(t,"areaSingle",e._n(a))},expression:"item.areaSingle"}})],1),a("span",{staticClass:"unit"},[e._v("㎡")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.addArea(t,r)}}},[e._v(" 增加区间 ")]),a("el-button",{staticClass:"btn-del",attrs:{type:"text"},on:{click:function(t){return e.deleteArea("releasePlan",r)}}},[e._v(" 删除 ")])],1)]})),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.addAreaSection("releasePlan")}}},[e._v(" 增加多个面积段 ")]),a("div",{staticClass:"msg"},[a("i",{staticClass:"el-icon-warning"}),a("span",[e._v("如果存在多个面积段请录入多个面积段。")])])],2):e._e(),a("el-form-item",{attrs:{prop:"relevanceHouses",label:"关联楼栋："}},[a("el-select",{staticClass:"mult-select",attrs:{multiple:"",clearable:"",placeholder:"请选择"},on:{focus:function(t){return e.$emit("buildingFocus")}},model:{value:e.releasePlan.relevanceBuilding,callback:function(t){e.$set(e.releasePlan,"relevanceBuilding",t)},expression:"releasePlan.relevanceBuilding"}},e._l(e.relatedBuilding,(function(e){return a("el-option",{key:e.id,attrs:{label:e.text,value:e.id}})})),1),a("div",{staticClass:"relative"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.toAddBuilding("plan")}}},[e._v(" + 楼栋 ")]),a("span",[e._v("找不到所需楼栋可点击取添加")])],1)],1)],1),a("el-divider"),a("el-form",{ref:"handRoom",attrs:{model:e.handRoom,"label-width":e.labelWidth}},[a("el-form-item",{attrs:{prop:"types",rules:e.handHomeTypeReqire,label:"交房时间类型："}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{change:function(t){return e.typeChange(4,t)},clear:function(t){return e.clearType("room")}},model:{value:e.handRoom.types,callback:function(t){e.$set(e.handRoom,"types",t)},expression:"handRoom.types"}},e._l(e.liveDateType,(function(e){return a("el-option",{key:e.id,attrs:{label:e.text,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"交房时间：",prop:"time",rules:e.handHomeTimeReqire}},[a("building-dictionary-select",{staticClass:"ten-day-input",attrs:{"need-default":!1,sourceDate:e.homeSourceDate},on:{getCallbackDate:function(t){return e.updateThisTime("handRoom",t)}},model:{value:e.handRoom.time,callback:function(t){e.$set(e.handRoom,"time",t)},expression:"handRoom.time"}})],1),a("el-form-item",{attrs:{label:"关联楼栋："}},[a("el-select",{staticClass:"mult-select",attrs:{clearable:"",multiple:"",placeholder:"请选择"},on:{focus:function(t){return e.$emit("buildingFocus")}},model:{value:e.handRoom.relevanceBuilding,callback:function(t){e.$set(e.handRoom,"relevanceBuilding",t)},expression:"handRoom.relevanceBuilding"}},e._l(e.relatedBuilding,(function(e){return a("el-option",{key:e.id,attrs:{label:e.text,value:e.id}})})),1),a("div",{staticClass:"relative"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.toAddBuilding("room")}}},[e._v(" + 楼栋 ")]),a("span",{on:{click:function(t){return e.validForm()}}},[e._v("找不到所需楼栋可点击取添加")])],1)],1),a("el-divider"),a("el-form-item",{attrs:{rules:e.handRoomRules.discountRule,prop:"discount",label:"折扣优惠："}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:6},placeholder:"请输入内容"},model:{value:e.handRoom.discount,callback:function(t){e.$set(e.handRoom,"discount",t)},expression:"handRoom.discount"}})],1)],1)],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"info-title"},[a("h3",{staticClass:"title"},[e._v("楼盘动态信息")])])}];a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return i}))},"88f7":function(e,t,a){"use strict";a.r(t);var r=a("6beb"),i=a("9b3a");for(var n in i)"default"!==n&&function(e){a.d(t,e,(function(){return i[e]}))}(n);a("f065");var o=a("5511"),s=Object(o["a"])(i["default"],r["a"],r["b"],!1,null,"668911c4",null);t["default"]=s.exports},"8f63":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"coopration-status"},[e._m(0),a("el-form",{ref:"cooperationForm",attrs:{model:e.cooperationForm,"label-width":e.labelWidth}},[a("el-form-item",{attrs:{label:"合作状态："}},[a("el-radio-group",{model:{value:e.cooperationForm.cooperateStatus,callback:function(t){e.$set(e.cooperationForm,"cooperateStatus",t)},expression:"cooperationForm.cooperateStatus"}},e._l(e.cooperationStatus,(function(t){return a("el-radio",{key:t.id,attrs:{label:t.id}},[e._v(" "+e._s(t.text)+" ")])})),1)],1),a("el-form-item",{attrs:{label:"带看状态："}},[a("el-radio-group",{model:{value:e.cooperationForm.bandStatus,callback:function(t){e.$set(e.cooperationForm,"bandStatus",t)},expression:"cooperationForm.bandStatus"}},e._l(e.bandStatus,(function(t){return a("el-radio",{key:t.id,attrs:{label:t.id}},[e._v(" "+e._s(t.text)+" ")])})),1)],1),a("el-form-item",{attrs:{label:"近期可带看时间："}},[a("el-col",{attrs:{span:8}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.cooperationForm.startTime,callback:function(t){e.$set(e.cooperationForm,"startTime",t)},expression:"cooperationForm.startTime"}})],1),a("el-col",{staticClass:"line",attrs:{span:1}},[e._v("-")]),a("el-col",{attrs:{span:8}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.cooperationForm.endTime,callback:function(t){e.$set(e.cooperationForm,"endTime",t)},expression:"cooperationForm.endTime"}})],1)],1),a("el-form-item",{attrs:{label:"可售房源数量："}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:6},placeholder:"请输入内容"},model:{value:e.cooperationForm.onSaleCount,callback:function(t){e.$set(e.cooperationForm,"onSaleCount",t)},expression:"cooperationForm.onSaleCount"}})],1)],1)],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"info-title"},[a("h3",{staticClass:"title"},[e._v("合作及带看状态")])])}];a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return i}))},"94a2":function(e,t,a){var r=a("abd8");t=r(!1),t.push([e.i,'.notice-wrap[data-v-058c80fb]{padding-left:20px;position:relative}.notice-wrap[data-v-058c80fb]:before{content:"*";position:absolute;top:0;left:5px;z-index:1;color:red}.notice-wrap .textarea[data-v-058c80fb]{display:-webkit-box;display:-ms-flexbox;display:flex;position:relative}.notice-wrap .textarea .required-icon[data-v-058c80fb]{color:red;width:20px}.notice-wrap .notice-msg[data-v-058c80fb]{margin-top:10px;padding:15px 0}.notice-wrap .notice-msg>.title[data-v-058c80fb]{font-size:14px;line-height:26px}',""]),e.exports=t},9633:function(e,t,a){var r=a("62ce");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=a("85cb").default;i("0eac09d1",r,!0,{sourceMap:!1,shadowMode:!1})},"9a57":function(e,t,a){"use strict";var r=a("10c2"),i=a.n(r);i.a},"9b3a":function(e,t,a){"use strict";a.r(t);var r=a("2f08"),i=a.n(r);for(var n in r)"default"!==n&&function(e){a.d(t,e,(function(){return r[e]}))}(n);t["default"]=i.a},"9c27":function(e,t,a){"use strict";a.r(t);var r=a("8817"),i=a("7033");for(var n in i)"default"!==n&&function(e){a.d(t,e,(function(){return i[e]}))}(n);a("cf86");var o=a("5511"),s=Object(o["a"])(i["default"],r["a"],r["b"],!1,null,"2955db74",null);t["default"]=s.exports},"9e51":function(e,t,a){"use strict";a.r(t);var r=a("3866"),i=a("d980");for(var n in i)"default"!==n&&function(e){a.d(t,e,(function(){return i[e]}))}(n);a("9a57");var o=a("5511"),s=Object(o["a"])(i["default"],r["a"],r["b"],!1,null,"73232d98",null);t["default"]=s.exports},a3eb:function(e,t,a){"use strict";var r=a("2eb1");a("09ee"),a("af82"),a("a677"),a("1a8c"),a("c1b0"),a("79dd"),a("3547"),a("94ec"),a("9a14"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a("3bf2")),n=r(a("d610")),o=r(a("ead3")),s=a("7223"),l={id:-1,text:"暂不清楚"},c=(new Date).getFullYear(),u={name:"HouseDynamicInfo",components:{NumberInput:n.default,BuildingDictionarySelect:o.default},props:{saleStatus:{type:Array,default:function(){return[]}},priceType:{type:Array,default:function(){return[]}},totalPriceType:{type:Array,default:function(){return[]}},volumeType:{type:Array,default:function(){return[]}},liveDateType:{type:Array,default:function(){return[]}},relatedBuilding:{type:Array,default:function(){return[]}},relatedHouseTypeList:{type:Array,default:function(){return[]}}},data:function(){return{planSourceDate:{type:1,year:c},homeSourceDate:{type:2,year:c},relevanceStatus:{showPlanArea:!0,showHomeArea:!0},labelWidth:"120px",isCanNotRelativePlan:!1,houseForm:{saleStatus:"",univalenceType:"",univalence:"",univalenceStart:"",univalenceEnd:"",totalPriceType:"",totolPrice:"",totolPriceStart:"",totolPriceEnd:""},releasePlan:{planType:"",planTime:"",relevanceHouses:[],areaSection:[{areaSingle:"",areaStart:"",areaEnd:"",showArea:!0}],relevanceBuilding:[]},handRoom:{types:"",time:"",relevanceBuilding:[],discount:""},houseFormRules:{univalence:[{required:!0,message:"请输入单价",trigger:"blur"}],univalenceStart:[{required:!0,message:"请输入起始单价",trigger:"blur"}],univalenceEnd:[{required:!0,message:"请输入结束单价",trigger:"blur"}],totolPrice:[{required:!0,message:"请输入总价",trigger:"blur"}],totolPriceStart:[{required:!0,message:"请输入起始总价",trigger:"blur"}],totolPriceEnd:[{required:!0,message:"请输入结束总价",trigger:"blur"}]},releaseFormRules:{areaSingle:[{required:!0,message:"请输入面积",trigger:"blur"}],areaStart:[{required:!0,message:"请输入起始面积段",trigger:"blur"}],areaEnd:[{required:!0,message:"请输入结束面积段",trigger:"blur"}]},handRoomRules:{areaSingle:[{required:!0,message:"请输入面积",trigger:"blur"}],areaStart:[{required:!0,message:"请输入面积段",trigger:"blur"}],areaEnd:[{required:!0,message:"请输入面积段",trigger:"blur"}],discountRule:[{max:100,message:"最多输入100个汉字",trigger:"change"}]}}},computed:{planTypeReqire:function(){var e=this;return""!==this.releasePlan.planTime?{validator:function(t,a,r){if(""===a)r(new Error("请选择放量计划类型"));else{var i,n=e.releasePlan.month||13,o=new Date(e.releasePlan.year,n).getTime()-864e5;i=e.releasePlan.Period&&3!==e.releasePlan.Period?10*e.releasePlan.Period:new Date(o).getDate();var s=new Date(e.releasePlan.year,n-1,e.releasePlan.day||i);if([1,2].includes(a)&&s>new Date)return void r(new Error("当前放量时间与选择的放量计划类型不匹配"));if([3,4].includes(e.releasePlan.planType)&&s<=new Date)return void r(new Error("当前放量时间与选择的放量计划类型不匹配"));r()}},trigger:"change"}:{required:!1,trigger:"change"}},planTimeReqire:function(){var e=this;return""!==this.releasePlan.planType?{validator:function(t,a,r){if(""===a)r(new Error("请输入放量时间"));else{var i,n=e.releasePlan.month||13,o=new Date(e.releasePlan.year,n).getTime()-864e5;i=e.releasePlan.Period&&3!==e.releasePlan.Period?10*e.releasePlan.Period:new Date(o).getDate();var s=new Date(e.releasePlan.year,n-1,e.releasePlan.day||i);if([1,2].includes(e.releasePlan.planType)&&s>new Date)return void r(new Error("当前放量计划类型下放量时间不得大于当前日期"));if([3,4].includes(e.releasePlan.planType)&&s<=new Date)return void r(new Error("当前放量计划类型下放量时间必须大于当前日期"));r()}},trigger:"change"}:{required:!1,trigger:"change"}},handHomeTypeReqire:function(){var e=this;return""!==this.handRoom.time?{validator:function(t,a,r){if(""===a)r(new Error("请选择交房时间类型"));else{var i,n=e.handRoom.month||13,o=new Date(e.handRoom.year,n).getTime()-864e5;i=e.handRoom.Period&&3!==e.handRoom.Period?10*e.handRoom.Period:new Date(o).getDate();var s=new Date(e.handRoom.year,n-1,e.handRoom.day||i);if(1==a&&s<=new Date)return void r(new Error("当前交房时间与选择的交房时间类型不匹配"));if(2==a&&s>new Date)return void r(new Error("当前交房时间与选择的交房时间类型不匹配"));r()}},trigger:"change"}:{required:!1,trigger:"change"}},handHomeTimeReqire:function(){var e=this;return""!==this.handRoom.types?{validator:function(t,a,r){if(""===a)r(new Error("请输入交房时间"));else{var i,n=e.handRoom.month||13,o=new Date(e.handRoom.year,n).getTime()-864e5;i=e.handRoom.Period&&3!==e.handRoom.Period?10*e.handRoom.Period:new Date(o).getDate();var s=new Date(e.handRoom.year,n-1,e.handRoom.day||i);if(1==e.handRoom.types&&s<=new Date)return void r(new Error("当前交房时间类型下交房时间必须大于当前日期"));if(2==e.handRoom.types&&s>new Date)return void r(new Error("当前交房时间类型下交房时间不得大于当前日期"));r()}},trigger:"change"}:{required:!1,trigger:"change"}},houseSaleStatus:function(){var e=JSON.parse(JSON.stringify(this.saleStatus));return e.push(l),e}},methods:{clearType:function(e){var t={year:"",month:"",day:"",Period:""};"plan"===e?Object.assign(this.releasePlan,t):"room"===e&&Object.assign(this.handRoom,t)},typeChange:function(e,t){1===e?(this.houseForm.univalence="",this.houseForm.univalenceStart="",this.houseForm.univalenceEnd=""):2===e?(this.houseForm.totolPrice="",this.houseForm.totolPriceStart="",this.houseForm.totolPriceEnd=""):3===e?this.releasePlan.planTime="":4===e&&(this.handRoom.time="")},relativePlanChange:function(e){0===this.releasePlan.areaSection.length&&this.releasePlan.areaSection.push({areaSingle:"",areaStart:"",areaEnd:"",showArea:!0})},validForm:function(){var e=this,t=["houseForm","releasePlan","handRoom"],a=this.getSubmitData(),r={successful:!1,formInfo:"",isEmpty:this.isEmpty(a)},i=this.houseForm,n=i.univalenceStart,o=i.univalenceEnd,s=i.totolPriceStart,l=i.totolPriceEnd;if(""!==n&&""!==o&&n>o)return this.$message.error("起始单价应小于结束单价！"),r;if(""!==s&&""!==l&&s>l)return this.$message.error("起始总价应小于结束总价！"),r;var c=this.releasePlan.areaSection.find((function(e){return e.areaStart>e.areaEnd}));if(void 0!==c&&""!==c.areaStart&&""!==c.areaEnd)return this.$message.error("放量计划面积段起始值应小于结束值！"),r;var u=t.map((function(t){return e.validsingleForm(t)}));return u.includes(!1)||(r.successful=!0,r.formInfo=a),r},isEmpty:function(e){var t=!0;return function e(a){Object.keys(a).find((function(r){if("object"!==(0,i.default)(a[r])){if(void 0!==a[r]&&""!==a[r])return t=!1,!0}else a[r].constructor===Array?a[r].forEach((function(t){e(t)})):"object"===(0,i.default)(a[r])&&e(a[r])}))}(e),t},getSubmitData:function(){var e=this.houseForm,t=this.releasePlan,a=this.handRoom;return{project_price_type:e.univalenceType,project_min_price:4===e.univalenceType?e.univalenceStart:e.univalence,project_max_price:4===e.univalenceType?e.univalenceEnd:e.univalence,project_total_price_type:e.totalPriceType,project_min_total_price:4===e.totalPriceType?e.totolPriceStart:e.totolPrice,project_max_total_price:4===e.totalPriceType?e.totolPriceEnd:e.totolPrice,project_status:e.saleStatus,volume_data:{type:t.planType,date_year:t.year,date_month:t.month,date_day:t.day,date_ten:t.Period,house_type_ids:t.relevanceHouses,building_ids:t.relevanceBuilding,area_list:t.areaSection?t.areaSection.map((function(e){return{area:e.areaSingle,min_area:e.areaStart,max_area:e.areaEnd}})):[]},staging_data:{type:a.types,date_year:a.year,date_month:a.month,date_day:a.day,date_ten:a.Period,house_type_ids:a.relevanceHouses,building_ids:a.relevanceBuilding,area_list:a.areaSection?a.areaSection.map((function(e){return{area:e.areaSingle,min_area:e.areaStart,max_area:e.areaEnd}})):[]},rate:a.discount.trim()}},updateThisTime:function(e,t){Object.assign(this[e],t),"handRoom"===e?Object.assign(this.homeSourceDate,t):"releasePlan"===e&&Object.assign(this.planSourceDate,t)},setTrack:function(e,t){var a={};t&&Object.assign(a,{fromPage:"p_change_log",toPage:"p_change_log"},t),s.commonFun.setTrackMenu(e,a)},saleStatusChange:function(e){this.setTrack(5908,{project_status:e,toPage:""})},validsingleForm:function(e){var t=!1;return this.$refs[e].validate((function(e){e&&(t=!0)})),t},cancleArea:function(e,t){e.areaSingle="",e.areaStart="",e.areaEnd="",e.showArea=!1},addArea:function(e,t){e.areaSingle="",e.areaStart="",e.areaEnd="",e.showArea=!0},deleteArea:function(e,t){var a=this;this.$confirm("一旦删除则无法恢复确认是否删除！","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a[e].areaSection.splice(t,1)})).catch((function(){a.$message({type:"info",message:"已取消删除"})}))},addAreaSection:function(e){this[e].areaSection.length>=10?this.$message("系统已经无力增加了！如果想添加增多的话，可提交完毕一条后再发布的一条新的信息！"):this[e].areaSection.push({areaSingle:"",areaStart:"",areaEnd:"",showArea:!0})},toAddBuilding:function(e){var t={event:"e_click_add_building",fromModule:"m_project_change_log",toPage:"p_add_building"};"plan"===e?t.timeType=1:"room"===e&&(t.timeType=2),this.setTrack(5909,t),window.open("/index.php?r=cj-building%2Fedit&project_id=".concat(this.$route.query.projectId))}}};t.default=u},a546:function(e,t,a){"use strict";a("af82"),a("a677"),a("f4a0"),a("79dd"),a("3547"),a("9a14"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=this,i={name:"CooperationStatus",props:{cooperationStatus:{type:Array,default:function(){return[]}},bandStatus:{type:Array,default:function(){return[]}},housesInfo:{type:Object,default:function(){}}},created:function(){this.initFormInfo()},data:function(){return{labelWidth:"126px",cooperationForm:{cooperateStatus:"",bandStatus:"",startTime:"",endTime:"",onSaleCount:""},cooprationSts:[]}},watch:{housesInfo:{handler:function(){return r.initFormInfo},deep:!0}},methods:{initFormInfo:function(){var e={startTime:""==this.housesInfo.startTime?"":new Date(1e3*this.housesInfo.startTime),endTime:""===this.housesInfo.endTime?"":new Date(1e3*this.housesInfo.endTime),cooperateStatus:this.getCooperateStatus(this.housesInfo.cooperateStatus,this.housesInfo.outReachStatus)};this.cooperationForm=Object.assign({},this.cooperationForm,this.housesInfo,e)},getCooperateStatus:function(e,t){var a={1:["10","11"],2:["20"],3:["21"]},r="";return Object.keys(a).forEach((function(i){a[i].includes(e+""+t)&&(r=Number(i))})),r},validForm:function(){return this.cooperationForm.startTime&&this.cooperationForm.end_time&&new Date(this.cooperationForm.startTime)>new Date(this.cooperationForm.endTime)?(this.$message("开始时间不得大于结束时间"),{successful:!1,formInfo:""}):{successful:!0,formInfo:{cooperate_band:{status:this.cooperationForm.cooperateStatus,band_status:this.cooperationForm.bandStatus,start_time:this.cooperationForm.startTime,end_time:this.cooperationForm.endTime,sale_house_num:this.cooperationForm.onSaleCount}}}}}};t.default=i},aaf8:function(e,t,a){var r=a("abd8");t=r(!1),t.push([e.i,".el-dialog__wrapper .el-select[data-v-5302fe61]{width:23%;margin-left:8px}.el-dialog__wrapper .el-select[data-v-5302fe61] .el-input__validateIcon{display:none}.el-dialog__wrapper .error[data-v-5302fe61] .el-input__inner{border:1px solid #f1403c;border-radius:4px}.el-dialog__wrapper[data-v-5302fe61] .el-dialog--center .el-dialog__body{padding-bottom:0}.el-dialog__wrapper .hint[data-v-5302fe61]{height:30px;line-height:30px;width:100%;text-align:left;color:red;margin:0 auto;font-size:8px;padding-left:10px;vertical-align:middle;visibility:hidden}.el-dialog__wrapper .hint .hint-star[data-v-5302fe61]{position:relative;top:3px}.el-dialog__wrapper .hint-show[data-v-5302fe61]{visibility:visible}",""]),e.exports=t},bc5b:function(e,t,a){var r=a("876b");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=a("85cb").default;i("90e1d970",r,!0,{sourceMap:!1,shadowMode:!1})},bebe:function(e,t,a){var r=a("91fe"),i=a("2e3d");r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},cf86:function(e,t,a){"use strict";var r=a("9633"),i=a.n(r);i.a},d19d:function(e,t,a){"use strict";a.r(t);var r=a("8f63"),i=a("e93a");for(var n in i)"default"!==n&&function(e){a.d(t,e,(function(){return i[e]}))}(n);a("7727");var o=a("5511"),s=Object(o["a"])(i["default"],r["a"],r["b"],!1,null,"4ff08d14",null);t["default"]=s.exports},d81f:function(e,t,a){"use strict";a.r(t);var r=a("63bf"),i=a.n(r);for(var n in r)"default"!==n&&function(e){a.d(t,e,(function(){return r[e]}))}(n);t["default"]=i.a},d980:function(e,t,a){"use strict";a.r(t);var r=a("1d58"),i=a.n(r);for(var n in r)"default"!==n&&function(e){a.d(t,e,(function(){return r[e]}))}(n);t["default"]=i.a},e760:function(e,t,a){var r=a("aaf8");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=a("85cb").default;i("76f13571",r,!0,{sourceMap:!1,shadowMode:!1})},e90c:function(e,t,a){"use strict";var r=a("91fe"),i=a("fee7"),n=a("8c47"),o=a("fb11"),s=[].join,l=i!=Object,c=o("join",",");r({target:"Array",proto:!0,forced:l||!c},{join:function(e){return s.call(n(this),void 0===e?",":e)}})},e93a:function(e,t,a){"use strict";a.r(t);var r=a("a546"),i=a.n(r);for(var n in r)"default"!==n&&function(e){a.d(t,e,(function(){return r[e]}))}(n);t["default"]=i.a},ead3:function(e,t,a){"use strict";a.r(t);var r=a("05da"),i=a("81cc");for(var n in i)"default"!==n&&function(e){a.d(t,e,(function(){return i[e]}))}(n);a("6543");var o=a("5511"),s=Object(o["a"])(i["default"],r["a"],r["b"],!1,null,"5302fe61",null);t["default"]=s.exports},f065:function(e,t,a){"use strict";var r=a("1f9b"),i=a.n(r);i.a}}]);